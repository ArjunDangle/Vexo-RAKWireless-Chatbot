{"id":"13f16219642099ff5d9ae5aaaa06c183","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module UART Communication and AT Commands Overview","content":"## Introduction\n\nThe RAK811 module is designed to simplify LoRaWAN and LoRa point-to-point (P2P) communication. To integrate LoRa technology into your projects, RAK811 is implemented with an easy-to-use UART communication interface where you can send AT commands. Through these AT commands, you can set the parameters needed for LoRa P2P and LoRaWAN communication. You can even control the available GPIO pins and analog input of RAK811. You can also use any microcontroller with a UART interface to control the RAK811 module.\n\nThe UART serial communication is exposed on the **UART1 port**, through  **Pin 6 (TX1)** and **Pin 7 (RX1)**. The default parameters of the UART1 communication are **115200 / 8-N-1**. The firmware upgrade is also possible through this port. To get familiar with the pin distribution of this module and find a schematic circuit of a reference application, refer to the [RAK811 Module Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#rak811-wisduo-lpwan-module-datasheet). You can also see the summary provided in [Appendix IV](#appendix-iv-pin-description-of-rak811).\n\nThe RAK811 module also exposes another serial port through the **Pin 25 (TX3)** and **Pin 26 (RX3)**. This port is named **UART3** with default parameters **115200 / 8-N-1**. You can use UART3 as an alternative to UART1 when sending AT commands. You can also use UART3 when developing custom firmware via [RUI](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui/).\n\nIn the case that the target application only requires one single UART port, then it is recommended to make use of the UART3 to connect to the MCU and reserve the UART1 for future firmware upgrades.\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":0}
{"id":"e05b99a6d0b531c180476d6a3f7f5913","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"Links to Quick Start Guide for AT Commands","content":"## Links to Quick Start Guide\n\nFor AT commands example usage, you can check these sections of the quick start guide:\n\n- [TTN OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#lorawan-join-mode)\n- [ChirpStack OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#lorawan-join-mode-2)\n- [LoRa P2P](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#lora-p2p-mode)\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":0}
{"id":"e7f2f93d3858756c6ce0e09dbfb4ce78","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK Serial Port Tool for AT Commands","content":"## Software Tool\n\nIf you don't have a serial port tool yet, it is recommended to download and install the RAK Serial Port Tool. There are some ready-made AT commands in this tool that will be very useful for you.\n\n- [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools/)\n\nFor more detailed information on how to use this tool, refer to the following guide:\n\n- [RAK Serial Port Tool Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#connect-to-the-rak811)\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":80}
{"id":"337630ca1211b6b9e6b6a5a4eedec53c","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module AT Command Manual Overview","content":"## Content\n\n- [RAK811 Module AT Command Manual](#rak811-module-at-command-manual)\n  - [Introduction](#introduction)\n  - [Links to Quick Start Guide](#links-to-quick-start-guide)\n  - [Software Tool](#software-tool)\n  - [Content](#content)\n  - [AT Command Syntax](#at-command-syntax)\n  - [Error Code Table](#error-code-table)\n  - [General AT Command](#general-at-command)\n  - [Interface Type AT Command](#interface-type-at-command)\n  - [LoRaWAN Type AT Command](#lorawan-type-at-command)\n  - [LoRa P2P Type AT Command](#lora-p2p-type-at-command)\n  - [Appendix](#appendix)\n    - [Appendix I: Data Rate by Region](#appendix-i-data-rate-by-region)\n    - [Appendix II: TX Power by Region](#appendix-ii-tx-power-by-region)\n    - [Appendix III: Maximum Transmission Load by Region](#appendix-iii-maximum-transmission-load-by-region)\n    - [Appendix IV: Pin Description of RAK811](#appendix-iv-pin-description-of-rak811)\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":0}
{"id":"ca18597db9ed75f5d9592efe3c0ca219","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module AT Command Error Codes","content":"## Error Code Table\n\n| **Error Code** | **Description**                                                                                                                                                                     |\n| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1              | The last command received is an unsupported AT command.                                                                                                                             |\n| 2              | Invalid parameter in the AT command.                                                                                                                                                |\n| 3              | There is an error when reading or writing the flash memory.                                                                                                                         |\n| 4              | There is an error when reading or writing through IIC bus.                                                                                                                          |\n| 5              | There is an error when sending data through the UART port. Check if you exceed 256 bytes UART buffer.                                                                               |\n| 80             | The LoRa transceiver is busy, could not process a new command.                                                                                                                      |\n| 81             | LoRa service is unknown. Unknown MAC command received by the node. Execute commands that are not supported in the current state, such as sending the `at+join` command in P2P mode. |\n| 82             | The LoRa parameters are invalid.                                                                                                                                                    |\n| 83             | The LoRa parameters are invalid.                                                                                                                                                    |\n| 84             | The LoRa data rate (DR) is invalid.                                                                                                                                                 |\n| 85             | The LoRa frequency and data rate are invalid.                                                                                                                                       |\n| 86             | The device has not joined into a LoRa network.                                                                                                                                      |\n| 87             | The length of the packet exceeded that maximum allowed by the LoRa protocol.                                                                                                        |\n| 88             | Service is closed by the server. Due to the limitation of the duty cycle, the server will send the \" SRV_MAC_DUTY_CYCLE_REQ\" MAC command to close the service.                      |\n| 89             | This is an unsupported region code.                                                                                                                                                 |\n| 90             | Duty cycle is restricted. Due to the duty cycle, data cannot be sent at this time until the time limit is removed.                                                                  |\n| 91             | No valid LoRa channel could be found.                                                                                                                                               |\n| 92             | No available LoRa channel could be found.                                                                                                                                           |\n| 93             | Status is error. Generally, the internal state of the protocol stack is wrong.                                                                                                      |\n| 94             | Time out reached while sending the packet through the LoRa transceiver.                                                                                                             |\n| 95             | Time out reached while waiting for a packet in the LoRa RX1 window.                                                                                                                 |\n| 96             | Time out reached while waiting for a packet in the LoRa RX2 window.                                                                                                                 |\n| 97             | There is an error while receiving a packet during the LoRa RX1 window.                                                                                                              |\n| 98             | There is an error while receiving a packet during the LoRa RX2 window.                                                                                                              |\n| 99             | Failed to join into a LoRa network.                                                                                                                                                 |\n| 100            | Duplicate downlink message is detected. A message with an invalid downlink count is received.                                                                                       |\n| 101            | Payload size is not valid for the current data rate (DR).                                                                                                                           |\n| 102            | Many downlink packets are lost.                                                                                                                                                     |\n| 103            | Address fail. The address of the received packet does not match the address of the current node.                                                                                    |\n| 104            | Invalid MIC is detected in the LoRa message.                                                                                                                                        |\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":0}
{"id":"4b02d9f766f35ad50fee0ed098804b7a","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"Data Rate, TX Power, and Maximum Transmission Load by Region","content":"## Appendix\n\n### Appendix I: Data Rate by Region\n\n** EU433/EU868/AS923 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125 kHz | 250                                  |\n| 1         | LoRa: SF11 / 125 kHz | 440                                  |\n| 2         | LoRa: SF10 / 125 kHz | 980                                  |\n| 3         | LoRa: SF9 / 125 kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125 kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125 kHz  | 5470                                 |\n| 6         | LoRa: SF7 / 250 kHz  | 11000                                |\n| 7         | FSK: 50 kbps         | 50000                                |\n| 8 ~ 15    | RFU                       |                                      |\n\n** CN470/KR920 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125 kHz | 250                                  |\n| 1         | LoRa: SF11 / 125 kHz | 440                                  |\n| 2         | LoRa: SF10 / 125 kHz | 980                                  |\n| 3         | LoRa: SF9 / 125 kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125 kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125 kHz  | 5470                                 |\n| 6 ~ 15    | RFU                       |                                      |\n\n** US915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF10 / 125 kHz | 980                                  |\n| 1         | LoRa: SF9 / 125 kHz  | 1760                                 |\n| 2         | LoRa: SF8 / 125 kHz  | 3125                                 |\n| 3         | LoRa: SF7 / 125 kHz  | 5470                                 |\n| 4         | LoRa: SF8 / 500 kHz  | 12500                                |\n| 5 ~ 7     | RFU                       |                                      |\n| 8         | LoRa: SF12 / 500 kHz | 980                                  |\n| 9         | LoRa: SF11 / 500 kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500 kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500 kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500 kHz  | 12500                                |\n| 13        | LoRa: SF7 / 500 kHz  | 21900                                |\n| 14 ~ 15   | RFU                       |                                      |\n\n** AU915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125 kHz | 250                                  |\n| 1         | LoRa: SF11 / 125 kHz | 440                                  |\n| 2         | LoRa: SF10 / 125 kHz | 980                                  |\n| 3         | LoRa: SF9 / 125 kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125 kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125 kHz  | 5470                                 |\n| 6         | LoRa: SF8 / 500 kHz  | 12500                                |\n| 7         | RFU                       | RFU                                  |\n| 8         | LoRa: SF12 / 500 kHz | 980                                  |\n| 9         | LoRa: SF11 / 500 kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500 kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500 kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500 kHz  | 12500                                |\n\n** IN865 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125 kHz | 250                                  |\n| 1         | LoRa: SF11 / 125 kHz | 440                                  |\n| 2         | LoRa: SF10 / 125 kHz | 980                                  |\n| 3         | LoRa: SF9 / 125 kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125 kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125 kHz  | 5470                                 |\n| 6         | RFU                       | RFU                                  |\n| 7         | FSK: 50 kbps         | 50000                                |\n| 8 ~ 15    | RFU                       | RFU                                  |\n\n### Appendix II: TX Power by Region\n\n** EU868 **\n\nBy default, MaxEIRP is considered to be +16 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2 dB  |\n| 2       | MaxEIRP - 4 dB  |\n| 3       | MaxEIRP - 6 dB  |\n| 4       | MaxEIRP - 8 dB  |\n| 5       | MaxEIRP - 10 dB |\n| 6       | MaxEIRP - 12 dB |\n| 7       | MaxEIRP - 14 dB |\n| 8 ~ 15  | RFU                  |\n\n** US915 **\n\nBy default, MaxEIRP is considered to be +30 dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20 dBm.\n\n| TXPower | Configuration (Conducted Power) |\n| :-----: | :-----------------------------: |\n| 0       | MaxEIRP                         |\n| 1       | MaxEIRP - 2 dB             |\n| 2       | MaxEIRP - 4 dB             |\n| 3 ~ 9   | -                               |\n| 10      | 10 dBm                     |\n| 11 ~ 15 | RFU                             |\n\n** AU915 **\n\nBy default, MaxEIRP is considered to be +30 dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1 ~ 10  | MaxEIRP - 2*TXPower  |\n| 11 ~ 10 | RFU                  |\n\n** KR920 **\n\nBy default, MaxEIRP is considered to be +14 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2 dB  |\n| 2       | MaxEIRP - 4 dB  |\n| 3       | MaxEIRP - 6 dB  |\n| 4       | MaxEIRP - 8 dB  |\n| 5       | MaxEIRP - 10 dB |\n| 6       | MaxEIRP - 12 dB |\n| 7       | MaxEIRP - 14 dB |\n| 8 ~ 15  | RFU                  |\n\n** AS923 **\n\nBy default, Max EIRP is considered to be 16 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2 dB  |\n| 2       | MaxEIRP - 4 dB  |\n| 3       | MaxEIRP - 6 dB  |\n| 4       | MaxEIRP - 8 dB  |\n| 5       | MaxEIRP - 10 dB |\n| 6       | MaxEIRP - 12 dB |\n| 7       | MaxEIRP - 14 dB |\n| 8 ~ 15  | RFU                  |\n\n** IN865 **\n\nBy default, MaxEIRP is considered to be +30 dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2 dB  |\n| 2       | MaxEIRP - 4 dB  |\n| 3       | MaxEIRP - 6 dB  |\n| 4       | MaxEIRP - 8 dB  |\n| 5       | MaxEIRP - 10 dB |\n| 6       | MaxEIRP - 12 dB |\n| 7       | MaxEIRP - 14 dB |\n| 8       | MaxEIRP - 16 dB |\n| 9       | MaxEIRP - 18 dB |\n| 10      | MaxEIRP - 20 dB |\n| 11 ~ 15 | RFU                  |\n\n** CN470 **\n\nBy default, MaxEIRP is considered to be +19.15 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP 2 dB    |\n| 2       | MaxEIRP 4 dB    |\n| 3       | MaxEIRP 6 dB    |\n| 4       | MaxEIRP 8 dB    |\n| 5       | MaxEIRP - 10 dB |\n| 6       | MaxEIRP - 12 dB |\n| 7       | MaxEIRP - 14 dB |\n| 8 ~ 15  | RFU                  |\n\n** EU433 **\n\nBy default, MAxEIRP is considered to be +12.15 dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2 dB  |\n| 2       | MaxEIRP - 4 dB  |\n| 3       | MaxEIRP - 6 dB  |\n| 4       | MaxEIRP - 8 dB  |\n| 5       | MaxEIRP - 10 dB |\n| 6 ~ 15  | RFU                  |\n\n### Appendix III: Maximum Transmission Load by Region\n\n\n> **TIP:** NOTE\nM in the following list is the length with MAC header, N is the maximum usable payload size for the user data without MAC header.\n\n\n** EU868 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n** US915 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 19          | 11          |\n| 1         | 61          | 53          |\n| 2         | 133         | 125         |\n| 3         | 250         | 242         |\n| 4         | 250         | 242         |\n| 5 ~ 7     | Not Defined | Not Defined |\n| 8         | 61          | 53          |\n| 9         | 137         | 129         |\n| 10        | 250         | 242         |\n| 11        | 250         | 242         |\n| 12        | 250         | 242         |\n| 13        | 250         | 242         |\n| 14 ~ 15   | Not Defined | Not Defined |\n\n** AU915 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | Not Defined | Not Defined |\n| 8         | 61          | 53          |\n| 9         | 137         | 129         |\n| 10        | 250         | 242         |\n| 11        | 250         | 242         |\n| 12        | 250         | 242         |\n| 13        | 250         | 242         |\n| 14 ~ 15   | Not Defined | Not Defined |\n\n** KR920 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6 ~ 15    | Not Defined | Not Defined |\n\n** AS923 **\n\n| Data Rate | Uplink MAC Payload Size (M) | Downlink MAC Payload Size (M) |  |  |\n| --- | --- | --- | --- | --- |\n|  | UplinkDwellTime = 0 | UplinkDwellTime = 1 | DownlinkDwellTime = 0 | DownlinkDwellTime = 1 |\n| 0 | 59 | N/A | 59 | N/A |\n| 1 | 59 | N/A | 59 | N/A |\n| 2 | 59 | 19 | 59 | 19 |\n| 3 | 123 | 61 | 123 | 61 |\n| 4 | 250 | 133 | 250 | 133 |\n| 5 | 250 | 250 | 250 | 250 |\n| 6 | 250 | 250 | 250 | 250 |\n| 7 | 250 | 250 | 250 | 250 |\n| 8 | RFU | RFU | RFU | RFU |\n\n** IN865 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n** CN470 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6 ~ 15    | Not Defined | Not Defined |\n\n** EU433 **\n\n| Data Rate | M           | N           |\n| :-------: | :---------: | :---------: |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n### Appendix IV: Pin Description of RAK811\n\nThe pin definition of the RAK811 module can be reviewed in the [Pin Definition](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#pin-definition) section of the Datasheet.\n\nListed are the summary of the pins of the RAK811 module:\n\n1. **About the UART Pin**:\n    - Pin 6 (TX1) and Pin 7 (RX1) are reserved for UART1.\n    - Pin 25 (TX3) and Pin 26 (RX3) are reserved for UART3.\n    - During sleep, Pin 7 (RX1) and Pin 26 (RX3) are automatically configured as wake-up pins and in external interrupt mode with an internal pull-down resistor. Wake up will be triggered by a rising edge on these RX pins.\n\n2. **About the SWD Debug Pin**: Pin 10 (SWDIO) and Pin 13 (SWCLK) are used for SWD connection.\n\n3. **About the Power Pin**: The power pin on the RAK811 module includes VCC/GND, Pin 1, Pin 11, Pin 12, Pin 21, Pin 28, Pin 29, Pin 30, Pin 31, Pin 32, and Pin 34;\n\n4. **About the Reset Pin**: The reset pin on the RAK811 module is Pin 24.\n\n5. **About the BOOT Pin**: The BOOT0 pin on the RAK811 module is Pin 17.\n\n6. **About the RF Antenna Pin**: The RF antenna pin on the RAK811 module is the Pin 33.\n\n7. **About the ADC Pin**: The ADC pins available on the RAK811 are different between the high and low-frequency modules.\n\n- In the low-frequency modules, the ADC pins are the following: Pin 2, Pin 3, Pin 4, Pin 5, Pin 15, Pin 20, Pin 22, and Pin 23.\n\n- In the high-frequency modules, the ADC pins are the following: Pin 2, Pin 3, Pin 4, Pin 20, Pin 22, and Pin 23.\n\n8. **About the GPIO**: The GPIO pins available on the RAK811 module are Pin 2, Pin 3, Pin 4, Pin 5, Pin 8, Pin 9, Pin 14, Pin 15, Pin 16, Pin 18, Pin 19, Pin 20, Pin 22, Pin 23, and Pin 27.\n\n\n> **TIP:** NOTE\n\nIf you want to use the RAK811 module to make a product, you should understand how to upgrade the RAK811 firmware in the future. As mentioned, the firmware of the RAK811 module can be upgraded through the SWD or UART1 port. Both require a general-purpose PC.\n\n\n","keywords":[],"source_file":"wisduo\\rak811-module\\at-command-manual.md","token_count":0}
{"id":"06b6b9dc74397c9fd02520d058c816d4","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module Overview and Features","content":"## Overview\n\n### Description\n\nThe RAK811 is a Low-Power Long-Range LoRa Technology Transceiver module that provides an easy-to-use, small size, and low-power solution for long-range wireless data applications.\n\nThis module complies with Class A & C of LoRaWAN 1.0.2 specifications that can easily connect to different LoRaWAN server platforms like TheThingsNetwork (TTN), Chirpstack, Actility, etc. It also supports LoRa Point-to-Point (P2P) communication mode, which helps you in implementing your own customized long-range LoRa network quickly.\n\nThe RAK811 module is integrated with Semtech’s SX1276 and STM32. You can configure the mode and operation of the module using AT commands via a UART interface. Also, it offers low-power features, which are very suitable for battery-powered applications.\n\n### Features\n\n- Based on **Semtech SX1276**\n- **LoRaWAN 1.0.2** specification compliant\n- **Supported bands**: EU433, CN470, IN865, EU868, AU915, US915, KR920, and AS923\n- LoRaWAN Activation by OTAA/ABP\n- LoRa Point-to-Point (P2P) communication\n- Easy to use AT Command Set via UART interface with configurable baud rate\n- Maximum output power 100 mW (20 dBm), adjustable from 5~20 dBm\n- High sensitivity at -148 dBm, enabling extremely long-range connectivity\n- Long-range - greater than 15 km with optimized antenna\n- Low power consumption: 11 μA on standby\n- Ultra-Low Power Consumption of 11.9 μA (down to 1.11 μA @ 2.1 V) in sleep mode\n- Multi-channel, dual data buffer (256 bytes each)\n- LoRa/FSK/GFSK/OOK modulation, bidirectional two-way communication\n- Long battery life for battery-powered applications\n- LoRa technology is capable of demodulating 20 dB below noise level which significantly improves immunity to interference when combined with integrated forward error\n- **Operating temperature**: -30° C ~ 85° C (industrial grade)\n- **Storage temperature**: -40° C ~ 85° C (non-condensing)\n","keywords":[],"source_file":"wisduo\\rak811-module\\datasheet.md","token_count":0}
{"id":"1781c12ed57e50245eb3eba24647da96","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module Specifications and Pin Definitions","content":"## Specifications\n\nThis section covers the hardware and software specifications of RAK811. All discussion presents both versions: RAK811(L) and RAK811(H). Also, it includes the block diagram and the updated firmware link of the RAK811 WisDuo module.\n\n### Overview\n\n#### Block Diagram\n\n> **Image:** RAK811 System Block Diagram\n\n### Hardware\n\nThe hardware specification is categorized into six parts. It discusses the pinouts of the module and its corresponding functions and diagrams. It also covers the RF, electrical, environmental, and mechanical parameters that include the tabular data of the functionalities and standard values of the RAK811 Module.\n\n#### Interfaces\n\n| Module | Interfaces               |\n| :----: | :----------------------: |\n| RAK811 | UART1, UART3, GPIOs, ADC |\n\n#### Pin Definition\n\nThe RAK811 supports two different frequency variations: **Low Radio Frequency** and **High Radio Frequency**.\n\n\n> **WARNING:** When using `RF_OUT` pin for antenna and not the IPEX connector variant, there are design considerations to make sure optimum RF performance.\n\n- RF trace must be away from interference (switching node of DC-DC supply, high current/voltage pulses from controllers of inductive load like motor, signal generators, etc.)\n- RF trace must have 50 Ohms impedance. It is advisable to use an impedance simulation software tool to achieve this requirement.\n- If using an external antenna connector, make it close to the `RF_OUT` pin.\n- Ground plane optimization is critical on certain antenna types like monopole.\n- GND trace used for RF path return must be directly connected to the GND plane and not be treated as thermal relief.\n- It is recommended for the RF trace to be routed in a curve and not in a sharp 90 degrees.\n\nIn addition, with a commitment to making IoT easy, RAK offers a dedicated service for [Antenna RF Design](https://store.rakwireless.com/products/antenna-rf-design-service-including-pcb-design-tuning-matching-and-rf-test) which includes PCB design, tuning, matching, and RF testing.\n\n\n##### 1. Low Radio Frequency Version (RAK811(L))\n\nLow radio frequency hardware supports bandwidth in the regions of EU433 and CN470. For more information, refer to the [RF Characteristics](#rf-characteristics).\n\n###### Low RF Version Pin Outline\n\n> **Image:** Board Pinout for RAK811 Low RF\n\n###### Low RF Version Pin Definition\n\n| **Pin No.** | **Name**      | **Type** | **Description**                             |\n| ----------- | ------------- | -------- | ------------------------------------------- |\n| 1           | GND           |          | Ground connections                          |\n| 2           | PB12/ADC      | I/O      | GPIO and ADC                                |\n| 3           | PB14/ADC      | I/O      | GPIO and ADC                                |\n| 4           | PB15/ADC      | I/O      | GPIO and ADC                                |\n| 5           | PB13/ADC      | I/O      | GPIO and ADC                                |\n| 6           | PA9/UART1_TX  | O        | UART1 Interface (AT Commands and FW Update) |\n| 7           | PA10/UART1_RX | I        | UART1 Interface (AT Commands and FW Update) |\n| 8           | PA12          | I/O      | GPIO only                                   |\n| 9           | PA11          | I/O      | GPIO only                                   |\n| 10          | PA13          | I/O      | SWD debug pin (SWDIO)                       |\n| 11          | VCC           | P        | Main power voltage source input             |\n| 12          | GND           |          | Ground connections                          |\n| 13          | PA14          | I/O      | SWD debug pin (SWCLK)                       |\n| 14          | PA15          | I/O      | GPIO only                                   |\n| 15          | PA3           | I/O      | GPIO and ADC                                |\n| 16          | PB5           | I/O      | GPIO only                                   |\n| 17          | BOOT0         | I        | Boot0 mode enable pin - high active         |\n| 18          | PB6/I2C1_SCL  | I/O      | GPIO and I2C (SCL)                          |\n| 19          | PB7/I2C1_SDA  | I/O      | GPIO and I2C (SDA)                          |\n| 20          | PA2/ADC       | I/O      | GPIO and ADC                                |\n| 21          | GND           |          | Ground connections                          |\n| 22          | PA1/ADC       | I/O      | GPIO and ADC                                |\n| 23          | PA0/ADC       | I/O      | GPIO and ADC                                |\n| 24          | RST           | I        | Reset trigger input - low active            |\n| 25          | PB10/UART3_TX | I/O      | UART3 Interface (AT Commands)               |\n| 26          | PB11/UART3_RX | I/O      | UART3 Interface (AT Commands)               |\n| 27          | BOOT1         | I        | Boot1 mode enable pin                       |\n| 28          | GND           |          | Ground connections                          |\n| 29          | GND           |          | Ground connections                          |\n| 30          | GND           |          | Ground connections                          |\n| 31          | GND           |          | Ground connections                          |\n| 32          | GND           |          | Ground connections                          |\n| 33          | RF_OUT        | I/O      | RF I/O port                                 |\n| 34          | GND           |          | Ground connections                          |\n\n##### LoRa Transceiver IC Connection to RAK811(L) Internal STM32\n\n| **LoRa IC Pin** | **STM32 GPIO** |\n| :-------------: | :------------: |\n|      SX_D0      |      PB4       |\n|      SX_D1      |      PB1       |\n|      SX_D2      |      PB9       |\n|      SX_D3      |      PH0       |\n|      SX_D4      |      PC13      |\n|    SPI_SCLK     |      PA5       |\n|    SPI_MISO     |      PA6       |\n|    SPI_MOSI     |      PA7       |\n|     SPI_NSS     |      PB0       |\n|    SX_NRESET    |      PA8       |\n|    SX_GPIO0     |      PH1       |\n|    SX_RF_LF     |      PB8       |\n|    SX_RF_RX     |      PB3       |\n|    SX_RF_PA     |      PA4       |\n\n##### RF Switch Control Logic Table\n\n| **SX_RF_LF** | **SX_RF_RX** | **SX_RF_PA** | **Condition** |\n| :----------: | :----------: | :----------: | :-----------: |\n| 0            | 1            | 0            | RX mode       |\n| 0            | 0            | 1            | TX mode       |\n\n##### 2. High Radio Frequency Version (RAK811(H))\n\nHigh radio frequency hardware supports the regions of EU868, US915, AU915, KR920, AS923, and IN865. For more information, refer to the [RF Characteristics](#rf-characteristics).\n\n###### High RF Version Pin Outline\n\n> **Image:** Board Pinout for RAK811 High RF\n\n###### High RF Version Pin Definition\n\n| **Pin No.** | **Name**      | **Type** | **Description**                             |\n| ----------- | ------------- | -------- | ------------------------------------------- |\n| 1           | GND           |          | Ground connections                          |\n| 2           | PB12/ADC      | I/O      | GPIO and ADC                                |\n| 3           | PB14/ADC      | I/O      | GPIO and ADC                                |\n| 4           | PB15/ADC      | I/O      | GPIO and ADC                                |\n| 5           | PA8           | I/O      | GPIO only                                   |\n| 6           | PA9/UART1_TX  | O        | UART1 Interface (AT Commands and FW Update) |\n| 7           | PA10/UART1_RX | I        | UART1 Interface (AT Commands and FW Update) |\n| 8           | PA12          | I/O      | GPIO only                                   |\n| 9           | PB4           | I/O      | GPIO only                                   |\n| 10          | PA13          | I/O      | SWD debug pin (SWDIO)                       |\n| 11          | VCC           | P        | Main power voltage source input             |\n| 12          | GND           |          | Ground connections                          |\n| 13          | PA14          | I/O      | SWD debug pin (SWCLK)                       |\n| 14          | PA15          | I/O      | GPIO only                                   |\n| 15          | PB3           | I/O      | GPIO only                                   |\n| 16          | PB5           | I/O      | GPIO only                                   |\n| 17          | BOOT0         | I        | Boot mode GPIO enable pin - high active     |\n| 18          | PB8/I2C1_SCL  | I/O      | GPIO and I2C (SCL)                          |\n| 19          | PB9/I2C1_SDA  | I/O      | GPIO and I2C (SDA)                          |\n| 20          | PA2/ADC       | I/O      | GPIO and ADC                                |\n| 21          | GND           |          | Ground connections                          |\n| 22          | PA1/ADC       | I/O      | GPIO and ADC                                |\n| 23          | PA0/ADC       | I/O      | GPIO and ADC                                |\n| 24          | RST           | I        | Reset trigger input - low active            |\n| 25          | PB10/UART3_TX | I/O      | UART3 Interface (AT Commands)               |\n| 26          | PB11/UART3_RX | I/O      | UART3 Interface (AT Commands)               |\n| 27          | PB2           | I        | Boot1 mode enable pin                       |\n| 28          | GND           |          | Ground connections                          |\n| 29          | GND           |          | Ground connections                          |\n| 30          | GND           |          | Ground connections                          |\n| 31          | GND           |          | Ground connections                          |\n| 32          | GND           |          | Ground connections                          |\n| 33          | RF_OUT        | I/O      | RF I/O port                                 |\n| 34          | GND           |          | Ground connections                          |\n\n##### LoRa Transceiver IC Connection to RAK811(HF) Internal STM32\n\n| **LoRa IC Pin** | **STM32 GPIO** |\n| :-------------: | :------------: |\n|      SX_D0      |      PA11      |\n|      SX_D1      |      PB1       |\n|      SX_D2      |      PA3       |\n|      SX_D3      |      PH0       |\n|      SX_D4      |      PC13      |\n|    SPI_SCLK     |      PA5       |\n|    SPI_MISO     |      PA6       |\n|    SPI_MOSI     |      PA7       |\n|     SPI_NSS     |      PB0       |\n|    SX_NRESET    |      PB13      |\n|    SX_GPIO0     |      PH1       |\n|    SX_RF_HF     |      PB7       |\n|    SX_RF_RX     |      PB6       |\n|    SX_RF_PA     |      PA4       |\n\n##### RF Switch Control Logic Table\n\n| **SX_RF_HF** | **SX_RF_RX** | **SX_RF_PA** | **Condition** |\n| :----------: | :----------: | :----------: | :-----------: |\n| 0            | 1            | 0            | RX mode       |\n| 0            | 0            | 1            | TX mode       |\n\n#### RF Characteristics\n\n##### Operating Frequencies\n\n| Module    | Region        | Frequency |\n| :-------: | :-----------: | :-------: |\n| RAK811(L) | Europe        | EU433     |\n|           | China         | CN470     |\n| RAK811(H) | Europe        | EU868     |\n|           | North America | US915     |\n|           | Australia     | AU915     |\n|           | Korea         | KR920     |\n|           | Asia          | AS923     |\n|           | India         | IN865     |\n\n| Feature        | Condition | Minimum | Typical | Maximum | Unit |\n| :------------: | :-------: | :-----: | :-----: | :-----: | :--: |\n| Transmit       | TX Power  |         | 14      | 20      | dBm  |\n| RX Sensitivity | RSSI      | -130    |         |         | dBm  |\n|                | SNR       | -15     |         |         | dB   |\n\n#### Electrical Characteristics\n\n##### Schematic Diagram\n\nRAK811 supports two UARTs: UART1 (pin6-TX1, pin7-RX1) and UART3 (pin25-TX3, pin26-RX3). UART1 is used for upgrading firmware, so it is recommended that UART3 be used when connecting with external MCU.\n\n###### Low Radio Frequency\n\n> **Image:** RAK811 Low Frequency Schematic Diagram\n\n> **Image:** RAK811 Low Frequency Schematic Diagram\n\n###### High Radio Frequency\n\n> **Image:** RAK811 High Frequency Schematic Diagram\n\n> **Image:** RAK811 High Frequency Schematic Diagram\n\n###### Reference Design\n\n> **Image:** Reference Design\n\n##### Operating Voltage\n\n| Feature | Minimum | Typical | Maximum | Unit      |\n| :-----: | :-----: | :-----: | :-----: | :-------: |\n| VCC     | 2.1     | 3.3     | 3.45    | Volts (V) |\n\n##### Operating Current\n\n| Feature           | Condition | Minimum                 | Typical | Maximum | Unit |\n| :---------------: | :-------: | :---------------------: | :-----: | :-----: | :--: |\n| Operating Current | TX Power  | 30 (@ 14 dBm) |         |         | mA   |\n|                   | RX Mode   | 5.5                     |         |         | mA   |\n\n##### Sleep Current\n\n| Feature             | Condition | Minimum (2.1V) | Typical (3.3V) | Maximum | Unit |\n| :-----------------: | :-------: | :------------: | :------------: | :-----: | :--: |\n| Current Consumption | EU868     | 8.37           | 11.9           |         | μA   |\n|                     | US915     | 1.11           | 11.8           |         | μA   |\n|                     | CN470     | 1.65           | 3.07           |         | μA   |\n\n#### Mechanical Characteristics\n\n##### Module Dimensions\n\n> **Image:** RAK811 Physical Dimension\n\n##### Layout Recommendation\n\n> **Image:** RAK811 Layout\n\n#### Environmental Characteristics\n\n##### Operating Temperature\n\n| Feature               | Minimum | Typical | Maximum | Unit |\n| :-------------------: | :-----: | :-----: | :-----: | :--: |\n| Operating Temperature | -30     | 25      | 85      | °C   |\n\n##### Storage Temperature\n\n| Feature             | Minimum | Typical | Maximum | Unit |\n| :-----------------: | :-----: | :-----: | :-----: | :--: |\n| Storage Temperature | -40     |         | 85      | °C   |\n\n##### Reflow Profile\n\nReferred to IPC/JEDEC standard:\n\n- MSL Rating : Class 3\n- Peak Temperature : < 250° C\n- Number of Times : ≤ 2 times\n\n> **Image:** Reflow Profile for RAK811\n\n### Software\n\nDownload the latest firmware of the RAK811 WisDuo LPWAN Module — both in low and high frequency — provided in the table below.\n\n\n> **TIP:** NOTE\n\nThe **bin file** contains the application code only, and you need the RAK DFU Tool to upload this file to the module.\n\nThe **hex file** contains both the bootloader and the application code. You need to use STM32CubeProgrammer to upload this.\n\n\n#### Firmware / OS\n\n| Model     | Version     | Source                                                                                               |\n| :-------: | :---------: | :--------------------------------------------------------------------------------------------------: |\n| RAK811(L) | V3.0.0.14.L | [Download](https://downloads.rakwireless.com/LoRa/RAK811/Firmware/RAK811%28L%29_Latest_Firmware.zip) |\n| RAK811(H) | V3.0.0.14.H | [Download](https://downloads.rakwireless.com/LoRa/RAK811/Firmware/RAK811%28H%29_Latest_Firmware.zip) |\n","keywords":[],"source_file":"wisduo\\rak811-module\\datasheet.md","token_count":0}
{"id":"a9022d4c788f14115cea5e85d6f1e271","product_family":"wisduo","product_id":"rak811-module","category":"Reference","title":"RAK811 Module Certification Documents","content":"## Certification\n\n### Certifications\n- **CE:** https://downloads.rakwireless.com/LoRa/RAK7289V2/Certification/RAK7289_RAK7289V2_CE_Certification.pdf\n- **FCC:** https://downloads.rakwireless.com/LoRa/RAK7289V2/Certification/RAK7289_FCC_Certification.pdf\n- **KC:** https://downloads.rakwireless.com/LoRa/RAK7289V2/Certification/RAK7289_RAK7289C_RAK7289V2_RAK7289CV2_KC_Certification.pdf\n- **JRL:** https://downloads.rakwireless.com/LoRa/RAK811/Certification_Report/RAK811_MIC_Certification.zip\n- **ROHS:** https://downloads.rakwireless.com/LoRa/RAK7289V2/Certification/RAK7289C_RAK7289_RAK7289CV2_RAK7289V2_RoHS_Report.pdf\n\n","keywords":[],"source_file":"wisduo\\rak811-module\\datasheet.md","token_count":0}
{"id":"21b9f4eb5fcb4583c698c6ee3d29ef66","product_family":"wisduo","product_id":"rak811-module","category":"Concept","title":"RAK811 Module Firmware Customization Overview","content":"## Overview\n\nRAK811 module comes with a standard version of firmware that allows you to configure its functionality via AT commands. This simplicity helps you develop LoRa(P2P) and LoRaWAN projects quickly.\n\nFurther customization of the firmware can be done through the [RUI (RAKwireless Unified Interface) Online compiler](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui/). RAK's LoRaWAN node modules support not only out-of-the-box integration via AT commands but also allow you to customize RAK811 firmware and access other functionalities of the internal MCU using RUI API. More so, you can adapt and extend the logic in the firmware to meet your requirements.\n\nAdditionally, RAK offers a third alternative for advanced customers who need to have deeper integration of their solutions with these modules. In this alternative, you could develop your own version of STM32 firmware that runs inside of the RAK811 module.\n","keywords":[],"source_file":"wisduo\\rak811-module\\low-level-development.md","token_count":150}
{"id":"07468672c263e16633deb872ce3b6ed7","product_family":"wisduo","product_id":"rak811-module","category":"How-To","title":"How to Implement Your Own Firmware on RAK811 Module","content":"## How to Implement Your Own Firmware on RAK811 Module\n\n### Schematic\n\nOne of the essential aspects that allow customers to develop their own version of firmware is the [RAK811 Hardware Schematic](https://downloads.rakwireless.com/#LoRa/RAK811/Hardware_Specification/). This allows the customers to understand the module’s pinout and the connections between the internal STM32 MCU and the LoRa transceiver. Other important details can be found on [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/).\n\n\n> **TIP:** NOTE\n\nThere are two versions of the RAK811 module: the high-frequency bands RAK811(H) used on EU868, US915, AU915, KR920, AS923, and IN865, and the low-frequency bands RAK811(L) used on EU433 and CN470. These two modules have few differences in their schematic diagram that you should be aware of when you develop your own firmware.\n\n\n### Porting Lora Protocol Stack\n\nWhen implementing the LoRa protocol stack, special attention must be given to the SPI connections since the LoRa transceivers are controlled by the MCU through an SPI interface. Hence, the following are the important pins: **SPI1_MISO, SPI1_MOSI, SPI_NSS, SPI_CLK**.\n\nAdditionally, the DIO pins and RF signal paths are significant as well to have functional LoRa communication. Another important thing to consider is the RF switch logic table. The complete details of pin connections can be found on the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/).\n\nAfter that, the **Real-Time Clock (RTC)** must be properly configured in the MCU to ensure accurate timing of the protocol stack during the runtime. Finally, the protocol stack code can be added after configuring the other pins.\n\n### Application\n\nOnce the porting of the protocol stack is ready, you can focus on the development of their applications. There are two options you can choose with:\n\n    a. Develop your own bootloader.\n\n    b. Use RAK bootloader and the upgrade the custom firmware by using [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/).\n\nIf you want to fully develop your own, you can refer to the schematic diagram and the datasheet of the MCU to implement the code. But if you want to use the RAK bootloader, continue reading the next section.\n\n### Bootloader\n\nAfter the power is connected, the system bootloader will set up the Interrupt Vector table, initialize variables, and jump to the address of the main() symbol.\n\nFigure 1 below shows the usual memory map of an ARM Cortex M3 MCU, which is the architecture of the MCU of the RAK811.\n\n> **Image:** Usual memory map for an ARM Cortex M3 MCU\n\nThe flash section is between the 0x0800 0000 and 0x080X 0000. X depends on the different models of MCU.\n\nThe RAK bootloader is stored in the internal flash section and has a size of 12K, located between 0x0800 0000 to 0x0800 2FFF. Its primary function is to write a new version of firmware received from the serial port into the flash memory section. The bootloader uses the Ymodem protocol and supervises all possible exceptions internally during the upgrade process. When the upgrade process is interrupted, the bootloader will detect abnormal events, and the FW upgrade will fail. You can perform the FW upgrade again using the bootloader after recycling the power.\n\nThe RAK811 bootloader uses flash memory segments between 0x0808 0F00 and 0x0808 0FFF to store its parameters.\nIn the bootloader parameter storage area, 256 bytes are reserved for bootloading process, but only two words are used to store the jump flag and upgrade the status flag.\n\nFinally, the serial port to communicate with the RAK bootloader in these modules is the UART1 (pin PA9, pin PA10). The parameters of the UART communication are the 115200 / 8-N-1, which need to be configured properly in the RAK firmware upgrade tool.\n\n### Application Requirements\n\nSince the RAK bootloader is stored between the 0x0800 0000 and 0x0800 2FFF segments of the flash memory, your application should be shifted accordingly. In the application code, you need to modify the interrupt vector table address as the following:\n\nSCB->VTOR = FLASH_BASE | 0x3000;\n\nIn the linker, the script must be updated accordingly. For example, in case you use GCC, modify your linker script like the following:\n\nFLASH (rx): ORIGIN = 0x8003000, LENGTH = 116K\n\nYour application firmware should implement as a minimum one AT command: **`at+boot\\r\\n`**. The function of this command is to jump from the application state into the bootloader state in preparation for the further application firmware upgrade. The logic of this command are the following:\n\n1. For RAK811, write the value **0x00000000** into the address **0x0808 0F00**.\n\n2. Reset MCU. You can call the **NVIC_SystemReset() interface** in the ST library to reset the MCU.\n\n\n> **TIP:** NOTE\n\nThe bootloader turned off the global interrupt when jumping from the application state. Therefore, when the application code is initialized, the global interrupt should be turned on again.\n","keywords":[],"source_file":"wisduo\\rak811-module\\low-level-development.md","token_count":0}
{"id":"0777eee09bf3a8d346d470d58c8a0367","product_family":"wisduo","product_id":"rak811-module","category":"Concept","title":"RAK811 WisDuo LPWAN Module Overview","content":"# RAK811 WisDuo LPWAN Module\n\nThank you for choosing **RAK811 WisDuo LPWAN Module** in your awesome IoT Project! 🎉 To help you get started, we have provided you all the necessary documentation for your product.\n\n* [Quick Start Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/)\n* [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/at-command-manual/)\n* [RUI Customized Development](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui) - RAK811 module supports RUI (RAKwireless Unified Interface) Customized Development.\n* [Low Level Development](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/low-level-development/) - RAK811 module supports low level development where you can create customized firmware using the RAK811 hardware. You can either use the RUI (RAK Unified Interface) or develop your own firmware for STM32.\n* [RAK811 for Arduino Hardware](https://docs.rakwireless.com/product-categories/wisduino) - The core module of WisDuino is the RAK811 LPWAN Module and its interface supports Arduino standard headers. For more info about the Arduino library for RAK811, refer to the [Official RAK811 Arduino Library](https://github.com/RAKWireless/WisNode-Arduino-Library).\n* [Arduino Open Source Framework via STM32 Core](https://github.com/RAKWireless/Evaluation_Boards/tree/master/RAK811) - You can directly program the STM32 inside RAK811 via Arduino platform so you will not need any external MCU.\n* [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/)\n* [RAK811 3D Model](https://downloads.rakwireless.com/3D_File/WisDuo/PWB-RAK811.stp)\n* [Reference Design](https://docs.rakwireless.com/product-categories/wisduo/rak811-breakout-board/datasheet/#schematic-diagram)\n","keywords":[],"source_file":"wisduo\\rak811-module\\overview.md","token_count":0}
{"id":"b6c3b9bea8cb0b174660e2db82d2cb01","product_family":"wisduo","product_id":"rak811-module","category":"Concept","title":"RAK811 Module Overview: Low-Power Long-Range LoRa Transceiver","content":"## Product Description\n\nRAK811 Low-Power Long-Range LoRa Technology Transceiver module provides an easy-to-use, small size, and low-power solution for long-range wireless data applications.\n\nThis module complies with Class A & C of LoRaWAN 1.0.2 specifications. It can easily connect to different LoRaWAN server platforms like TheThingsNetwork (TTN), Chirpstack, Actility, etc. It also supports LoRa Point-to-Point (P2P) communication mode which helps you in implementing your own customized long-range LoRa network quickly.\n\nThe RAK811 module is integrated with Semtech’s SX1276 and STM32. You can configure the mode and operation of the module using AT commands via a UART interface. RAK811 also offers low-power features, which are very suitable for battery-powered applications.\n","keywords":[],"source_file":"wisduo\\rak811-module\\overview.md","token_count":120}
{"id":"f04ea0d046e9dedf794c8cc957f62914","product_family":"wisduo","product_id":"rak811-module","category":"Concept","title":"RAK811 Module Product Features Overview","content":"## Product Features\n\n- Based on **Semtech SX1276**\n- **LoRaWAN 1.0.2** specification compliant\n- **Supported bands**: EU433, CN470, IN865, EU868, AU915, US915, KR920, and AS923\n- LoRaWAN Activation by OTAA/ABP\n- LoRa Point-to-Point (P2P) communication\n- Easy to use AT Command Set via UART interface with configurable baud rate\n- Maximum output power 100 mW (20 dBm), adjustable from 5~20 dBm\n- High sensitivity at -148 dBm, enabling extremely long-range connectivity\n- Long-range - greater than 15 km with optimized antenna\n- Low power consumption: 11 μA on standby\n- Ultra-Low Power Consumption of 11.9 μA (down to 1.11 μA @ 2.1 V) in sleep mode\n- Multi-channel, dual data buffer (256 bytes each)\n- LoRa/FSK/GFSK/OOK modulation, bidirectional two-way communication\n- Long battery life for battery-powered applications\n- LoRa technology is capable of demodulating 20 dB below noise level which significantly improves immunity to interference when combined with integrated forward error\n- **Operating temperature**: -30° C ~ 85° C (industrial grade)\n- **Storage temperature**: -40° C ~ 85° C (non-condensing)\n\n","keywords":[],"source_file":"wisduo\\rak811-module\\overview.md","token_count":0}
{"id":"e1b0e751b270c218275f67a8b974ad86","product_family":"wisduo","product_id":"rak811-module","category":"How-To","title":"RAK811 Module Quick Start Guide","content":"# RAK811 Module Quick Start Guide\n\nThis guide covers the following topics:\n\n- [The Things Stack (TTN V3) OTAA Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#the-things-stack-otaa-device-registration)\n- [RAK811 OTAA AT Commands for The Things Stack](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#rak811-otaa-configuration-for-the-things-stack)\n- [The Things Stack (TTN V3) ABP Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#the-things-stack-abp-device-registration)\n- [RAK811 ABP AT Commands for The Things Stack](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#rak811-abp-configuration-for-the-things-stack)\n- [Chirpstack OTAA Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#configure-the-otaa-mode-on-the-platform)\n- [RAK811 OTAA AT Commands for Chirpstack](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#configure-the-otaa-mode-on-the-rak811)\n- [Chirpstack ABP Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#configure-the-abp-mode-on-the-platform)\n- [RAK811 ABP AT Commands for Chirpstack](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#configure-the-abp-mode-on-the-rak811)\n- [LoRa P2P Guide](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#lora-p2p-mode)\n- [Updating RAK811 FW Procedure](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#upgrading-the-firmware)\n","keywords":[],"source_file":"wisduo\\rak811-module\\quickstart.md","token_count":0}
{"id":"0ab9409c6d09ff5c713881e144297c11","product_family":"wisduo","product_id":"rak811-module","category":"How-To","title":"Prerequisites for RAK811 WisDuo LPWAN Module Installation","content":"## Prerequisites\n\n### What do you need?\n\nBefore going through the step in the installation guide of the RAK811 WisDuo LPWAN Module, make sure to prepare the necessary items listed below:\n\n#### Hardware Tools\n\n1. [**RAK811 WisDuo LPWAN Module**](https://store.rakwireless.com/products/rak811-lpwan-module?utm_source=RAK811LPWANModule&utm_medium=Document&utm_campaign=BuyFromStore)\n2. Windows PC\n3. USB to UART TTL adapter\n\n#### Software Tools\n1. [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools)\n2. [RAK811 Firmware](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#firmware-os)\n3. [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n\n#### List of Acronyms\n\n| Acronym | Definition                          |\n| :-----: | :---------------------------------: |\n| DFU     | Device Firmware Upgrade             |\n| JTAG    | Joint Test Action Group             |\n| LoRa    | Long Range                          |\n| OTAA    | Over-The-Air-Activation             |\n| ABP     | Activation-By-Personalization (ABP) |\n| TTN     | The Things Network                  |\n| TTS     | The Things Stack                    |\n","keywords":[],"source_file":"wisduo\\rak811-module\\quickstart.md","token_count":0}
{"id":"e1dcb5e51aa356bb31344ee9cbf795f7","product_family":"wisduo","product_id":"rak811-module","category":"How-To","title":"Configuring RAK811 Module for LoRaWAN and The Things Stack","content":"## Product Configuration\n\n### Interfacing with RAK811\n\nRAK811 module can be configured using AT commands via the UART interface. You need a USB to UART TTL adapter to connect the RAK811 to the PC's USB port and a serial terminal tool. It is highly recommended to use [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools) so you can easily send AT commands and view the replies from the console output.\n\n#### Connect to the RAK811\n\n1. Connect the RAK811 to the serial port of a general-purpose computer (USB port) using a USB to UART TTL adapter, as shown in **Figure 1**.\n\n> **Image:** RAK811 Module Connection\n\n2. Any serial communication tool can be used; but, it is recommended to use the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools).\n\n3. Configure the serial communication tool by selecting the proper port detected by the computer and configure the link as follows:\n\n * Baud Rate: **115200 baud**\n * Data Bits: **8 bits**\n * Stop Bits: **1 stop bit**\n * Parity: **NONE**\n\n4. The RAK811 console output can be read in the RAK Serial Port Tool, as shown in **Figure 2**.\n\n> **Image:** RAK Serial Port Tool Connected to RAK811 module\n\n### Configuring RAK811\n\nTo connect the RAK811 module to a LoRa P2P connection or a LoRaWAN network, the module must be configured and LoRa parameters must be set by sending AT commands. Connect the RAK811 module to the computer as described in the previous section. Using the serial communication tool, for example, the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools), it is possible to send commands to the RAK811. For example, sending the `at+set_config=device:restart` and `at+version` commands will display the current firmware version as shown in **Figure 3**. For more supported commands, refer to the [AT Commands for RAK811](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/at-command-manual/).\n\n> **Image:** AT Command response\n\n### Connecting to The Things Stack (TTN V3)\n\nThis section will show how to connect the RAK811 module to The Things Stack (TTN V3) platform.\n\n> **Image:** The Things Stack diagram\n\nAs shown in **Figure 4**, The Things Stack is an open-source LoRaWAN Network Server suitable for global, geo-distributed public and private deployments as well as for small, local networks. The architecture follows the LoRaWAN Network Reference Model for standards compliancy and interoperability. This project is actively maintained by [The Things Industries](https://www.thethingsindustries.com/).\n\nLoRaWAN is a protocol for low-power wide-area networks. It allows for large-scale Internet of Things deployments where low-powered devices efficiently communicate with Internet-connected applications over long-range wireless connections.\n\nThe RAK811 module can be part of this ecosystem as a device, and the objective of this section is to demonstrate how simple it is to send data to The Things Stack using the LoRaWAN protocol. To achieve this, the RAK811 module must be located inside the coverage of a LoRaWAN gateway connected to The Things Stack server.\n\n#### Registration to TTN and Creating LoRaWAN Applications\n\n1. The first step is to go to [The Things Network platform](https://console.cloud.thethings.network/) and select a cluster, as shown in **Figure 5**. The Things Industries adds more clusters from time to time so select the one closes to your location. In this guide, Europe 1 is selected.\n\n> **Image:** Selecting Cluster in TTN V3\n\nYou can use the same login credentials on the TTN V2 if you have one. If you have no account yet, you need to create one.\n\n2. To register as a new user to TTN, click on **Login with The Things ID** then select **register** on the next page, as shown in **Figure 6** and **Figure 7**.\n\n> **Image:** Login using TTN account\n\n> **Image:** Registration of new account\n\n3. You should now be on the step of creating your TTN account. Fill in all the necessary details and activate your account.\n\n4. After creating an account, you should log in on the platform using your username/email and password then click **Submit**, as shown in **Figure 8**.\n\n> **Image:** Logging in to TTN platform\n\n5. You need to click **Authorize** to proceed.\n\n> **Image:** Authorization to TTN\n\n6. Now that you are logged in to the platform, the next step is to create an application. Click **Create an application**.\n\n> **Image:** Creating TTN application for your LoRaWAN devices\n\n7. To have an application registered, input first the specific details and necessary information about your application then click **Create application**.\n\n> **Image:** Details of the TTN application\n\nIf you have no error on the previous step, you should now be on the application console page. The next step is to add end-devices to your The Things Stack application. LoRaWAN specifications enforce that each end device has to be personalized and activated. There are two options in registering devices depending on the activation mode selected. Activation can be done either via Over-The-Air-Activation (OTAA) or Activation-By-Personalization (ABP).\n\n\n> **TIP:** NOTE\n\nOnce you have the application in The Things Stack (TTN V3), you need to ensure that you are in coverage of a LoRaWAN gateway that is registered to The Things Stack (TTN V3) as well. Without the coverage of that LoRaWAN gateway, you cannot activate any device that you will register in your application.\n\nRAKwireless has [LoRaWAN gateways](https://store.rakwireless.com/collections/wisgate) that you can connect to The Things Stack (TTN V3) if no LoRaWAN gateway coverage is available in your location.\n\n\n#### The Things Stack OTAA Device Registration\n\n1. Go to your application console to be able to register a device. To start adding an OTAA end device, you need to click **+ Add end device**, as shown in **Figure 12**.\n\n> **Image:** Add end device\n\n2. To register the module, click first **Manually** then configure the activation method by selecting **Over the air activation (OTAA)** and compatible **LoRaWAN version** then click **Start** button, as shown in **Figure 13** and **Figure 14**.\n\n> **Image:** Manually register device to The Things Stack\n\n> **Image:** Device activation configuration\n\n3. Input a unique **End device ID** and EUIs (**DevEUI** and **AppEUI**), as shown in **Figure 15**. Check if your module has a DevEUI on sticker or QR that you can scan then use this as the device unique DevEUI.\n\nOptionally, you can add a more descriptive **End device name** and **End device description** about your device.\n\n4. After putting all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device` is for illustration purposes only.\n\n\n> **Image:** OTAA Device Information\n\n5. Next step is to set up **Frequency plan**, compatible **Regional Parameter version**, and **LoRaWAN class** supported. Then you can click **Join settings**.\n\n> **Image:** OTAA Configuration\n\n6. The last step in the registration of a new OTAA end-device is the configuration of the **AppKey**. To get the AppKey, you must click the **generate button**. Then click **Add end device** to finish your new device registration.\n\n> **Image:** OTAA AppKey generation and device registration\n\n7. You should now be able to see the device on The Things Stack console after you fully register your device, as shown in **Figure 18**.\n\n\n> **TIP:** NOTE\n\nThe **AppEUI**, **DevEUI**, and **AppKey** are the parameters that you will need to activate your LoRaWAN end device via OTAA. The **AppKey** is hidden by default for security reasons, but you can easily show it by clicking the show button. You can also copy the parameters quickly using the copy button.\n\nThe three OTAA parameters on The Things Stack device console are MSB by default.\n\nThese parameters are always accessible on the device console page, as shown in **Figure 18**.\n\n\n> **Image:** OTAA device successfully registered to The Things Stack\n\n#### RAK811 OTAA Configuration for The Things Stack\n\nThe RAK811 module supports a series of AT commands to configure its internal parameters and control the functionalities of the module. To set up the RAK811 module to join The Things Stack using OTAA, start by connecting the RAK811 module to the Computer (see **Figure 1**) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication and verify the current configuration by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK811:\n\n- LoRa join mode: **OTAA**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device EUI: **1133557799224466**\n- Application EUI: **1000000000000009**\n- Application Key: **04FA4E626EF5CF227C969601176275C2**\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n* Refer to the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device EUI.\n\n```\nat+set_config=lora:dev_eui:1133557799224466\n```\n\n5. Set the Application EUI.\n\n\n> **TIP:** NOTE\nAll zero value Application EUI `at+set_config=lora:app_eui:0000000000000000` is **not supported** and will return error.\n\n\n```\nat+set_config=lora:app_eui:1000000000000009\n```\n\n6. Set the Application Key.\n\n```\nat+set_config=lora:app_key:04FA4E626EF5CF227C969601176275C2\n```\n\n> **Image:** Configuring LoRa Parameters\n\n\n> **TIP:** NOTE\n\nAfter configuring all the parameters, you need to reset your RAK811 Module to save the the parameters.\n\n\n7. After resetting, join in OTAA mode.\n\n```\nat+join\n```\n\nAfter 5 or 6 seconds, if the request is successfully received by a LoRa gateway, then you should see the messages, shown in **Figure 21**.\n\n8. Try to send a message from the RAK811 module.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** OTAA Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK811 module on The Things Stack platform, as shown in **Figure 22**.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n#### The Things Stack ABP Device Registration\n\n1. To register an ABP device, you need to go to your application console and select the application where you want your device to be added. Then click **+ Add end device**, as shown in **Figure 23**.\n\n> **Image:** Add end device\n\n2. To register the module, click first **Manually** then configure the activation method by selecting **Activation by personalization (ABP)**, compatible **LoRaWAN version**, and click **Start** button, as shown in **Figure 24** and** Figure 25**.\n\n> **Image:** Add end device\n\n> **Image:** Manually register device to The Things Stack\n\n3. At this step, input a unique **End device ID** and **DevEUI**, as shown in **Figure 26**. Check if your module has a DevEUI on sticker or QR that you can scan then use this as the device unique DevEUI.\n\nOptionally, you can add a more descriptive **End device name** and **End device description** about your device.\n\n4. After putting all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device-abp` is for illustration purposes only.\n\n\n> **Image:** Device Information\n\n5. Next step is to set up **Frequency plan**, compatible **Regional Parameter version**, and **LoRaWAN class** supported. In an ABP device, you also need to generate **Device Address** and **NwkSKey** (Network Session Keys). Then you can click **Application layers settings**.\n\n> **Image:** ABP Configuration in The Things Stack\n\n6. The last step in the registration of a new ABP end-device is the configuration of the **AppSKey**. To get the AppSKey, you must click the **generate button**, then click **Add end device** to finish your new device registration.\n\n> **Image:** ABP Configuration in The Things Stack\n\n7. You should now be able to see the device on The Things Stack console after you fully register your device, as shown in **Figure 29**.\n\n> **Image:** RAK811 registered at The Things Stack\n\n#### RAK811 ABP Configuration for The Things Stack\n\nTo set up the RAK811 module to join The Things Stack using ABP, start by connecting the RAK811 module to the Computer (see **Figure 1**) and open the RAK Serial Port  Tool. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK811:\n\n- LoRa join mode: **ABP**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device address: **260BDE80**\n- Network Session Key: **433C7A924F7F6947778FE821525F183A**\n- Application Session Key: **A585653A949C2B2D44B55E99E94CB533**\n\n1. Set the LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\n```\nat+set_config=lora:dev_addr:260BDE80\n```\n\n5. Set the LoRa Network Session Key.\n\n```\nat+set_config=lora:nwks_key:433C7A924F7F6947778FE821525F183A\n```\n\n6. Set the LoRa Application Session Key.\n\n```\nat+set_config=lora:apps_key:A585653A949C2B2D44B55E99E94CB533\n```\n\n> **Image:** AT Command for ABP LoRa parameters via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\n\nAfter configuring all the parameters, you need to reset the RAK811 Module to save the parameters.\n\n\n7. After resetting, join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\n\nBy using the ABP mode in LoRaWAN, it doesn’t require to join a network before sending a LoRaWAN package. But to keep the consistency of internal states of the firmware of the RAK811 module, it is still required to send the `at+join` command in the ABP mode. This time, the firmware should reply almost immediately with an “OK”.\n\n\n8. Try to send data from the RAK811 to The Things Network in ABP mode.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** ABP Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK811 module on The Things Stack device console *Live data* section and the *Last seen* info should be few seconds ago.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n### Connecting with ChirpStack\n\nIn this section, it shows how to connect the RAK811 module to the ChirpStack platform.\n\n> **Image:** RAK811 Module in the Context of the ChirpStack Platform\n\nThe ChirpStack or previously known as the LoRaServer project provides open-source components for building LoRaWAN networks. Like the case of The Things Stack, the RAK811 module is located in the periphery and will transmit the data to the backend servers through a LoRa gateway. Learn more about [ChirpStack](https://www.chirpstack.io/).\n\n\n> **TIP:** NOTE\n\nIt is assumed that you are using RAK Gateway and its built-in ChirpStack or RAK cloud testing ChirpStack. Also, the gateway with the ChirpStack must be configured successfully. For further information, check the RAK documents for more details.\n\n\n* In summary, these are the requirements:\n\n  1. Have ChirpStack online gateway, the frequency band of the nodes should be consistent with the frequency band of the gateway in use.\n      * [Connect the Gateway with Chirpstack](https://docs.rakwireless.com/product-categories/wisgate/rak7243/quickstart/#connect-the-gateway-with-chirpstack)\n  2.  The RAK Serial Port Tool provided by RAK\n  3.  RAK811 module\n\n\n> **TIP:** NOTE\nThe frequency band used in the demonstration is EU868. Use a high-frequency version of RAK811. The product number should be “**RAK811 (H)**”.\n\n\nBefore you start, you must choose which mode you are going to use, whether in OTAA or ABP mode, to register the device to the network server.\n\n**Sign up and login**\n\nLogin to the ChirpStack server using your account and password.\n\n#### Create a new Application\n\nGo to the Application section, as shown in Figure 35.\n\n> **Image:** Application Section\n\nBy default, you should create a new application, although you can reuse the existing ones. For this setup, create a new Application by clicking on the “**CREATE**” button, and filling the required parameters, as shown in Figure 36 and Figure 37.\n\n> **Image:** Creating a New Application\n\n* For this setup, create an Application named “**rak_node_test**”.\n\nChirpStack LoraServer supports multiple system configurations, with only one by default.\n\n* **Service profile**: Field is to select the system profile.\n* **Payload codec**: It is the parsing method for selecting load data such as parsing LPP format data.\n\n> **Image:** Filling Parameters of an Application\n\n**Register a New Device**\n\n1. Choose the **Application** created in the previous step, then select the **DEVICES** tab as shown in Figures 38 and 39.\n\n2. Once done, click “**+ CREATE**”.\n\n> **Image:** List of Applications Created\n\n> **Image:** Device Tab of an Application\n\n3. Once inside of the DEVICE tab, create a new device (LoRaWAN node) by clicking on the “**+ CREATE**” button.\n\n> **Image:** Add a New Device\n\n> **Image:** Chirpstack Adding Node into the RAK811 Module\n\n6. Once the node is created, fill in the necessary data. You can generate a Device EUI automatically by clicking the following icon, or you can write a correct Device EUI in the edit box.\n\nFill in the parameters requested:\n\n* **Device name and Device description**: These are descriptive texts about your device.\n\n* **Device EUI**: This interface allows you to generate a Device EUI automatically by clicking the icon highlighted in red in Figure 42. You can also add a specific Device EUI directly in the form.\n\n* **Device Profile**:\n  * If you want to join in OTAA mode, select “**DeviceProfile_OTAA**”.\n  * If you want to join in ABP mode, select “**DeviceProfile_ABP**”.\n\n> **Image:** Generate a New Device EUI \n\n#### LoRaWAN Join Mode\n\nIn LoRaWAN, there are two ways a node can connect itself to the LoRaWAN network. This is referred to as **Join Mode**. LoRaWAN allows the OTAA mode and the ABP mode. In this section, the configuration process of these two modes, both on the platform side and the node side will be explained.\n\n##### OTAA Mode\n\n###### Configure the OTAA Mode on the Platform\n\n1. If you have selected “**DeviceProfile_OTAA**” as shown in Figure 43, then after the device is created, an Application Key must be also created for this device.\n\n> **Image:** Chirpstack OTAA Activation\n\n2. A previously created Application Key can be entered here, or a new one can be generated automatically by clicking the icon highlighted in red in Figure 44:\n\n> **Image:** Chirpstack OTAA Set Application Keys\n\n3. Once the Application Key is added to the form, the process can be finalized by clicking on the “**SET DEVICE-KEYS**” button.\n\n* As shown in Figure 45, a new device should be listed in the DEVICES tab. The most important parameters, such as the Device EUI are shown in the summary.\n\n> **Image:** Chirpstack OTAA List of Device in the Device Tab\n\n4. To end the process, it is a good practice to review that the Application Key is properly associated with this device. The Application Key can be verified in the **KEYS(OTAA)** tab, as shown in Figure 46.\n\n> **Image:** Application Key Associated with the New Device\n\n\n> **TIP:** NOTE\n\nStandard OTAA mode requires the **Device EUI**, **Application Key**, and **Application EUI**, but in the ChirpStack’s implementation, only the Device EUI and the Application Key are mandatory. The Application EUI is not required and not recorded in the Application tab. Nevertheless, the Application EUI is a mandatory parameter in the RAK811 module’s firmware. In order to resolve this mismatch, you can reuse the Device EUI as the Application EUI during the configuration on the side of the node.\n\n\n###### Configure the OTAA mode on the RAK811\n\nThe RAK811 module supports a series of [AT commands](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/at-command-manual/) to configure its internal parameters and control the functionalities of the module.\n\nTo set up the RAK811 module to join ChirpStack using OTAA, start by connecting the RAK811 module to the Computer (see Figure 1) and open the RAK Serial Port  Tool. Wait for the communication to start. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** at+version command response\n\nAs an example, these are the list of the parameters you need to configure in RAK811:\n\n- LoRa join mode: **OTAA**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device EUI: **5e9d1e0857cf25f1**\n- Application EUI: **5e9d1e0857cf25f1**\n- Application Key: **f921d50cd7d02ee3c5e6142154f274b2**\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device EUI.\n\n```\nat+set_config=lora:dev_eui:5e9d1e0857cf25f1\n```\n\n5. Set the Application EUI.\n\n```\nat+set_config=lora:app_eui:5e9d1e0857cf25f1\n```\n\n\n> **TIP:** NOTE\nRemember, the Application EUI parameter was not required in the ChirpStack platform; therefore, it is possible to use the same id as the Device EUI. Otherwise, the firmware will complain.\n\n\n6. Set the Application Key.\n\n- Get the Application Key from the ChirpStack console.\n\n```\nat+set_config=lora:app_key:f921d50cd7d02ee3c5e6142154f274b2\n```\n\n> **Image:** Chirpstack OTAA configuration via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\nAfter configuring all parameters, you need to reset the RAK811 Module to save the parameters.\n\n\n7. After resetting, start to join.\n\n```\nat+join\n```\n\n> **Image:** Chirpstack OTAA configuration via RAK Serial Port Tool\n\n8. You can then see the JoinRequest and JoinAccept on the ChirpStack page.\n\n> **Image:** Checking LoRaWAN Joint Request in Chirpstack OTAA Console\n\n9. Try to send data from RAK811 Module to ChirpStack.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** Send a LoRaWAN Message via RAK Serial Port Tool\n\n- On the ChirpStack platform, you should also see the messages in the LORAWAN FRAMES tab as shown in Figure 52. By convention, messages sent from nodes to gateways are considered as **Uplinks** while messages sent by gateways to nodes are considered as **Downlinks**.\n\n> **Image:** Chirpstack Data Received Preview\n\nThis concludes the exercise to send data in the OTAA mode.\n\n##### ABP Mode\n\n###### Configure the ABP Mode on the Platform\n\nDuring the registration of a new device, if you select “**DeviceProfile_ABP**”, as shown in Figure 53, then the ChirpStack platform will assume that this device will join the LoRaWAN network using the ABP mode.\n\n\n> **TIP:** NOTE\n\nCheck “**Disable counting frame verification**”. During the test, when the module is restarted, the frame counting number will be also be restarted from zero. This would cause a synchronization problem with the ChirpStack server treating it as a replay attack. For the testing purpose, it is safe to disable this feature, but remember to activate it in a production environment.\n\n\n> **Image:** ChirpStack Console, Configuring a Device\n\nAfter selecting the ABP mode, the following parameters appear in the Activation tab:\n\n2. Then, you can see that there are some parameters for ABP in the **“ACTIVATION”** item:\n\n  * **Device address**\n  * **Network Session Key**\n  * **Application Session Key**\n\n> **Image:** Chirpstack ABP Activation Parameters Needed\n\n* The parameters can be generated as random numbers by the platform or can be set with user values. Once these parameters are filled in properly, the process is completed by clicking on the “**ACTIVATE DEVICE**” button.\n\n###### Configure the ABP mode on the RAK811\n\nIn the following steps, you will configure the RAK811 module to work in the ABP mode. To set up the RAK811 module to join ChirpStack using ABP, start by connecting the RAK811 module to the Computer (see Figure 1) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** at+version command response\n\nAs an example, these are the list of the parameters you need to configure in RAK811:\n\n- LoRa join mode: **ABP**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device address: **26011af9**\n- Network Session Key: **c280cb8d1df688bc18601a97025c5488**\n- Application Session Key: **4d42ec5caf97f03d833cdaf5003f69e1**\n\n1. Set LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n\n2. Set LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\n```\nat+set_config=lora:dev_addr:26011af9\n```\n\n5. Set the Network Session Key.\n\n```\nat+set_config=lora:nwks_key:c280cb8d1df688bc18601a97025c5488\n```\n\n6. Set the Application Session Key.\n\n```\nat+set_config=lora:apps_key:4d42ec5caf97f03d833cdaf5003f69e1\n```\n\n> **Image:** Chirpstack ABP Parameters Configuration via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\n\nAfter configuring all parameters, you need to reset the RAK811 Module to save the parameters.\n\n\n7. After resetting RAK811 Module, join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\n\nBy using the ABP mode in the LoRaWAN protocol, it doesn’t require to join a network before sending the LoRaWAN package. But, to keep the consistency of internal states of the firmware of the RAK811 module, it is still required to send the `at+join` command in the ABP mode. This time, the firmware should reply almost immediately with an “OK”.\n\n\n8. Try to send data from RAK811 Module to ChirpStack.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** Chirpstack Sample Data Sent via RAK Serial Port Tool\n\n### LoRa P2P Mode\n\nThis section will show you how to set up and connect two RAK811 units to work in the LoRa P2P mode. You will be using EU868 as your frequency, although it is applicable also to other standard bands.\n\n1. Two RAK811 units shall be set to operate on EU868 frequency.\n\n2. The setup of the RAK811 units is done by connecting them with a general-purpose computer through the UART port. The setup of each RAK811 can be done separately, but testing the LoRa P2P mode will require having both units connected simultaneously to their respective UART port. This could be one computer with two USB ports or two computers with one USB port each.\n\n3. Set the RAK811 to work in LoRa P2P mode. Open the RAK Serial Port Tool and send the following command:\n\n```\nat+set_config=lora:work_mode:1\n```\n\n> **Image:** P2P Initialization\n\n4. Then, configure LoRa P2P parameters for both of them.\n\n```\nat+set_config=lorap2p:XXX:Y:Z:A:B:C\n```\n\nFor this example, the LoRa parameters are the following:\n\n- Link frequency: **869525000 Hz**\n- Spreading factor: **7**\n- Bandwidth: **125 kHz**\n- Coding Rate: **4/5**\n- Preamble Length: **5**\n- Power: **5 dBm**\n\n\n> **TIP:** NOTE\n\nRefer to the [Configuring Using AT Commands](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/at-command-manual/) section to learn more about the definition of the parameters used.\n\n\nHence, it is translated into the following RAK811 AT command and sent to both units.\n\n```\nat+set_config=lorap2p:869525000:7:0:1:5:5\n```\n\n> **Image:** Configuring P2P in both RAK811 Module\n\n5. Set the transmission mode of the module. Unit 1 is configured as the sender, and Unit 2 is set to the receiver by AT command.\n\n```\nat+set_config=lorap2p:transfer_mode:2\n\nat+set_config=lorap2p:transfer_mode:1\n```\n\n> **Image:** Setting Modes in both RAK811 Module\n\n6. Try sending a message from Unit 1 to Unit 2.\n\n```\nat+send=lorap2p:1234567890\n```\n\n> **Image:** Message sent and received status in the two modules\n","keywords":[],"source_file":"wisduo\\rak811-module\\quickstart.md","token_count":0}
{"id":"39d0e8024c3cec5af613359544b67ddf","product_family":"wisduo","product_id":"rak811-module","category":"How-To","title":"Upgrading the Firmware of RAK811 Module","content":"## Miscellaneous\n\n### Upgrading the Firmware\n\nIf you want to upgrade to the latest version firmware of the module, you can follow this section. The latest firmware can be found in the software section of [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#firmware-os).\n\n\n> **TIP:** NOTE\n\nFor RAK811 modules with firmware version V3.0.0.12 and below, you need to use the [STM32CubeProgrammer](https://www.st.com/en/development-tools/stm32cubeprog.html) to upgrade your firmware and upload the **.hex file** (not the .bin file) of the [latest RAK811 firmware](https://downloads.rakwireless.com/#LoRa/RAK811/Firmware/). The lower versions of the firmware have a different bootloader code and will not work on the RAK DFU Tool.\n\n\nIn the following sections, two (2) options for flashing new firmware in a RAK811 module are shown: **Upgrade through DAPLink** and **Upgrade through UART1**.\n\n#### Firmware Upgrade Through DAPLink\n\nRefer to the [RAKDAP1 Flash and Debug Tool](https://docs.rakwireless.com/product-categories/accessories/rakdap1/overview/#rakdap1-flash-and-debug-tool) guide in the Accessories Category.\n\n#### Firmware Upgrade Through UART1\n\n##### Minimum Hardware and Software Requirements\n\nRefer to the table for the minimum hardware and software required to perform the firmware upgrade using J-Link.\n\n| Hardware/Software | Requirement                                   |\n| :---------------: | :-------------------------------------------: |\n| Computer          | A Windows/Ubuntu/Mac computer                 |\n| Firmware File     | Bin firmware file downloaded from the website |\n| Others            | A USB to TTL module                           |\n\n##### Firmware Upgrade Procedure\n\nExecute the following procedure to upgrade the firmware in Device Firmware Upgrade (DFU) mode through the UART1 interface:\n\n1.  Download the latest application firmware of the RAK811 that can be found on the [RAK811 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/datasheet/#firmware-os).\n\n2.  Download the [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/).\n\n3.  Connect the RAK811 module with a computer through a USB to TTL. Refer to [**Figure 1**](https://docs.rakwireless.com/product-categories/wisduo/rak811-module/quickstart/#connect-to-the-rak811).\n\n4.  Open the Device Firmware Upgrade tool. Select the serial port and baud rate of the module and click the \"**Select Port**\" button.\n\n> **Image:** Device Firmware Upgrade Tool\n\n5.  Select the application firmware file of the module with the suffix \"**.bin**\".\n\n> **Image:** Select Firmware\n\n6.  Click the \"**Upgrade**\" button to upgrade the device. After the upgrade is complete, the RAK811 module will be ready to work with the new firmware.\n\n> **Image:** Firmware Upgrading\n\n> **Image:** Upgrade Successful\n\n","keywords":[],"source_file":"wisduo\\rak811-module\\quickstart.md","token_count":0}
