{"id":"a5093b7e0b2fb722663dc5669461c502","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 Module AT Command Manual Introduction","content":"## Introduction\n\nThe RAK4200 module is designed to simplify LoRa P2P peer-to-peer and LoRaWAN communication. This module saves you in dealing with complicated SPI protocol with the LoRa transceivers. Instead, a well-known serial communication interface is provided for sending commands and requesting the internal status of the module. This approach allows a straightforward way to integrate LoRa technology into your projects.\n\nOn top of this serial interface, a set of AT commands is defined. An external microcontroller will be able to control the RAK4200 module as a classic AT modem. Through the AT commands, you can set parameters of the LoRaWAN communication, controlling GPIO pins, analog inputs, etc.\n\nIn the RAK4200 module, the serial communication is exposed on the **UART1 port**, through **Pin 4 (UART1_TX)** and **Pin 5 (UART1_RX)**. The parameters of the UART1 communication are **115200** / **8-N-1**. The firmware upgrade is also possible through this port. To get familiar with the pin distribution of this module and find a schematic circuit of a reference application, refer to [RAK4200 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/). A summary is also provided in the [Appendix IV](#appendix-iv-pin-description-of-rak4200).\n\nIn addition, the RAK4200 module also exposes another serial port through **Pin 2 (UART2_TX)** and **Pin 1 (UART2_RX)**. This port is named UART2. You can use it to connect another MCU or an additional UART peripheral, such as a GPS module.\n\nUART2 is **Pin 2 (TX2)** and **Pin 1 (RX2)** on modules. In the case that the target application only requires one single UART port, then it is recommended to make use of the UART2 to connect to your MCU and reserve the UART1 for future firmware upgrades.\n\n### Links to Quick Start Guide\n\nFor AT commands example usage, you can check these sections of the quick start guide:\n\n- [TTN OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/quickstart/#connecting-to-the-things-network-ttn)\n- [ChirpStack OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/quickstart/#connecting-with-chirpstack)\n- [LoRa P2P](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/quickstart/#lora-p2p-mode)\n\n### Software Tool\n\nIf you don't have a serial port tool yet, it is recommended to download and install the RAK Serial Port Tool. There are some ready-made AT commands in this tool that will be very useful for you.\n\n- [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools/)\n\nFor more detailed information on how to use this tool, refer to the following guide:\n\n- [RAK Serial Port Tool Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/quickstart/#connecting-to-the-rak4200-console)\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"a4ef05249d07e2f92a4a03a8ebb1f9d7","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 Module AT Command Manual Overview","content":"## Content\n\n- [RAK4200 Module AT Command Manual](#rak4200-module-at-command-manual)\n  - [Introduction](#introduction)\n    - [Links to Quick Start Guide](#links-to-quick-start-guide)\n    - [Software Tool](#software-tool)\n  - [Content](#content)\n  - [AT Command Syntax](#at-command-syntax)\n  - [Error Code Table](#error-code-table)\n  - [General AT Command](#general-at-command)\n  - [Interface Type AT Command](#interface-type-at-command)\n  - [LoRaWAN Type AT Command](#lorawan-type-at-command)\n  - [LoRa P2P Type AT Command](#lora-p2p-type-at-command)\n  - [Appendix I: Data Rate by Region](#appendix-i-data-rate-by-region)\n  - [Appendix II: TX Power by Region](#appendix-ii-tx-power-by-region)\n  - [Appendix III: Maximum Transmission Load by Region](#appendix-iii-maximum-transmission-load-by-region)\n  - [Appendix IV: Pin Description of RAK4200](#appendix-iv-pin-description-of-rak4200)\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"c39224b045336badf258f4eb5c2f5975","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 Module AT Command Error Codes","content":"## Error Code Table\n\n| Error Code | Description                                                                                                                                                                         |\n| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1          | The last command received is an unsupported AT command.                                                                                                                             |\n| 2          | Invalid parameter in the AT command.                                                                                                                                                |\n| 3          | There is an error when reading or writing the flash memory.                                                                                                                         |\n| 5          | There is an error when sending data through the UART port. Check if you exceed 256 bytes UART buffer.                                                                               |\n| 80         | The LoRa transceiver is busy, could not process a new command.                                                                                                                      |\n| 81         | LoRa service is unknown. Unknown MAC command received by the node. Execute commands that are not supported in the current state, such as sending the `at+join` command in P2P mode. |\n| 82         | The LoRa parameters are invalid.                                                                                                                                                    |\n| 83         | The LoRa frequency is invalid.                                                                                                                                                      |\n| 84         | The LoRa data rate (DR) is invalid.                                                                                                                                                 |\n| 85         | The LoRa frequency and data rate are invalid.                                                                                                                                       |\n| 86         | The device hasnâ€™t joined into a LoRa network.                                                                                                                                       |\n| 87         | The length of the packet exceeded that maximum allowed by the LoRa protocol.                                                                                                        |\n| 88         | Service is closed by the server. Due to the limitation of the duty cycle, the server will send the \"SRV_MAC_DUTY_CYCLE_REQ\" MAC command to close the service.                       |\n| 89         | This is an unsupported region code.                                                                                                                                                 |\n| 90         | Duty cycle is restricted. Due to the duty cycle, data cannot be sent at this time until the time limit is removed.                                                                  |\n| 91         | No valid LoRa channel could be found.                                                                                                                                               |\n| 92         | No available LoRa channel could be found.                                                                                                                                           |\n| 93         | Status is error. Generally, the internal state of the protocol stack is wrong.                                                                                                      |\n| 94         | Time out reached while sending the packet through the LoRa transceiver.                                                                                                             |\n| 95         | Time out reached while waiting for a packet in the LoRa RX1 window.                                                                                                                 |\n| 96         | Time out reached while waiting for a packet in the LoRa RX2 window.                                                                                                                 |\n| 97         | There is an error while receiving a packet during the LoRa RX1 window.                                                                                                              |\n| 98         | There is an error while receiving a packet during the LoRa RX2 window.                                                                                                              |\n| 99         | Failed to join into a LoRa network.                                                                                                                                                 |\n| 100        | Duplicate downlink message is detected. A message with an invalid downlink count is received.                                                                                       |\n| 101        | Payload size is not valid for the current data rate (DR).                                                                                                                           |\n| 102        | Many downlink packets are lost.                                                                                                                                                     |\n| 103        | Address fail. The address of the received packet does not match the address of the current node.                                                                                    |\n| 104        | Invalid MIC is detected in the LoRa message.                                                                                                                                        |\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"310ed4eb36f8f7479d5d5ff5329dc749","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"Data Rate Configurations by Region for RAK4200 Module","content":"## Appendix I: Data Rate by Region\n\n**EU868/EU433/AS923**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF7 / 250Â kHz  | 11000                                |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       |                                      |\n\n**CN470/KR920**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6 ~ 15    | RFU                       |                                      |\n\n** US915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 1         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 2         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 3         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 4         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 5 ~ 7     | RFU                       |                                      |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 13        | LoRa: SF7 / 500Â kHz  | 21900                                |\n| 14 ~ 15   | RFU                       |                                      |\n\n** AU915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 7         | RFU                       | RFU                                  |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n\n** IN865 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| :-------: | :-----------------------: | :----------------------------------: |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | RFU                       | RFU                                  |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       | RFU                                  |\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"cce3b53b55d3d024fbbc22ac8bae9bb1","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"TX Power Configuration by Region for RAK4200 Module","content":"## Appendix II: TX Power by Region\n\n**EU868**\n\nBy default, MaxEIRP is considered to be +16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**US915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (Conducted Power) |\n| :-----: | :-----------------------------: |\n| 0       | MaxEIRP                         |\n| 1       | MaxEIRP - 2Â dB             |\n| 2       | MaxEIRP - 4Â dB             |\n| 2       | 26Â dBm                     |\n| 3 ~ 9   | -                               |\n| 10      | 10Â dBm                     |\n| 11 ~ 15 | RFU                             |\n\n**AU915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1 ~ 10  | MaxEIRP - 2*TXPower  |\n| 11 ~ 15 | RFU                  |\n\n**KR920**\n\nBy default, MaxEIRP is considered to be +14Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**AS923**\n\nBy default, Max EIRP is considered to be 16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**IN865**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8       | MaxEIRP - 16Â dB |\n| 9       | MaxEIRP - 18Â dB |\n| 10      | MaxEIRP - 20Â dB |\n| 11 ~ 15 | RFU                  |\n\n**CN470**\n\nBy default, MaxEIRP is considered to be +19.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**EU433**\n\nBy default, MAxEIRP is considered to be +12.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| :-----: | :------------------: |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6 ~ 15  | RFU                  |\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"96615866596f9e9aee0e919dcb84bcbe","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"Maximum Transmission Load by Region for RAK4200 Module","content":"## Appendix III: Maximum Transmission Load by Region\n\n\n> **TIP:** NOTE\nThe LoRaWAN stack adds 8 bytes to the user payload. In the following list, M is the maximum payload size and N is the maximum usable payload size for the user data without the MAC header.\n:\n\n**EU868**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n\n**US915**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 19          | 11          |\n| 1        | 61          | 53          |\n| 2        | 133         | 125         |\n| 3        | 250         | 242         |\n| 4        | 250         | 242         |\n| 5 ~ 7    | Not Defined | Not Defined |\n| 8        | 61          | 53          |\n| 9        | 137         | 129         |\n| 10       | 250         | 242         |\n| 11       | 250         | 242         |\n| 12       | 250         | 242         |\n| 13       | 250         | 242         |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**AU915**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | Not Defined | Not Defined |\n| 8        | 61          | 53          |\n| 9        | 137         | 129         |\n| 10       | 250         | 242         |\n| 11       | 250         | 242         |\n| 12       | 250         | 242         |\n| 13       | 250         | 242         |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**KR920**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6 ~ 15   | Not Defined | Not Defined |\n\n**AS923**\n\n| DataRate | Uplink MAC Payload Size (M) | Downlink MAC Payload Size (M) |  |  |\n| --- | --- | --- | --- | --- |\n|  | UplinkDwellTime = 0 | UplinkDwellTime = 1 | DownlinkDwellTime = 0 | DownlinkDwellTime = 1 |\n| 0 | 59 | N/A | 59 | N/A |\n| 1 | 59 | N/A | 59 | N/A |\n| 2 | 59 | 19 | 59 | 19 |\n| 3 | 123 | 61 | 123 | 61 |\n| 4 | 250 | 133 | 250 | 133 |\n| 5 | 250 | 250 | 250 | 250 |\n| 6 | 250 | 250 | 250 | 250 |\n| 7 | 250 | 250 | 250 | 250 |\n| 8 ~ 15 | RFU | RFU | RFU | RFU |\n\n**IN865**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n\n**CN470**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6 ~ 15   | Not Defined | Not Defined |\n\n**EU433**\n\n| DataRate | M           | N           |\n| :------: | :---------: | :---------: |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":0}
{"id":"fab66d7bb522a058131c67c35b9863d1","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 Module Pin Description","content":"## Appendix IV: Pin Description of RAK4200\n\nThe pin definition of the RAK4200 module can be reviewed in the Pin Definition section of the [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/).\n\nListed are the summary of the pins of the RAK4200 module:\n\n1. **About the UART Pin**:\n\n    - Pin 4 (TX1) and  Pin 5 (RX1) are reserved for UART1.\n    - Pin 2 (TX2) and Pin 1 (RX2) are reserved for UART2.\n    - During sleep, Pin 5 (RX1) and Pin 1 (RX2) are automatically configured as wake up pins and in external interrupt mode with an internal pull-down resistor. Wake-up will be triggered by a rising edge on these RX pins.\n\n2. **About the SWD Debug Pin**: Pin 7 (SWDIO) and Pin 8 (SWCLK) are used for SWD debug port.\n\n3. **About the Power Pin**: The power pins on the RAK4200 module include VCC on Pin 20 and GND on Pin 11, Pin 13, Pin 14, and Pin 19.\n\n4. **About the Reset Pin**: The reset pin on the RAK4200 module is Pin 18.\n\n5. **About the RF Antenna Pin**: The RF antenna pin on the RAK4200 module is the Pin 12.\n\n6. **About the ADC Pin**: The ADC pin on the RAK4200 is assigned to Pin 3.\n\n7. **About the GPIO pin**: The GPIO pins available on the RAK4200 module are Pin 3, Pin 6, Pin 9, and Pin 10.\n\n","keywords":[],"source_file":"wisduo\\rak4200-module\\at-command-manual.md","token_count":250}
{"id":"c5d7d35a28b8072b4be71e1660d0d2ad","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 WisDuo LPWAN Module Overview and Features","content":"## Overview\n\n### Description\n\n**RAK4200 WisDuo LPWAN Module** includes an STM32L071 MCU and an SX1276 LoRa chip. It has Ultra-Low Power Consumption of 9.40Â uA (down to 1.08Â Î¼A @ 2.0Â V) in sleep mode and high LoRa output power up to 19Â dBm max in work mode.\n\nThe module complies with LoRaWAN 1.0.2 specification. It also supports LoRa P2P Point-to-Point communications. The module is suitable for various applications that require long-range data acquisition and low power consumption.\n\n### Features\n\n* LoRa module for Smart City, Smart Agriculture, Smart Industry\n* **Compact Form Factor**: 15 x 15.5 x 2.5Â mm\n* 20 Pin Stamp Pad for PCB SMT mounting\n* **I/O ports**: UART/I2C/GPIO/ADC\n* **Temperature range**: -40Â°Â C to +85Â°Â C\n* **Supply voltage**: 2.0 ~ 3.6Â V\n* **Frequency range**: 863â€“870Â MHz (EU) / 902â€“928Â MHz (US), ISM and SRD systems\n* Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz Bandwidth\n* Ultra-Low Power Consumption of 9.40Â Î¼A (down to 1.08Â Î¼A @ 2.0Â V) in sleep mode\n* **Core**: ARM 32-bit Cortex â€“ M0+ with MPU\n* Up to 128Â KB flash memory with ECC\n* 20Â KB RAM\n* 6Â KB of data EEPROM with ECC\n","keywords":[],"source_file":"wisduo\\rak4200-module\\datasheet.md","token_count":0}
{"id":"65a006e5b55ea211186d85471dbba8bb","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 WisDuo LPWAN Module Specifications and Hardware Details","content":"## Specifications\n\n### Overview\n\nThe overview covers the RAK4200 WisDuo board overview where the front and back views are presented. It includes also the block diagram that shows the external interfaces of the RAK4200 WisDuo.\n\n#### Board Overview\n\n> **Image:** RAK4200 WisDuo LPWAN Module Front and Back View\n\n#### Block Diagram\n\n> **Image:** RAK4200 WisDuo Block Diagram\n\n### Hardware\n\nThe hardware specification is categorized into five parts. It covers the pinouts and the corresponding functions and diagrams of the board. It also presents the parameters and its standard values in terms of electrical and mechanical.\n\n#### Pin Definition\n\n> **Image:** Pinout for RAK4200\n\n\n> **WARNING:** When using `RF` pin for antenna and not the IPEX connector variant, there are design considerations to make sure optimum RF performance.\n\n- RF trace must be away from interference (switching node of DC-DC supply, high current/voltage pulses from controllers of inductive load like motor, signal generators, etc.)\n- RF trace must have 50Â Ohms impedance. It is advisable to use an impedance simulation software tool to achieve this requirement.\n- If using an external antenna connector, make it close to the `RF` pin.\n- Ground plane optimization is critical on certain antenna types like monopole.\n- GND trace used for RF path return must be directly connected to the GND plane and not be treated as thermal relief.\n- It is recommended for the RF trace to be routed in a curve and not in a sharp 90Â degrees.\n\nIn addition, with a commitment to making IoT easy, RAK offers a dedicated service for [Antenna RF Design](https://store.rakwireless.com/products/antenna-rf-design-service-including-pcb-design-tuning-matching-and-rf-test) which includes PCB design, tuning, matching, and RF testing.\n\n\n| Pin | Name     | I/O | Description                                     |\n| --- | -------- | --- | ----------------------------------------------- |\n| 1   | UART2_RX | I   | UART2 Interface (AT Commands)  (STM32L071 PA3)  |\n| 2   | UART2_TX | O   | UART2 Interface (AT Commands)  (STM32L071 PA2)  |\n| 3   | UART2_DE | I/O | GPIO (STM32L071 PA1)                            |\n| 4   | UART1_TX | O   | UART1 Interface (AT Commands and FW Update) (STM32L071 PA9)  |\n| 5   | UART1_RX | I   | UART1 Interface (AT Commands and FW Update) (STM32L071 PA10) |\n| 6   | UART1_DE | I/O | General GPIO or UART(Reserved) (STM32L071 PA12) |\n| 7   | SWDIO    | I/O | Programming (STM32L071 PA13)                    |\n| 8   | SWCLK    | I/O | Programming (STM32L071 PA14)                    |\n| 9   | I2C_SCL  | I/O | I2C interface (STM32L071 PB6)                   |\n| 10  | I2C_SDA  | I/O | I2C interface (STM32L071 PB7)                   |\n| 11  | GND      | -   | Ground                                          |\n| 12  | RF       | I/O | RF port (only available on **RAK4200 No-IPEX connector variant**)|\n| 13  | GND      | -   | Ground                                          |\n| 14  | GND      | -   | Ground                                          |\n| 15  | SPI_CLK  | I/O | Reserved PA5                                    |\n| 16  | SPI_MISO | I/O | Reserved PA6                                    |\n| 17  | SPI_MOSI | I/O | Reserved PA7                                    |\n| 18  | MCU_NRST | I/O | MCU reset (STM32L071 NRST)                      |\n| 19  | GND      | -   | Ground                                          |\n| 20  | VDD      | -   | DC 3V3                                          |\n\n##### LoRa Transceiver IC Connection to RAK4200 Internal STM32\n\n| **LoRa IC Pin** | **STM32 GPIO** |\n| :-------------: | :------------: |\n|      DIO0       |      PB0       |\n|      DIO1       |      PB1       |\n|      DIO2       |      PB5       |\n|      DIO3       |      PB4       |\n|    SPI1_CLK     |      PA5       |\n|    SPI1_MISO    |      PA6       |\n|    SPI1_MOSI    |      PA7       |\n|    SPI1_NSS     |      PA4       |\n|     NRESET      |      PA0       |\n|      VCTL1      |      PA11      |\n|      VCTL2      |      PA8       |\n\n##### LoRa Transceiver Mode\n\n| **LoRa Mode** | **VCTL1 GPIO** | **VCTL2 GPIO** |\n| :-----------: | :------------: | :------------: |\n| TX mode       |       H        |       L        |\n| RX mode       |       L        |       H        |\n\n\n> **TIPLOGIC:** Level\nH level (1.8 - 5.0Â V)\n\nL level (0Â V)\n\n\n#### RF Characteristics\n\n##### Operating Frequencies\n\nThe board supports the following LoRaWAN frequency channels shown in the table below. The frequency parameter is easy to configure as you go through the device configuration setup. RAK4200 has two different types based on its frequency: RAK4200(L) for low frequency and RAK4200(H) for high frequency.\n\n| Module | Region | Frequency (MHz) |\n| --- | --- | --- |\n| RAK3172(L) | Europe | EU433 |\n| RAK3172(L) | China | CN470 |\n| RAK4200 (H) | Indian | IN865 |\n| RAK4200 (H) | Europe | EU868 |\n| RAK4200 (H) | North America | US915 |\n| RAK4200 (H) | Australia | AU915 |\n| RAK4200 (H) | Korea | KR920 |\n| RAK4200 (H) | Asia | AS923 |\n\n#### Electrical Characteristics\n\n##### Electrical Consumption\n\nSeveral current consumption ratings are provided below for a detailed RAK4200 WisDuo LPWAN Module usage. Refer to the values provided for specific simulations and calculations.\n\n##### Operating Voltage\n\n| Feature | Minimum | Typical | Maximum | Unit      |\n| :-----: | :-----: | :-----: | :-----: | :-------: |\n| VCC     | 2.0     | 3.3     | 3.6     | Volts (V) |\n\n##### Laboratory Testing\n\nThe following figures shown below are the average current consumptions based on the different test cases.\n\n**Materials:**\n\n- Power Consumption Meter\n- RAK4200 WisDuo LPWAN Module\n\n**LoRa Packet Sending**\n\nThe RAK4200 WisDuo LPWAN Module takes **53.155Â ms** to send a LoRa packet which consumes **68.4Â mA** of current.\n\n- **Sending Time**: 53.155Â ms\n- **Current consumption**: 68.4Â mA\n\n> **Image:** Oscilloscope Screen Capture of LoRa Packet Sending\n\n**LoRa Packet Receiving**\n\nThe RAK4200 WisDuo LPWAN Module takes **46.179Â ms** to receive a LoRa packet which consumes **17.1Â mA** of current.\n\n- **Receiving Time**: 46.179Â ms\n- **Current consumption**: 17.1Â mA\n\n> **Image:** Oscilloscope Screen Capture of LoRa Packet Receiving\n\n##### Operating Current\n\n| Feature           | Condition | Minimum | Typical | Maximum | Unit |\n| :---------------: | :-------: | :-----: | :-----: | :-----: | :--: |\n| Operating Current | TX Power  | 68.4    |         |         | mA   |\n|                   | RX Mode   | 17.1    |         |         | mA   |\n\n##### Sleep Current\n\n| Feature             | Condition | Minimum (2.0V) | Typical (3.3V) | Maximum | Unit |\n| :-----------------: | :-------: | :------------: | :------------: | :-----: | :--: |\n| Current Consumption | EU868     | 1.08           | 8.66           |         | Î¼A   |\n|                     | US915     | 1.14           | 9.40           |         | Î¼A   |\n|                     | CN470     | 1.13           | 7.88           |         | Î¼A   |\n\n##### Schematic\n\n> **Image:** RAK4200 Module Schematic Diagram\n\n> **Image:** RAK4200 Module Reference Circuit\n\n#### Mechanical Characteristics\n\n> **Image:** Mechanical Dimensions\n\n#### Recommended Reflow Profile\n\n- MSL Rating : Class 3\n\n> **Image:** Recommended Reflow Profile\n\n##### Standard Conditions for Reflow Soldering:\n\n- **Pre-heating Ramp** (A) (Initial temperature: 150Â â„ƒ): 1-2.5Â â„ƒ/sec;\n- **Soaking Time** (T2) (150Â â„ƒ~180Â â„ƒ): 60sec-100sec;\n- **Peak Temperature**(G): 230~250Â â„ƒ;\n- **Reflow Time** (T3) (>220Â â„ƒ): 30~60 sec;\n- **Ramp-up Rate** (B): 0~2.5Â â„ƒ/ sec;\n- **Ramp-down Rate** (C): 1~3Â â„ƒ/ sec.\n\n### Software\n\nDownload the latest firmware of the RAK4200 WisDuo LPWAN Module as provided in the table below.\n\n\n> **TIP:** NOTE\n\nThe **bin file** contains the application code only, and you need the RAK DFU Tool to upload this file to the module.\n\nThe **hex file** contains both the bootloader and the application code. You need to use STM32CubeProgrammer to upload this.\n\n\n#### Firmware\n\n| Model Source | Source                                                                                          |\n| :----------: | :---------------------------------------------------------------------------------------------: |\n| RAK4200      | [Download](https://downloads.rakwireless.com/LoRa/RAK4200/Firmware/RAK4200_Latest_Firmware.zip) |\n\n<!-- ## Certification -->","keywords":[],"source_file":"wisduo\\rak4200-module\\datasheet.md","token_count":0}
{"id":"d03e7c664dbdcff497894585b6363855","product_family":"wisduo","product_id":"rak4200-module","category":"Concept","title":"RAK4200 Module Firmware Customization Overview","content":"## Overview\n\n### Introduction\n\nThe product portfolio of the RAK LoRa node RAK4200 module. These modules come with a standard version of firmware that allows the customers to integrate quickly these modules in their solutions for LoRaWAN or LoRa P2P communication through the AT commands interface.\n\nFurther customization of the firmware can be done through the RUI Online compiler. At this layer the customized firmware interface with the hardware through the RUI Core abstraction layer. In RAK we called this a secondary firmware development/customization.\n\nAdditionally, RAK offers a third alternative for advanced customers who need to have deeper integration of their solutions with these modules. In this alternative, the customer could develop their own version of firmware that runs inside of the RAK modules.\n","keywords":[],"source_file":"wisduo\\rak4200-module\\low-level-development.md","token_count":0}
{"id":"fadf1056c3e6847c8f6692428e472a7c","product_family":"wisduo","product_id":"rak4200-module","category":"General","title":"RAK4200 WisDuo LPWAN Module Overview","content":"# RAK4200 WisDuo LPWAN Module\n\nThank you for choosing **RAK4200 WisDuo LPWAN Module** in your awesome IoT Project! ðŸŽ‰ To help you get started, we have provided you all the necessary documentation for your product.\n\n* [Quick Start Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/quickstart/)\n* [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/at-command-manual/)\n* [RUI Secondary Development](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui/) - RAK4200 module supports RUI Secondary Development, refer to RUI documentation for further details.\n* [Low Level Development](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/low-level-development/)\n* [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/)\n* [Reference Design](https://docs.rakwireless.com/product-categories/wisduo/rak4200-breakout-board/datasheet/#schematic-diagram)\n","keywords":[],"source_file":"wisduo\\rak4200-module\\overview.md","token_count":0}
{"id":"bf1e43d3ba884f57e69cb6d316d0a639","product_family":"wisduo","product_id":"rak4200-module","category":"Concept","title":"RAK4200 WisDuo LPWAN Module Overview","content":"## Product Description\n\n**RAK4200 WisDuo LPWAN Module** includes an STM32L071 MCU and an SX1276 LoRa chip. It has Ultra-Low Power Consumption of 9.40Â uA (down to 1.08Â Î¼A @ 2.0Â V) in sleep mode and high LoRa output power up to 19Â dBm max in work mode.\n\nThe module complies with LoRaWAN 1.0.2 specification. It also supports LoRa P2P Point-to-Point communications. The module is suitable for various applications that require long-range data acquisition and low power consumption.\n","keywords":[],"source_file":"wisduo\\rak4200-module\\overview.md","token_count":0}
{"id":"9b4652a6ae9d9f0c00f020a74ff933af","product_family":"wisduo","product_id":"rak4200-module","category":"Concept","title":"RAK4200 Module Product Features","content":"## Product Features\n\n- LoRa module for Smart City, Smart Agriculture, Smart Industry\n- **Compact Form Factor**: 15 x 15.5 x 2.5Â mm\n- 20 Pin Stamp Pad for PCB SMT mounting\n- **I/O ports**: UART/I2C/GPIO/ADC\n- **Temperature range**: -40Â Â°C to +85Â Â°C\n- **Supply voltage**: 2.0 ~ 3.6Â V\n- **Frequency range**: 863â€“870Â MHz (EU) / 902â€“928Â MHz (US), ISM and SRD systems\n- Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz Bandwidth\n- Ultra-Low Power Consumption of 9.40Â Î¼A (down to 1.08Â Î¼A @ 2.0Â V) in sleep mode\n- **Core**: ARM 32-bit Cortex â€“ M0+ with MPU\n- Up to 128Â KB flash memory with ECC\n- 20Â KB RAM\n- 6Â KB of data EEPROM with ECC\n\n","keywords":[],"source_file":"wisduo\\rak4200-module\\overview.md","token_count":150}
{"id":"ad09d30830d33c455733e02b19b54407","product_family":"wisduo","product_id":"rak4200-module","category":"How-To","title":"Prerequisites for RAK4200 WisDuo LPWAN Module Installation","content":"## Prerequisites\n\n### What Do You Need?\n\nBefore going through the step in the installation guide of the RAK4200 WisDuo LPWAN Module, make sure to prepare the necessary items listed below:\n\n#### Hardware Tools\n\n1. [**RAK4200 WisDuo LPWAN Module**](https://store.rakwireless.com/products/rak4200-lora-module?utm_source=RAK4200LPWANModule&utm_medium=Document&utm_campaign=BuyFromStore)\n2. Windows PC\n3. USB to TTL adapter\n4. [RAKDAP1 Flash and Debug Tool](https://store.rakwireless.com/products/daplink-tool?utm_source=RAKDAP1&utm_medium=Document&utm_campaign=BuyFromStore)\n\n#### Software Tools\n\n- [RAK Serial Port Tool](https://downloads.rakwireless.com/LoRa/Tools/RAK_SERIAL_PORT_TOOL_V1.2.1.zip)\n- [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n- [RAK4200 Firmware](https://downloads.rakwireless.com/#LoRa/RAK4200/Firmware/)\n- [CH340 Drivers](https://downloads.rakwireless.com/#LoRa/Tools/)\n- [RAKDAP1 Flash and Debug Tool](https://docs.rakwireless.com/product-categories/accessories/rakdap1/overview/)\n\n#### Definition of Terms\n\n##### List of Acronyms\n\n| Acronym | Meaning                       |\n| :-----: | :---------------------------: |\n| ABP     | Activation By Personalization |\n| BLE     | Bluetooth Low Energy          |\n| DFU     | Device Firmware Upgrade       |\n| EUI     | Extender Unique Identifier    |\n| LoRa    | Long Range                    |\n| OTAA    | Over The Air Activation       |\n| TTN     | The Things Network            |\n| P2P     | Peer-to-Peer                  |\n","keywords":[],"source_file":"wisduo\\rak4200-module\\quickstart.md","token_count":0}
{"id":"722ec36b2cb4fd9df19a082f0b6e6d43","product_family":"wisduo","product_id":"rak4200-module","category":"How-To","title":"Configuring RAK4200 Module and Connecting to The Things Network (TTN)","content":"## Product Configuration\n\n### Connecting to the RAK4200 Console\n\nDuring the configuration of the module through the AT commands, it is possible to read the console output. You can connect to the console of the RAK4200 module through the UART interface.\n\n#### Connect to the RAK4200\n\nIn this document, a RAK4200 module is used for demonstration. Use a USB to TTL adapter to connect to the module. In case the RAK4200 is mounted on an evaluation board or a customized PCB, then use the appropriate interface to connect to the serial port.\n\n1. Connect the RAK4200 to a USB to TTL adapter, as shown in **Figure 1**.\nConnect the adapter to a USB port of your Windows PC.\n\n> **Image:** RAK4200 module connection\n\n2. Install a serial communication tool. Any serial communication tool will work, but it is recommended to use the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools/).\n\n3. Open the RAK Serial Port Tool.\n\n> **Image:** RAK Serial Port Tool\n\n4. To find the COM Port number for your device, go to Device Manager by pressing Windows + R and type `devmgmt.msc`, or search in the Start Menu.\nLook for Ports (COM & LPT) and find the name **USB-SERIAL CH340**. Take note of the COM Port number.\n\n> **Image:** Device Manager\n\n\n> **TIP:** NOTE\nIf you didn't find any port with the name USB-Serial CH340, make sure you have installed the CH340 drivers on your Windows PC.\n\n\n4. Fill in the serial communication parameters: COM Port Number from the Device Manager and Baudrate 115200, then click the â€œ**OPEN**â€ button.\n\n5. The RAK4200 console output can now be read in the RAK Serial Port Tool, as shown in **Figure 4**.\n\n> **Image:** RAK serial port tool connected to RAK4200\n\n#### Configure RAK4200\n\nTo connect the RAK4200 module to a LoRa P2P network or a LoRaWAN network, the module must be configured and LoRa parameters must be set by sending AT commands through the UART interface.\n\nConnect the RAK4200 module to the Windows PC as described in the previous section. Using the Serial communication tool, it is possible to send commands to the RAK4200. For example: Sending the `at+version` command will display the current firmware version, as shown in **Figure 5**. For more supported commands, refer to [AT Commands for RAK4200](at-command-manual).\n\n> **Image:** at+version command response\n\n### Connecting to The Things Network (TTN)\n\nThis section shows how to connect the RAK4200 module to The Things Network (TTN) platform.\nAs described in the TTNâ€™s website:\n\"The engine of The Things Network is our technology - a robust yet flexible and enterprise-ready LoRaWAN network server stack. Our stack caters to the needs of demanding LoRaWAN deployments, from covering the essentials to advanced security configurations and device life cycle management. Backed by SLAs to meet your availability requirements, facilitated by our team of support engineers\"\n\n> **Image:** RAK4200 in the context of the TTN\n\nAs shown in **Figure 6**, the RAK4200 module is one of the devices located on the left side. In the context of an IoT solution, the objective is to deploy devices to sense the relevant process variables and transmit the data to the backend servers located in the cloud. The data will be processed and integrated as part of a larger solution that, ultimately, could generate efficiency, traceability, predictability capacity among others.\n\nThe RAK4200 module can be part of this ecosystem, and the objective of this section is to demonstrate how simple is to send data to TTN using LoRaWAN. Users must be aware that to achieve this, the RAK4200 must be located inside of coverage of a LoRaWAN gateway.\n\nIn summary, these are the requirements:\n\n- Have an account on the TTN website.\n- Have access to a LoRaWAN gateway subscribed to the TTN. The frequency band set for the RAK4200 needs to be consistent with the frequency band of the gateway.\n- The \"RAK Serial Port Tool\" provided by RAKWireless.\n- The RAK4200 module is connected to a USB to TTL adapter, as shown in **Figure 1**.\n\n\n> **TIP:** NOTE\nThe frequency band used in this example is EU868, which is supported by the high-frequency version of the RAK4200 module.\n\n\nThe steps for sending data to the TTN platform from a RAK4200 module can be summarized as:\n\n- Sign up and log in to the TTN console\n- Create a new Application\n- Register a new device in the platform\n- Configure the Join Mode\n   - OTAA mode on the platform\n   - OTAA mode on the RAK4200 module\n   - ABP mode on the platform\n   - ABP mode on the RAK4200 module\n   - Send data from the module and receive it at the platform\n\nIn the following sections, each of these steps will be explained in detail. You can choose either to use ABP or OTAA mode to register the device on the network server.\n\n#### Registering the RAK4200 to TTN\n\nTo register the RAK4200 to TTN, execute the following steps:\n\n##### Login to The Things Network Platform\n\n1. Access and login into the [TTN](https://www.thethingsnetwork.org/), and go to its â€œ**Console**â€ section by clicking on the Console icon. You should see an interface similar to **Figure 7**.\n\n> **Image:** Console Page\n\n##### Create a New Application\n\n2. Choose the â€œ**APPLICATIONS**â€ option.\n\n> **Image:** Application section\n\n3. Click on the â€œ**add application**â€ link.\n\n> **Image:** New Application Form\n\n4. Fill in the correct contents in the â€œAdd application formâ€:\n\n   - **Application ID**: a unique ID on the TTN network that should be in lower case with no spaces\n   - **Description**: This is a short and concise human-readable description of your application\n   - **Application EUI**: automatically generated by TTN\n   - **Handler Registration**: select the handler you want to register this application to\n\n> **Image:** Fill the Add Application Form\n\n5. To finish, click on the â€œ**Add application**â€ button and a page similar to **Figure 11** will appear.\n\n> **Image:** Application Overview\n\n##### Register a New Device in the Platform\n\n6. In the â€œ**Application details**â€ page, find the â€œ**DEVICES**â€ section by the middle of this page.\n\n> **Image:** DEVICES section\n\n7. Click on the â€œ**register device**â€ link, then a â€œ**register device form**â€ will appear.\n\n> **Image:** Register a New Device\n\nIn this form, the device ID must be unique for the application and must be completed with lower case, alphanumeric characters. The rest of the parameters in the form are very important for the LoRaWAN protocol:\n\n- Device EUI\n- Application Key\n- Application EUI\n\nThe TTN platform can generate these parameters randomly by leaving those fields empty or you can enter already existing values.\n\n8. Press the â€œ**Register**â€ button to finish the process. The registration results will appear summarized, as shown in **Figure 14**.\n\n> **Image:** New Device Overview\n\n#### LoRaWAN Join Mode\n\nThe LoRaWAN specification defines that to join in a LoRaWAN network, each end-device has to be personalized and activated. Activation can be done either via Over-The-Air-Activation (OTAA) or via Activation-By-Personalization (ABP). In OTAA, the end-device previously personalized is activated when deployed or reset. In ABP, personalization and activation are done as a single step.\n\n##### Join in OTAA Mode\n\n###### Configure the OTAA Mode on the TTN Platform\n\nAs shown in **Figure 15**, the default activation mode in TTN is the OTAA mode. Therefore, no further actions are required on the platform side.\n\n> **Image:** New Device Parameters\n\nThree parameters from TTN setup are used to configure the RAK4200: â€œ**Device EUI**â€, â€œ**Application EUI**â€, and â€œ**App Key**â€.\n\n###### Configure the OTAA Mode on the RAK4200 Module\n\nRAK4200 complies with LoRaWAN 1.0.2 specification. By default, the LoRa join mode is **OTAA**, and the LoRa class is **Class A**.\n\nTo set up the RAK4200 module to join the TTN using OTAA, start by connecting the RAK4200 module to the computer. Open the RAK Serial Port Tool and wait for the communication to start. It is recommended to test the serial communication by sending an AT command as `at+get_config=lora:status` or `at+version`.\n\n> **Image:** RAK Serial Port Tool connected to a RAK4200\n\nAs an example, the following parameters will be configured in RAK4200:\n\n- **LoRa join mode**: OTAA\n- **LoRa class**: Class A\n- **LoRa region**: EU868\n- **Device EUI**: 5e9d1e0857cf25f1 (from TTN registration)\n- **Application EUI**: 5e9d1e0857cf25f1 (from TTN registration)\n- **Application Key**: f921d50cd7d02ee3c5e6142154f274b2 (from TTN registration)\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region.\n\nFor the Europe region, type the command:\n\n```\nat+set_config=lora:region:EU868\n\n```\n\n* Refer to the [RAK4200 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/#operating-frequencies) for the list of supported frequencies.\n\n\n> **TIP:** NOTE\nRemember that the device frequency shall be in the same band of the gateway.\n\n\n4. Set the Device EUI.\n\nGet the Device EUI number from TTN registration.\n\n```\nat+set_config=lora:dev_eui:5e9d1e0857cf25f1\n```\n\n5. Set the Application EUI.\n\nGet the Application EUI number from the TTN registration.\n\n\n> **TIP:** NOTE\nAll zero value Application EUI `at+set_config=lora:app_eui:0000000000000000` is **not supported** and will return error.\n\n\n```\nat+set_config=lora:app_eui:5e9d1e0857cf25f1\n```\n\n6. Set the Application Key.\n\nGet the Application Key from the TTN registration.\n\n```\nat+set_config=lora:app_key:f921d50cd7d02ee3c5e6142154f274b2\n```\n\n7. Save the RAK4200 parameters.\n\nReset the RAK4200 to save the parameters.\n\n**Figure 17** summarizes the set of commands sent over the console to set the OTAA mode on the RAK4200.\n\n> **Image:** RAK4200 LoRa parameters configuration over the RAK Serial Port Tool\n\n8. Finally, send the command to join in OTAA mode.\n\n```\nat+join\n```\n* If the request was successfully received by a LoRa gateway, then the â€œOK Join Successâ€ message will be shown in the console after a few seconds. See **Figure 18**.\n\n> **Image:** RAK4200 join OTAA mode\n\n9. Send data from RAK4200 to TTN.\n\nTo send the string 1234567890 over LoRa port 2, type the command:\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** RAK4200 example of sending data to the TTN, in this case, the string 123456890 over port 2\n\n1.  The data will appear on the TTN console: **Applications** -> **rak_node_test** -> **Devices** -> **rak_node** -> **Data**\n\n> **Image:** TTN console showing the data received from RAK4200\n\n##### Join in ABP Mode\n\n###### Configure the ABP Mode on the Platform\n\nAs shown previously, the default activation mode in TTN is the OTAA mode. Therefore, no further actions are required on the platform side.\n\nThree parameters from TTN setup are used to configure the RAK4200: â€œ**Device EUI**â€, â€œ**Application EUI**â€, and â€œ**App Key**â€.\n\nFor joining TTN in ABP mode, first, you need to change the activation method to ABP. It is done on the TTN console under the â€œ**Device Settings**â€ page, as shown in **Figure 21**.\n\n> **Image:** Change the activation mode to ABP\n\nAs for the OTAA mode, three TTN parameters will be used to configure the RAK4200 for ABP mode: â€œ**Device Address**â€, â€œ**Network Session Key**â€, and â€œ**App Session Key**â€. These fields can be left empty in the form and TTN will complete them with random values. In other case, you can complete them with specific values.\n\n> **Image:** ABP Mode Parameters\n\nAfter completing the mode change, the device parameters will be summarized on: **Applications** -> **rak_node_test** -> **Devices** -> **rak_node**. See **Figure 23**.\n\n> **Image:** ABP mode configuration finalized\n\n###### Configure the ABP Mode on the RAK4200 Module\n\nRAK4200 complies with LoRaWAN 1.0.2 specification. By default, the LoRa join mode is **OTAA**, and the LoRa class is **Class A**.\n\nTo set up the RAK4200 module to join the TTN using ABP, start by connecting the RAK4200 module to the Windows PC. Then open the RAK Serial Port Tool and wait for the communication to start. It is recommended to test the serial communication by sending an AT command as `at+get_config=lora:status` or `at+version`.\n\n> **Image:** RAK Serial Port Tool connected to a RAK4200\n\nAs an example, the following parameters will be configured in RAK4200:\n\n- **LoRa join mode**: ABP\n- **LoRa class**: Class A\n- **LoRa region**: EU868\n- **Device address**: 26031171 (from TTN registration)\n- **Network Session Key**: c280cb8d1df688bc18601a97025c5488 (from TTN registration)\n- **Application Session Key**: 4d42ec5caf97f03d833cdaf5003f69e1(from TTN registration)\n\n1. Set LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the Frequency/Region.\n\nFor the Europe region, type the command:\n```\nat+set_config=lora:region:EU868\n```\n\n* Refer to the [RAK4200 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/#operating-frequencies) for the list of supported frequencies.\n\n\n> **TIP:** NOTE\nRemember that the device frequency shall be in the same band of the gateway.\n\n\n4. Set the Device Address.\n\nGet the Device Address from TTN registration.\n\n```\nat+set_config=lora:dev_addr:26031171\n```\n\n5. Set the Network Session Key.\n\nGet the Network Session Key from the TTN registration.\n\n```\nat+set_config=lora:nwks_key:c280cb8d1df688bc18601a97025c5488\n```\n\n6. Set the Application Key.\n\nGet the Application Key from the TTN registration.\n\n```\nat+set_config=lora:apps_key: 4d42ec5caf97f03d833cdaf5003f69e1\n```\n\n7. Save the RAK4200 parameters.\n\nReset the RAK4200 to save the parameters. **Figure 25** summarizes the set of commands sent over the console for setting the OTAA mode on the RAK4200.\n\n> **Image:** RAK4200 LoRa parameters configuration over the Serial Port Tool\n\n8. Send the command to join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\nThe ABP mode in LoRaWAN does not require to join a network before sending a LoRaWAN package. But to keep the consistency of the internal states of the firmware of the RAK4200 module, it is still required to send the `at+join` command in the ABP mode.\n\n\nRight after sending the command, the â€œ**OK Join Success**â€ should be replied to in the console the same, as shown in **Figure 25**.\n\n> **Image:** RAK Serial port tool join LoRaWAN in ABP mode\n\n9. Send data from RAK4200 to ChirpStack.\n\nTo send the string 1234567890 over LoRa port 2, type the command:\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** RAK Serial Port Tool, sending a message in ABP mode\n\n* The data will appear on the TTN console: **Applications** -> **rak_node_test** -> **Devices** -> **rak_node** -> **Data**.\n\n> **Image:** TTN console with received data from RAK4200\n\n### Connecting with ChirpStack\n\nThis section shows how to connect the RAK4200 module to the ChirpStack platform. As described on ChirpStackâ€™s website:\n\nâ€œThe ChirpStack open-source LoRaWAN Network Server stack provides open-source components for LoRaWAN networks. Together they form a ready-to-use solution including a user-friendly web interface for device management and APIs for integration.\n\nThe modular architecture makes it possible to integrate within existing infrastructures. All components are licensed under the MIT license and can be used for commercial purposes.â€\n\n> **Image:** RAK4200 module in the context of the ChirpStack platform\n\nThe architecture of the ChirpStack platform is shown in **Figure 28**. Similar to the case of TTN, the RAK4200 module is located in the periphery and will transmit the data to the backend servers through a LoRa gateway. For more information about this architecture, refer to [Chirpstack website](https://www.chirpstack.io/).\n\nIn this section, it is assumed that you are using a RAK LoRa gateway, such as RAK7243. The gateway must be configured to ChirpStack deployment. More information about that can be found at [Connect the Gateway with Chirpstack](https://docs.rakwireless.com/product-categories/wisgate/rak7243/quickstart/#connect-the-gateway-with-chirpstack).\n\nYou can also check the other RAK gateways [RAK WisGate products](https://docs.rakwireless.com/product-categories/wisgate).\n\n\n> **TIP:** NOTE\nThe frequency band used in this example is EU868, which is supported by the high-frequency version of RAK4200.\n\n\nAnd these are the steps to send data to the ChirpStack platform from a RAK4200 module:\n\n- Create a new Application\n- Register a new device on the platform\n- Configure the Join Mode:\n  - OTAA mode on the platform\n  - OTAA mode on the RAK4200 module\n  - ABP mode on the platform\n  - ABP mode on the RAK4200 module\n  - Send data from the module and receive it at the platform\n\nThe following section gives the details of each of these aforementioned steps. As usual, you can either choose to use ABP or OTAA mode to register the device to the network server.\n\n#### Create a New Application\n\n1. Go to the â€œ**Applications**â€ section, as shown in **Figure 30**.\n\n> **Image:** Applications section of the RAKâ€™s ChirpStack LoRaServer\n\n2. By default, a new Application should be created, although it is possible to reuse the existing ones. For this setup, create a new Application by clicking on the â€œ**+ CREATE**â€ button and filling in the required parameters, as shown in **Figure 31** and **Figure 32**.\n\n> **Image:** Creating a new Application\n\n3. For this setup, create an Application named â€œ**rak_node_test**â€. Fill in the required parameters, as shown in **Figure 32**.\n\n4. To finish, click on the â€œ**CREATE APPLICATION**â€ button.\n\nChirpStack LoRaServer supports multiple system configurations, with only one by default.\n\n* **Application Name**: rak_node_test\n* **Application Description**: test\n* **Service-profile**: Select the system profile. Choose service-profile-built-in\n\nThe **Application Description** field is just a descriptive text.\n\n> **Image:** Filling the Application Parameters\n\n#### Register a New Device in the Platform\n\n1. Choose the Application created in the previous step, then select the â€œ**DEVICES**â€ tab, as shown in **Figure 33** and **Figure 34**.\n\n> **Image:** List of applications created\n\n> **Image:** Device tab of an Application\n\n2. Once inside of the â€œ**DEVICES**â€ tab, create a new device (LoRa node) by clicking on the â€œ**+ CREATE**â€ button.\n\n> **Image:** Add a new device at the Devices tab\n\n> **Image:** New device registration form\n\n3. Fill in the parameters requested as appears in **Figure 37**:\n\n- **Device name and Device description**: These are just descriptive texts.\n- **Device EUI**: This interface allows you to generate a Device EUI automatically by clicking the icon highlighted in red in **Figure 37**. You can also add a specific Device EUI directly in the form.\n- **Device Profile**: To join in OTAA mode, select â€œ**device_profile_otaa**â€. To join in ABP mode, select â€œ**device_profile_abp**â€.\n\n4. To finish, click on the â€œ**CREATE DEVICE**â€ button.\n\n\n> **TIP:** NOTE\nChirpStack does not support AS923 in ABP mode.\n\n\n> **Image:** Generate a new Device EUI in the device registration form\n\n#### LoRaWAN Join Mode\n\nThe LoRaWAN specification defines that to join in a LoRaWAN network, each end-device has to be personalized and activated. Activation can be done either via Over-The-Air-Activation (OTAA) or via Activation-By-Personalization (ABP). In OTAA, the end-device previously personalized is activated when deployed or reset. In ABP, personalization and activation are done as a single step.\n\n##### Join in OTAA Mode\n\n###### Configure the OTAA Mode on the Platform\n\n1. If you have selected â€œ**device_profile_otaa**â€, as shown in **Figure 38**, then after the device is created, an Application Key must be also created for this device.\n\n> **Image:** Choosing OTAA mode in the device registration form\n\n2. A previously created Application Key can be entered here, or a new one can be generated automatically by clicking the icon highlighted in red, as shown in **Figure 39**.\n\n> **Image:** Application Key for the OTAA mode in the device registration form\n\n3. Once the Application Key is added to the form, the process can be finalized by clicking on the â€œ**SET DEVICE-KEYS**â€ button.\n\n4. As shown in **Figure 40**, a new device should be listed in the â€œ**DEVICES**â€ tab. The most important parameters, such as the Device EUI, are shown in the summary.\n\n> **Image:** New created device listed in the DEVICES tab\n\n5. To end the process, it is a good practice to review that the Application Key is properly associated with this device. The Application Key can be verified in the â€œ**KEYS(OTAA)**â€ tab, as shown in **Figure 41**.\n\n> **Image:** Application Key associated with the new device.\n\n\n> **TIP:** NOTE\nStandard OTAA mode requires the Device EUI, Application Key, and Application EUI; but in the ChirpStack implementation, only Device EUI and the Application Key are mandatory. The Application EUI is not required nor recorded in the Application tab. Nevertheless, the Application EUI is a mandatory parameter in the RAK4200 module firmware. To resolve this mismatch, reuse the Device EUI as the Application EUI during the configuration on the side of the node.\n\n\n###### Configure the OTAA Mode on the RAK4200 Module\n\nRAK4200 complies with LoRaWAN 1.0.2 specification. By default, the LoRa join mode is OTAA, and the LoRa Class is Class A.\nTo set up the RAK4200 module to join ChirpStack using OTAA, start by connecting the RAK4200 module to the computer (see **Figure 1**). Open the RAK Serial Port Tool, and wait for the communication to start. It is recommended to test the serial communication by sending an AT command as `at+get_config=lora:status` or `at+version`.\n\n> **Image:** RAK Serial Port Tool connected to a RAK4200\n\nAs an example, the following parameters will be configured in RAK4200:\n\n- **LoRa join mode**: OTAA\n- **LoRa class**: Class A\n- **LoRa region**: EU868\n- **Device EUI**: 5e9d1e0857cf25f1 (from ChirpStack registration)\n- **Application EUI**: 5e9d1e0857cf25f1 (from ChirpStack registration)\n- **Application Key**: f921d50cd7d02ee3c5e6142154f274b2 (from ChirpStack registration)\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa Class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region.\n\nFor the Europe region, type the command:\n```\nat+set_config=lora:region:EU868\n```\n\n* Refer to the [RAK4200 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/#operating-frequencies) for the list of supported frequencies.\n\n4. Set the Device EUI.\n\nGet the Device EUI number from ChirpStack registration.\n\n```\nat+set_config=lora:dev_eui:5e9d1e0857cf25f1\n```\n\n5. Set the Application EUI.\n\nGet the Application EUI number from the ChirpStack registration.\n\n```\nat+set_config=lora:app_eui:5e9d1e0857cf25f1\n```\n\n\n> **TIP:** NOTE\nThe Application EUI parameter is not required in the ChirpStack platform; therefore, it is possible to use the same id as the Device EUI. Otherwise, the firmware will complain.\n\n\n6. Set the Application Key.\n\nGet the Application Key from the TTN registration.\n\nType command:\n```\nat+set_config=lora:app_key:f921d50cd7d02ee3c5e6142154f274b2\n```\n\n7. Save the RAK4200 parameters.\n\nReset the RAK4200 to save the parameters.\n\n**Figure 42** summarizes the set of commands sent over the console for setting the OTAA mode on the RAK4200.\n\n> **Image:** RAK4200 LoRa parameters configuration over the Serial Port Tool\n\n8. Send command to join in OTAA mode.\n\n```\nat+join\n```\n\n* If the request is successfully received by a LoRa gateway, then the â€œ**OK Join Success**â€ message will be shown in the serial console after a few seconds.\n\n> **Image:** RAK Serial Port Tool, join the network\n\nThe JoinRequest and JoinAccept messages are also displayed on the ChirpStack console, specifically in the â€œ**LORAWAN FRAMES**â€ tab, as shown in **Figure 45**.\n\n> **Image:** ChirpStack Console, checking LoRaWAN join request\n\n9. Send data from RAK4200 to ChirpStack.\n\nTo send the string 1234567890 over LoRa port 2, type the command:\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** RAK Serial Port Tool, send a LoRaWAN message.\n\nOn the ChirpStack platform, the messages shall appear in the **LORAWAN FRAMES** tab, as shown in **Figure 47**. By convention, messages sent from nodes to gateways are considered as â€œ**UPLINK**â€, while messages sent by gateways to nodes are considered as â€œ**DOWNLINK**â€.\n\n> **Image:** ChirpStack Console, checking LoRaWAN messages received.\n\n##### Join in ABP Mode\n\n###### Configure the ABP Mode on the Platform\n\nDuring the registration of a new device, if â€œ**device_profile_abp**â€ is selected, as shown in **Figure 48**, then the ChirpStack platform will assume that this device will join the LoRaWAN network using the ABP mode.\n\n\n> **TIP:** NOTE\nCheck **Disable frame-counter validation**. If the server cannot synchronize the node-side counting, the transmission will fail.\n\n\n> **Image:** ChirpStack Console, configuring a device in ABP mode\n\nAfter selecting the ABP mode, the following parameters appear in the Activation tab (See **Figure 49**):\n\n- Device address\n- Network Session Key\n- Application Session Key\n\n> **Image:** ChirpStack Console, parameters required for the ABP mode\n\nThe parameters can be generated as random numbers by the platform or you can set the values. Once these parameters are filled properly, the process is completed by clicking on the â€œ**(RE)ACTIVATE DEVICE**â€ button.\n\n###### Configure the ABP Mode on the RAK4200 Module\n\nRAK4200 complies with LoRaWAN 1.0.2, by default the LoRa join mode is OTAA and the LoRa Class is Class A.\nTo set up the RAK4200 module to join ChirpStack using ABP, start by connecting the RAK4200 module to the computer (see **Figure 1**). Open the RAK Serial Port Tool, and wait for the communication to start. It is recommended to test the serial communication by sending an AT command as `at+get_config=lora:status` or `at+version`.\n\n> **Image:** RAK Serial Port Tool connected to a RAK4200\n\nAs an example, the following parameters will be configured in RAK4200:\n\n- **LoRa join mode**: ABP\n- **LoRa class**: Class A\n- **LoRa region**: EU868\n- **Device address**: 26011af9 (from ChirpStack registration)\n- **Network Session Key**: c280cb8d1df688bc18601a97025c5488 (from ChirpStack registration)\n- **Application Session Key**: 4d42ec5caf97f03d833cdaf5003f69e1 (from ChirpStack registration)\n\n1. Set the LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n\n2. Set the LoRa Class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region.\n\nFor the Europe region, type the command:\n```\nat+set_config=lora:region:EU868\n```\n\n* Refer to the [RAK4200 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4200-module/datasheet/#operating-frequencies) for the list of supported frequencies.\n\n4. Set the Device Address.\n\nGet the Device Address from ChirpStack registration.\n\n```\nat+set_config=lora:dev_addr:26011af9\n```\n\n5. Set the Network Session Key.\n\nGet the Network Session Key from the ChirpStack registration.\n\n```\nat+set_config=lora:nwks_key:c280cb8d1df688bc18601a97025c5488\n```\n\n6. Set the Application Key.\n\nGet the Network Session Key from the ChirpStack registration.\n\n```\nat+set_config=lora:apps_key:4d42ec5caf97f03d833cdaf5003f69e1\n```\n\n7. Save RAK4200 parameters.\n\nReset the RAK4200 to save the parameters.\n\n**Figure 51** summarizes the set of commands sent over the console to set the ABP mode on RAK4200.\n\n> **Image:** RAK4200 LoRa parameters configuration over the Serial Port Tool\n\n8. Send command to join in ABP mode.\n\nAll the parameters required to join to a LoRaWAN network in OTAA mode have been configured. After the reset, you can send the join command:\n\n```\nat+join\n```\n\nRight after sending the command, the â€œ**OK Join Success**â€ should be replied to in the console, as shown in **Figure 52**.\n\n> **Image:** RAK4200 Serial Port Tool join\n\n\n> **TIP:** NOTE\nThe ABP mode in LoRaWAN does not require to join a network before sending a LoRaWAN package to the air. Moreover, to keep the consistency of the internal states of the firmware of the RAK4200 module, it is still required to send the `at+join` command in the ABP mode.\n\n\n9. Send data from RAK4200 to ChirpStack.\n\nTo send the string 1234567890 over LoRa port 2, type the command:\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** Sending a message in ABP mode\n\n* The console will feedback with an â€œOKâ€ message (see **Figure 53**). The sent data shall be displayed in the ChirpStack console.\n\n### LoRa P2P Mode\n\nThis section will show how to set and link two RAK4200 units to work in LoRa P2P mode.\nThe two RAK4200 units shall be set to operate at the same frequency, e.g: EU868.\n\nAs shown in the previous sections, the setup of the RAK4200 units is done by connecting them with a general-purpose computer through the UART port. The setup of each RAK4200 can be done separately, but testing the LoRa P2P mode will require having both units connected simultaneously to a UART port (this could be one computer with 2 ports or 2 computers with one UART port each).\n\n1. To set the RAK4200 to work in LoRa P2P mode, open the RAK Serial port tool and send the command, as shown in **Figure 54**: `at+set_config=lora:work_mode:1`.\n\n> **Image:** RAK4200 setting to LoRa P2P mode\n\n2. Configure the LoRa P2P parameters for both units. The command for setting the parameters has the format.\n`at+set_config=lorap2p:XXX:Y:Z:A:B:C`\n\nThe parameters are as follows:\n\n- XXX: Frequency in Hz.\n- Y: Spreading factor, [6, 7, 8, 9, 10, 11, 12].\n- Z: Bandwidth, [0:125Â kHz, 1:250Â kHz, 2:500Â kHz]\n- A: Coding Rate, [1:4/5, 2:4/6, 3:4/7, 4:4/8]\n- B: Preamble Length, 5~65535.\n- C: Power in dBm, 5~20.\n\nFor this example, the LoRa parameters are:\n\n- Link frequency: 869525000Â Hz\n- Spreading factor: 7\n- Bandwidth: 125Â kHz\n- Coding Rate: 4/5\n- Preamble Length: 5\n- Power: 5Â dBm\n\n3. It is translated into the following [RAK4200 AT command](at-command-manual) that is sent to both units, as shown in **Figure 55**:\n\n`at+set_config=lorap2p:869525000:7:0:1:5:5`\n\n> **Image:** Setting both RAK4200 units with the LoRa P2P parameters\n\n4. Next, set the transmission mode of the module. In this example, Unit 1 is set to sender mode, and unit 2 is set to receiver mode by AT command. See **Figure 56**.\n\nUnit 1(Sender): `at+set_config=lorap2p:transfer_mode:2`\nUnit 2(Receiver): `at+set_config=lorap2p:transfer_mode:1`\n\n> **Image:** Set the module in the sender (left) and in the receiver (right) mode\n\n5. To send a message with the string â€œ123456890â€ from Unit 1 to Unit 2, use the command on Unit 1:\n\n`at+send=lorap2p:1234567890`\n\nThe message will be automatically received by Unit 2. See **Figure 57**.\n\n> **Image:** Sending a message from RAK unit 1(left) to RAK unit 2 (right)\n","keywords":[],"source_file":"wisduo\\rak4200-module\\quickstart.md","token_count":0}
{"id":"ece09c72584560db662eac0306710acb","product_family":"wisduo","product_id":"rak4200-module","category":"How-To","title":"Firmware Update for RAK4200 Module","content":"## Miscellaneous\n\n### Firmware Update\n\nBefore to start working with the RAK4200, it is recommended to keep the RAK4200 module updated to the latest version of the firmware.\n\n\n> **TIP:** NOTE\n\nFor RAK4200 modules with firmware version V3.0.0.12 and below, you need to use the [STM32CubeProgrammer](https://www.st.com/en/development-tools/stm32cubeprog.html) to upgrade your firmware and upload the **.hex file** (not the .bin file) of the [latest RAK4200 firmware](https://downloads.rakwireless.com/#LoRa/RAK4200/Firmware/). The lower versions of the firmware have a different bootloader code and will not work on the RAK DFU Tool.\n\n\nIn the following sections, two (2) options for flashing new firmware in a RAK4200 module are shown: â€œ**Firmware Upgrade through DAPLink**â€ and â€œ**Firmware Upgrade through UART1**â€.\n\n#### Firmware Upgrade Through DAPLink\n\nRefer to the [RAKDAP1 Flash and Debug Tool Quickstart Guide](https://docs.rakwireless.com/product-categories/accessories/rakdap1-Flash-and-Debug-Tool/overview/).\n\n#### Firmware Upgrade Through UART1\n\n##### Minimum Hardware and Software Requirements\n\n|               |                                           |\n| :-----------: | :---------------------------------------: |\n| Computer      | A Windows/Linux/Mac computer              |\n| Firmware File | Bin firmware downloaded from the website. |\n| Others        | A USB to TTL adapter.                     |\n\n##### Firmware Upgrade Procedure\n\nFollow this procedure to upgrade the firmware in Device Firmware Upgrade (DFU) mode through the UART1 interface.\n\n1. Download the latest application firmware of the [RAK4200 module](https://downloads.rakwireless.com/#LoRa/RAK4200/Firmware/).\n2. Download the RAK Device Firmware Upgrade (DFU) tool. In this folder are the different DFU tools depending on your machine's OS.\n    - [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n3. Connect the RAK4200 module with a computer through USB to TTL adapter as shown in Figure 58:\n\n4. Open the RAK Device Firmware Upgrade (DFU) tool. Select the serial port and baud rate of the module, and then click on the \"Select Port\" button.\n\n> **Image:** Device Firmware Upgrade Tool\n\n5. Click on the \"**Select Firmware**\" button and choose the application firmware file of the module with the suffix \".bin\".\n\n> **Image:** Select firmware\n\n6. Click on the \"**Upgrade**\" button to upgrade the device. After the upgrade is complete, the RAK4200 module is now ready to work with the new firmware.\n\n> **Image:** Firmware upgrading\n\n> **Image:** Upgrade successful\n\n","keywords":[],"source_file":"wisduo\\rak4200-module\\quickstart.md","token_count":0}
{"id":"036b2dc4ffc733ebd5a3ef4f821fb1dd","product_family":"wisduo","product_id":"rak4200-module","category":"Reference","title":"RAK4200 Module RUI Secondary Development Overview","content":"\n\n<RkRedirect to='/product-categories/software-apis-and-libraries/rui/overview' />","keywords":[],"source_file":"wisduo\\rak4200-module\\rui-secondary-development.md","token_count":10}
