{"id":"9d1d7d13060f98097f2e46f36cce763e","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"RAK4270 Breakout Board AT Command Interface Overview","content":"## Introduction\n\nThe RAK4270 Breakout Board is designed to streamline LoRaWAN and LoRa point-to-point (P2P) communication. With its user-friendly AT commands accessible via a UART communication interface, the RAK4270 enables easy integration of LoRa technology into your projects. These commands allow you to configure the parameters required for both LoRaWAN and LoRa P2P communication.\n\nThe RAK4270 Breakout Board exposes serial communication on the **UART1 port** via **UART1_TX/PA9** and **UART1_RX/PA10**. The default UART1 parameters are **115200 baud rate, 8 data bits, no parity, and 1 stop bit (8-N-1)**. This port also supports firmware upgrades.\n\nAdditionally, the RAK4270 Breakout Board provides a second serial port, **UART2**, accessible via **UART2_TX/PA2** and **UART2_RX/PA3**. UART2 can serve as an alternative to UART1 for sending AT commands or for custom firmware development using [RUI](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui/). The default parameters for UART2 are **115200 baud rate, 8 data bits, no parity, and 1 stop bit (8-N-1)**.\n\nTo get familiar with the pin distribution and other hardware details, refer to [RAK4270 Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#hardware).\n\nIf only one UART is used in your project, it is recommended that you dedicate UART2 for AT commands and UART1 is reserved for firmware upgrade.\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"523ef5432d878524acbb221b992a7db4","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"Error Code Table for AT Commands","content":"## Error Code Table\n\n| Error Code | Description                                                                                                                                                                 |\n| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| 1          | The last command received is an unsupported AT command.                                                                                                                     |\n| 2          | Invalid parameter in the AT command.                                                                                                                                        |\n| 3          | There is an error when reading or writing the flash memory.                                                                                                                 |\n| 4          | There is an error when reading or writing through the IIC bus.                                                                                                                  |\n| 5          | There is an error when sending data through the UART port. Check if you exceed 256 bytes UART buffer.                                                                                                                  |\n| 80         | The LoRa transceiver is busy, could not process a new command.                                                                                                              |\n| 81         | LoRa service is unknown. Unknown MAC command received by the node. Execute commands that are not supported in the current state, such as sending the `at+join` command in P2P mode. |\n| 82         | The LoRa parameters are invalid.                                                                                                                                            |\n| 83         | The LoRa parameters are invalid.                                                                                                                                            |\n| 84         | The LoRa data rate (DR) is invalid.                                                                                                                                         |\n| 85         | The LoRa frequency and data rate are invalid.                                                                                                                               |\n| 86         | The device has not joined into a LoRa network.                                                                                                                              |\n| 87         | The length of the packet exceeded the maximum allowed by the LoRa protocol.                                                                                                 |\n| 88         | Service is closed by the server. Due to the limitation of duty cycle, the server will send the \"SRV_MAC_DUTY_CYCLE_REQ\" MAC command to close the service.                      |\n| 89         | This is an unsupported region code.                                                                                                                                         |\n| 90         | The duty cycle is restricted, preventing data transmission at this time. Data can only be sent once the time limit is lifted.                                                              |\n| 91         | No valid LoRa channel could be found.                                                                                                                                       |\n| 92         | No available LoRa channel could be found.                                                                                                                                   |\n| 93         | The status indicates an error, which typically signifies that the internal state of the protocol stack is incorrect.                                                                                              |\n| 94         | Time out reached while sending the packet through the LoRa transceiver.                                                                                                     |\n| 95         | Time out reached while waiting for a packet in the LoRa RX1 window.                                                                                                         |\n| 96         | Time out reached while waiting for a packet in the LoRa RX2 window.                                                                                                         |\n| 97         | There is an error while receiving a packet during the LoRa RX1 window.                                                                                                      |\n| 98         | There is an error while receiving a packet during the LoRa RX2 window.                                                                                                      |\n| 99         | Failed to join into a LoRa network.                                                                                                                                         |\n| 100        | A duplicate downlink message has been detected, indicating that a message with an invalid downlink count was received.                                                                              |\n| 101        | Payload size is not valid for the current data rate (DR).                                                                                                                   |\n| 102        | Many downlink packets are lost.                                                                                                                                             |\n| 103        | Address fail. The address of the received packet does not match the address of the current node.                                                                            |\n| 104        | Invalid MIC is detected in the LoRa message.                                                                                                                                |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"e557264b5fe547374dabc2ebb1550c69","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"Data Rate Configurations by Region for RAK4270 Breakout Board","content":"## Appendix I: Data Rate by Region\n\n**EU868/EU433/AS923**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF7 / 250Â kHz  | 11000                                |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       |                                      |\n\n**CN470/KR920**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6 ~ 15    | RFU                       |                                      |\n\n**US915**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 1         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 2         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 3         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 4         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 5 ~ 7     | RFU                       |                                      |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 13        | LoRa: SF7 / 500Â kHz  | 21900                                |\n| 14 ~ 15   | RFU                       |                                      |\n\n**AU915**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 7         | RFU                       | RFU                                  |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n\n**IN865**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | RFU                       | RFU                                  |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       | RFU                                  |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"c845a17e7ec02062f80ddb97180d055a","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"TX Power Configuration by Region for RAK4270 Breakout Board","content":"## Appendix II: TX Power by Region\n\n**EU868**\n\nBy default, MaxEIRP is considered to be +16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**US915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 22Â dBm.\n\n| TXPower | Configuration (Conducted Power) |\n| ------- | ------------------------------- |\n| 0       | MaxEIRP                         |\n| 1       | MaxEIRP - 2Â dB             |\n| 2       | MaxEIRP - 4Â dB             |\n| 3 ~ 9   | -                               |\n| 10      | 10Â dBm                     |\n| 11 ~ 15 | RFU                             |\n\n**AU915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 22Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1 ~ 10  | MaxEIRP - 2*TXPower  |\n| 11 ~ 15 | RFU                  |\n\n**KR920**\n\nBy default, MaxEIRP is considered to be +14Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**AS923**\n\nBy default, MaxEIRP shall be 16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**IN865**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 22Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8       | MaxEIRP - 16Â dB |\n| 9       | MaxEIRP - 18Â dB |\n| 10      | MaxEIRP - 20Â dB |\n| 11 ~ 15 | RFU                  |\n\n**CN470**\n\nBy default, MaxEIRP is considered to be +19.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**EU433**\n\nBy default, MAxEIRP is considered to be +12.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6 ~ 15  | RFU                  |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"2d33169392f7326a3276fdb8625caf71","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"Maximum Transmission Load by Region for RAK4270 Breakout Board","content":"## Appendix III: Maximum Transmission Load by Region\n\n\n> **TIP:** NOTE\nIn the following list:\n\n- **M**: The total length, including the MAC header.\n- **N**: The maximum usable payload size for user data, excluding the MAC header.\n\n\n**EU868**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n\n**US915**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 19          | 11          |\n| 1        | 61          | 53          |\n| 2        | 133         | 125         |\n| 3        | 250         | 242         |\n| 4        | 250         | 242         |\n| 5 ~ 7    | Not Defined | Not Defined |\n| 8        | 61          | 53          |\n| 9        | 137         | 129         |\n| 10       | 250         | 242         |\n| 11       | 250         | 242         |\n| 12       | 250         | 242         |\n| 13       | 250         | 242         |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**AU915**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | Not Defined | Not Defined |\n| 8        | 61          | 53          |\n| 9        | 137         | 129         |\n| 10       | 250         | 242         |\n| 11       | 250         | 242         |\n| 12       | 250         | 242         |\n| 13       | 250         | 242         |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**KR920**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6 ~ 15   | Not Defined | Not Defined |\n\n**AS923**\n\n| DataRate | Uplink MAC Payload Size (M) | Downlink MAC Payload Size (M) |  |  |\n| --- | --- | --- | --- | --- |\n|  | UplinkDwellTime = 0 | UplinkDwellTime = 1 | DownlinkDwellTime = 0 | DownlinkDwellTime = 1 |\n| 0 | 59 | N/A | 59 | N/A |\n| 1 | 59 | N/A | 59 | N/A |\n| 2 | 59 | 19 | 59 | 19 |\n| 3 | 123 | 61 | 123 | 61 |\n| 4 | 250 | 133 | 250 | 133 |\n| 5 | 250 | 250 | 250 | 250 |\n| 6 | 250 | 250 | 250 | 250 |\n| 7 | 250 | 250 | 250 | 250 |\n| 8 ~ 15 | RFU | RFU | RFU | RFU |\n\n**IN865**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n\n**CN470**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6 ~ 15   | Not Defined | Not Defined |\n\n**EU433**\n\n| DataRate | M           | N           |\n| -------- | ----------- | ----------- |\n| 0        | 59          | 51          |\n| 1        | 59          | 51          |\n| 2        | 59          | 51          |\n| 3        | 123         | 115         |\n| 4        | 250         | 242         |\n| 5        | 250         | 242         |\n| 6        | 250         | 242         |\n| 7        | 250         | 242         |\n| 8 ~ 15   | Not Defined | Not Defined |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"f3d8d36e01fd8a21aa5e7c65204a5d30","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"Pin Description of RAK4270 Breakout Board","content":"## Appendix IV: Pin Description of RAK4270 Breakout Board\n\nThe pin definition of the RAK4270 Breakout Board can be reviewed in the [Pin Definition](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#pin-definition) section of the Datasheet.\n\nThe following is a summary of the pins on the RAK4270 Breakout Board:\n\n\n> **TIP:** NOTE\nNot all pins of the RAK4270 module are exposed on the RAK4270 Breakout board header connectors. Below are the pins available on the RAK4270 Module that is on this Breakout board. For complete RAK4270 module pinouts information, refer to the [datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#pin-definition).\n\n\n1. **UART pins**:\n    - Pin 5 (RX1) and Pin 4 (TX1) are reserved for UART1.\n    - Pin 1 (RX2) and Pin 2 (TX2) are reserved for UART2.\n    - During sleep, Pin 5 (RX1) and Pin 1 (RX3) are automatically configured as wake up pins and in external interrupt mode with an internal pull-down resistor. Wake-up will be triggered by a rising edge on these RX pins.\n\n2. **SWD Debug Pins**: Pin 7 (SWDIO) and Pin 8 (SWCLK) are used for SWD debug port.\n\n3. **Power Pins**: The power pins on the RAK4270 module include VDD on Pin 20 and Ground pins (GND) are on Pin 11, Pin 13, Pin 14, and Pin 19.\n\n4. **Reset Pin**: The reset pin on the RAK4270 module is Pin 18 (MCU_NRST).\n\n5. **ADC Pin**: The ADC pin on the RAK4270 module is assigned to Pin 3 (UART2_DE).\n\n6. **GPIO Pins**: The GPIO pins available on the RAK4270 module are the following:\n\n    - Pin 3 (UART2_DE/PA1)\n    - Pin 6 (UART1_DE/PA12)\n    - Pin 9 (I2C_SCL/PB6)\n    - Pin 10 (I2C_SDA/PB7)\n    - Pin 16 (PB4)\n    - Pin 17 (PA8)\n\n\n> **TIP:** NOTE\nIf you plan to use the RAK4270 Breakout Board in a product, it is essential to understand how to upgrade its firmware for future updates. The firmware can be upgraded via **SWD** or **UART1**, both of which require a general-purpose PC.\n\n\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\at-command-manual.md","token_count":0}
{"id":"7050e1825a70ededd7cfae078a65f76b","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"RAK4270 Breakout Board Overview and Features","content":"## Overview\n\n### Description\n\nThe **RAK4270 Breakout Board** is a compact board specifically designed to simplify external connections to the RAK4270 pins. Its primary purpose is to provide access to the stamp module's pins via two rows of 2.54Â mm headers, making it convenient for debugging.\n\nThe RAK4270 LoRa Module includes an **STM32L071 MCU** and an **SX1262 LoRa chip**, which supports eight (8) spreading factors (**SF5 ~ SF12**) and signal bandwidth that can be adjusted between **7.8Â kHz** to **500Â kHz**. It has Ultra-Low Power Consumption of 2.31Â Î¼A (down to 1.61Â Î¼A @ 2.0Â V) in sleep mode, but during the Transmit mode, it can reach the maximum output power of **22Â dBm**. As a receiver, it can achieve a sensitivity of **-148Â dBm**.\n\nThe module complies with the LoRaWAN 1.0.2 protocol, so it can be used for implementing LoRa networks or Lora point-to-point communications. The module is suitable for various applications that require long-range data acquisition and low power consumption, like smart meters, supply chain and logistics tracking, agricultural sensors, smart cities, etc.\n\nThis module is expected to be controlled by an external controller through its UART interface by sending a set of AT commands. These AT commands control not only the state of this module but also set the LoRaWan communication parameters and payloads (see RAK [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/at-command-manual/)).\n\n### Features\n\n- LoRa module for Smart City, Smart Agriculture, Smart Industry\n- I/O ports: **UART/I2C/GPIO**\n- Temperature range: **-40Â Â°C** to **+85Â Â°C**\n- Supply voltage: **2.0 ~ 3.6Â V**\n- Supported bands: EU433, CN470, IN865, EU868, AU915, US915, KR920, and AS923-1/2/3/4\n- Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz bandwidth\n- Ultra-Low Power Consumption of 2.31Â Î¼A (down to 1.61Â Î¼A @ 2.0Â V) in sleep mode\n- Core: ARM 32-bit Cortex â€“ M0+ with MPU\n- Up to 128Â KB flash memory with ECC\n- 20Â KB RAM\n- 6Â KB of data EEPROM with ECC\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\datasheet.md","token_count":0}
{"id":"ac0d539e9e0c050e2809249c4e63fbfa","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"RAK4270 Breakout Board Hardware and Software Specifications","content":"## Specifications\n\n### Overview\n\nThe RAK4270 Breakout Board is shown in **Figure 1** that displays the top view of the module and the dimensions of the board.\n\n> **Image:** RAK4270 Breakout Board Dimensions\n\n### Hardware\n\nThe hardware specification is divided into five categories:\n\n- **Interfacing**: Details the connection methods and compatibility.\n- **Pinouts and Functions**: Lists the pins, their corresponding functions, and diagrams.\n- **Diagrams**: Includes detailed illustrations for better understanding.\n- **RF Parameters**: Covers the radio frequency specifications of the board.\n- **Electrical Parameters**: Provides tabular data on functionalities and standard values of the RAK4270 Breakout Board.\n\n#### Interfaces\n\n##### SWD Programming Interface\n\nTo program the breakout board with the DAPLink tool, the following pins are required:\n\n| **Connector/Pin** | **Name** | **I/O** | **Description**                  | **Alternate Functions**       |\n| :---------------: | -------- | :-----: | -------------------------------- | ----------------------------- |\n|       J1 5        | SWDIO    |   I/O   | Programming (STM32L071KBU6 PA13) | SWDIO, LPUART1_RX             |\n|       J1 6        | SWCLK    |   I/O   | Programming (STM32L071KBU6 PA14) | SWCLK, USART2_TX, LPUART1_TX  |\n|       J2 1        | VDD      |    -    | DC3V3                            | Supply voltage 2.0~3.3Â V |\n|       J2 4        | GND      |    -    | Ground                           | -                             |\n|       J2 5        | MCU_NRST |   I/O   | MCU reset (STM32L071KBU6 NRST)   | -                             |\n\n\n> **TIP:** NOTE\nIt is recommended to keep these GPIO's unconnected and not to use them to connect sensors, buttons, or other external components.\n\n\n##### UART Port\n\nThere are two UART ports on the RAK4270 Breakout Board. UART2_RX and UART2_TX are used as a command port and UART1_TX and UART1_RX are used as a command or upgrade port. It is recommended to connect UART2 to an external MCU and use UART1 for debugging and flashing.\n\n##### I2C Port\n\nI2C_SCL and I2C_SDA are the I2C port. Depending on the external device connected to it, it might be necessary to add 10Â kÎ© pull-up resistors to these lines.\n\n##### RF Port\n\nThe RF port is by default equipped with an SMA connector. If you need an IPEX connector, contact the customer service in advance. RAKwireless will replace the SMA connector with an IPEX-type connector.\n\n#### Pin Definition\n\n> **Image:** RAK4270 Breakout Board Pinout\n\nThe pin definitions of the RAK4270 Breakout Board are shown in the following tables below:\n\n##### J1 Pin Definitions\n\n|  Pin  | Name     |  I/O  | Description                                         | Alternate Functions                                             |\n| :---: | -------- | :---: | --------------------------------------------------- | --------------------------------------------------------------- |\n|   1   | UART2_RX |   I   | AT command UART (STM32L071KBU6 PA3)                 | TIM21_CH2, TIM2_CH4, USART2_RX, LPUART1_RX                      |\n|   2   | UART2_TX |   O   | AT command UART (STM32L071KBU6 PA2)                 | TIM21_CH1, TIM2_CH3, USART2_TX, LPUART1_TX, COMP2_OUT           |\n|   3   | UART2_DE |  I/O  | GPIO (STM32L071KBU6 PA1)                            | EVENTOUT, TIM2_CH2, USART2_RTS/ USART2_DE, TIM21_ETR, USART4_RX |\n|   4   | UART1_DE |  I/O  | General GPIO or UART(Reserved) (STM32L071KBU6 PA12) | SPI1_MOSI,EVENTOUT, USART1_RTS/ USART1_DE, COMP2_OUT            |\n|   5   | SWDIO    |  I/O  | Programming (STM32L071KBU6 PA13)                    | SWDIO, LPUART1_RX                                               |\n|   6   | SWCLK    |  I/O  | Programming (STM32L071KBU6 PA14)                    | SWCLK, USART2_TX, LPUART1_TX                                    |\n|   7   | I2C_SCL  |  I/O  | I2C interface (STM32L071KBU6 PB6)                   | USART1_TX, I2C1_SCL, LPTIM1_ETR                                 |\n|   8   | I2C_SDA  |  I/O  | I2C interface (STM32L071KBU6 PB7)                   | USART1_RX, I2C1_SDA, LPTIM1_IN2, USART4_CTS                     |\n\n##### J2 Pin Definitions\n\n|  Pin  | Name     |  I/O  | Description                                       | Alternate Functions                                             |\n| :---: | -------- | :---: | ------------------------------------------------- | --------------------------------------------------------------- |\n|   1   | VDD      |   -   | DC3V3                                             | Supply voltage 2.0~3.3Â V                                   |\n|   2   | UART1_TX |  I/O  | Upgrade UART or General GPIO (STM32L071KBU6 PA9)  | MCO, USART1_TX, I2C1_SCL, I2C3_SMBA                             |\n|   3   | UART1_RX |  I/O  | Upgrade UART or General GPIO (STM32L071KBU6 PA10) | USART1_RX, I2C1_SDA                                             |\n|   4   | GND      |   -   | Ground                                            | -                                                               |\n|   5   | MCU_NRST |  I/O  | MCU reset (STM32L071KBU6 NRST)                    | -                                                               |\n|   6   | PA8      |  I/O  | STM32L071KBU6 PA8                                 | MCO, EVENTOUT, USART1_CK, I2C3_SCL                              |\n|   7   | PB4      |  I/O  | STM32L071KBU6 PB4                                 | SPI1_MISO, TIM3_CH1, TIM22_CH1, USART1_CTS, USART5_RX, I2C3_SDA |\n|   6   | NC       |  I/O  | Not Connected                                     | -                                                               |\n\n##### J4 Pin Definitions\n\n|  Pin  | Name |  I/O  | Description | Alternate Functions           |\n| :---: | ---- | :---: | ----------- | ----------------------------- |\n|   1   | VDD  |   -   | DC3V3       | Supply voltage 2.0~3.3Â V |\n|   2   | GND  |   -   | Ground      | GND                           |\n\n#### RF Characteristics\n\n##### Operating Frequencies\n\nThe RAK4270 Breakout board supports the following LoRaWAN bands:\n\n| **Module** | **Region**    | **Frequency (MHz)** |\n| ---------- | ------------- | ------------------- |\n| RAK4270(L) | Europe        | EU433               |\n|            | China         | CN470               |\n| RAK4270(H) | India         | IN865               |\n|            | Europe        | EU868               |\n|            | North America | US915               |\n|            | Australia     | AU915               |\n|            | Korea         | KR920               |\n|            | Asia          | AS923               |\n\n#### Electrical Characteristics\n\n##### Power Consumption\n\nValues listed in the table are values measured with a LoRa frequency of **868Â MHz**:\n\n| Mode     | Output Power | Current                 |\n| -------- | :----------: | ----------------------- |\n| Transmit | 21Â dBm  | 124Â mA on PA_BOOST |\n| Transmit | 20Â dBm  | 118Â mA on PA_BOOST |\n| Transmit | 17Â dBm  | 102Â mA on PA_BOOST |\n| Transmit | 14Â dBm  | 90Â mA on PA_BOOST  |\n| Receive  |      -       | 15Â mA              |\n\n##### Sleep Current\n\n| Feature             | Condition | Minimum (2.0V) | Typical (3.3V) | Maximum | Unit |\n| ------------------- | --------- | -------------- | -------------- | ------- | ---- |\n| Current Consumption | EU868     | 1.74           | 2.19           |         | Î¼A   |\n|                     | US915     | 1.61           | 2.31           |         | Î¼A   |\n\n##### Schematic Diagram\n\n> **Image:** RAK4270 Breakout Board Schematic\n\n### Software\n\nDownload the latest firmware of the RAK4270 WisDuo LPWAN Module as provided in the table below.\n\n\n> **TIP:** NOTE\n\nThe **bin file** contains the application code only, and you need the RAK DFU Tool to upload this file to the module.\n\nThe **hex file** contains both the bootloader and the application code. You need to use STM32CubeProgrammer to upload this.\n\n\n#### Firmware\n\n| Model   | Version   | Source                                                                                          |\n| ------- | --------- | ----------------------------------------------------------------------------------------------- |\n| RAK4270 | V3.3.0.18 | [Download](https://downloads.rakwireless.com/LoRa/RAK4270/Firmware/RAK4270_Latest_Firmware.zip) |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\datasheet.md","token_count":0}
{"id":"513d03488034d1a4931845fba323d743","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Reference","title":"RAK4270 Breakout Board Certifications","content":"## Certification\n\n### Certifications\n- **CE:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_CE_Certification.zip\n- **FCC:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_FCC_Certification.zip\n- **JRL:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_JRL_Certification.pdf\n- **KC:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_KC_Certification.pdf\n- **REACH:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_REACH_Report.pdf\n- **ROHS:** https://downloads.rakwireless.com/LoRa/RAK4270/Certification-Report/RAK4270_RoHS_Report.pdf\n\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\datasheet.md","token_count":0}
{"id":"b024b8d5b4852c3769994bddd28443f3","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"General","title":"RAK4270 WisDuo Breakout Board Overview","content":"# RAK4270 WisDuo Breakout Board\nThank you for choosing **RAK4270 Breakout Board** in your awesome IoT Project! ðŸŽ‰ To help you get started, we have provided you all the necessary documentation for your product.\n\n* [Quick Start Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/quickstart/)\n* [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/at-command-manual/)\n* [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/)\n* [RAK4270 Breakout Board 3D Model](https://downloads.rakwireless.com/3D_File/WisDuo/PWB-RAK4270%20Breakout%20Board.stp)\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\overview.md","token_count":0}
{"id":"bb8f406c21d6d585206c509fc165426c","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Concept","title":"RAK4270 Breakout Board Overview","content":"## Product Description\n\nThe **RAK4270 Breakout Board** is a compact board specifically designed to simplify external connections to the RAK4270 pins. Its primary purpose is to provide access to the stamp module's pins via two rows of 2.54Â mm headers, making it convenient for debugging.\n\nThe RAK4270 LoRa Module includes an **STM32L071 MCU** and an **SX1262 LoRa chip**, which supports eight (8) spreading factors (**SF5 ~ SF12**) and signal bandwidth that can be adjusted between **7.8Â kHz** to **500Â kHz**. It has Ultra-Low Power Consumption of 2.31Â Î¼A (down to 1.61Â Î¼A @ 2.0Â V) in sleep mode, but during the Transmit mode, it can reach the maximum output power of **22Â dBm**. As a receiver, it can achieve a sensitivity of **-148Â dBm**.\n\nThe module complies with the LoRaWAN 1.0.2 protocol, so it can be used for implementing LoRa networks or Lora point-to-point communications. The module is suitable for various applications that require long-range data acquisition and low power consumption, like smart meters, supply chain and logistics tracking, agricultural sensors, smart cities, etc.\n\nThis module is expected to be controlled by an external controller through its UART interface by sending a set of AT commands. These AT commands control not only the state of this module but also set the LoRaWan communication parameters and payloads (see RAK [AT Command Manualt](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/at-command-manual/)).\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\overview.md","token_count":0}
{"id":"61ec94c56f92bed5cb83015c80fed1bf","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"Concept","title":"RAK4270 Breakout Board Product Features","content":"## Product Features\n\n- LoRa module for Smart City, Smart Agriculture, Smart Industry\n- I/O ports: **UART/I2C/GPIO**\n- Temperature range: **-30Â Â°C** to **+85Â Â°C**\n- Supply voltage: **2.0 ~ 3.6Â V**\n- Supported bands: EU433, CN470, IN865, EU868, AU915, US915, KR920, and AS923-1/2/3/4\n- Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz bandwidth\n- Ultra-Low Power Consumption of 2.31Â Î¼A (down to 1.61Â Î¼A @ 2.0Â V) in sleep mode\n- Core: ARM 32-bit Cortex â€“ M0+ with MPU\n- Up to 128Â KB flash memory with ECC\n- 20Â KB RAM\n- 6Â KB of data EEPROM with ECC\n\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\overview.md","token_count":150}
{"id":"3e482f37695d7814945ed76a47aadffc","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"How-To","title":"Prerequisites for RAK4270 Breakout Board Installation","content":"## Prerequisites\n\nBefore proceeding with the installation and setup of the RAK4270 Breakout Board, ensure you have the following necessary items prepared:\n\n### Hardware Tools\n\n1. [**RAK4270 Breakout Board**](https://store.rakwireless.com/products/rak4270-breakout-board?utm_source=RAK4270BreakoutBoard&utm_medium=Document&utm_campaign=BuyFromStore)\n2. USB-UART Module [(RAKDAP1 Tool)](https://store.rakwireless.com/products/daplink-tool?utm_source=RAKDAP1&utm_medium=Document&utm_campaign=BuyFromStore)\n3. Gateway in Range for Testing\n4. Jumper Wires\n5. 3.3Â V Battery Power Supply\n6. A Windows/Mac OS/Linux Computer\n\n### Software Tools\n1. [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools)\n2. [RAK4270 Firmware](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#firmware)\n3. [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n\n\n> **TIP:** NOTE\nThe bootloader of the RAK4270 Breakout Board is pre-installed during manufacturing, so flashing it is not required. If you suspect that the bootloader on your RAK4270 Breakout Board is damaged, contact RAK support via the [RAKwireless forum](https://forum.rakwireless.com/). For instructions on [upgrading the firmware](#upgrading-the-firmware) of the device, refer to the miscellaneous section of this document.\n\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\quickstart.md","token_count":0}
{"id":"69e4c88d1415c1b00c33918f6f784c68","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"General","title":"RAK4270 Breakout Board Package Inclusions and Acronyms","content":"## Package Inclusions\n\n- 1 pc - RAK4270 Breakout Board (chipset pre-soldered on the board)\n- 1 pc - LoRa Antenna\n\n### List of Acronyms\n\n| Acronym | Definition                          |\n| ------- | ----------------------------------- |\n| DFU     | Device Firmware Upgrade             |\n| JTAG    | Joint Test Action Group             |\n| LoRa    | Long Range                          |\n| OTAA    | Over-The-Air-Activation             |\n| ABP     | Activation-By-Personalization (ABP) |\n| TTN     | The Things Network                  |\n| TTS     | The Things Stack                    |\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\quickstart.md","token_count":100}
{"id":"e0ca9667cf2a254d58ef8a1cbf509bf6","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"How-To","title":"Configuring RAK4270 Breakout Board for The Things Stack (TTN V3)","content":"## Product Configuration\n\n### Interface with RAK4270 Breakout Board\n\nRAK4270 Breakout Board can be configured using AT commands via the UART interface. You need a USB to UART TTL adapter to connect the RAK4270 board to the PC's USB port and a serial terminal tool.\n\nUse the [RAKDAP1](https://docs.rakwireless.com/product-categories/accessories/rakdap1/overview/) as the USB-to-UART interface device. The RAKDAP1 is compatible with other RAK modules and serves as both a debugging tool and firmware uploader. It is also highly recommended to use the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools) for easily sending AT commands and viewing console output responses.\n\n\n> **WARNING:** Before powering on the RAK4270 Breakout Board, ensure that the LoRa antenna is properly installed. Failing to do so may result in damage to the board.\n\n\n#### USB to UART\n\n1. Connect the RAK4270 Breakout Board to the USB-UART interface, as shown in **Figure 1** and **Figure 2**.\n\nUART1 is used for AT commands input as well as a firmware update. Check the [RAK4270 Breakout Board Pin Definition](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#pin-definition) on the datasheet for complete details.\n\n> **Image:** RAK4270 Breakout Board Connected to RAKDAP1 USB-UART Interface\n\n> **Image:** RAK4270 Breakout Board to USB Uart Module Connection\n\n2. Connect the USB-UART module to your Windows PC, open the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools), and select the correct COM port and baud rate.\n\n> **Image:** Correct Port Number and Baud rate\n\n### Connecting to The Things Stack (TTN V3)\n\nThis section will show how to connect the RAK4270 board to The Things Stack (TTN V3) platform.\n\n> **Image:** The Things Stack diagram\n\nAs shown in **Figure 4**, The Things Stack is an open-source LoRaWAN Network Server suitable for global, geo-distributed public and private deployments as well as for small, local networks. The architecture follows the LoRaWAN Network Reference Model for standards compliancy and interoperability. This project is actively maintained by [The Things Industries.](https://www.thethingsindustries.com/)\n\nLoRaWAN is a protocol for low-power wide-area networks. It allows large-scale Internet of Things deployments where low-powered devices efficiently communicate with Internet-connected applications over long-range wireless connections.\n\nThe RAK4270 Breakout Board can function as a device within this ecosystem. This section demonstrates how easily data can be sent to **The Things Stack** using the LoRaWAN protocol. To accomplish this, ensure the RAK4270 board is within the coverage area of a LoRaWAN gateway connected to **The Things Stack** server.\n\n#### Register for TTN and Create LoRaWAN Applications\n\nBefore starting, navigate to the [The Things Network platform](https://console.cloud.thethings.network/) and select a cluster, as shown in **Figure 5**. **The Things Industries** periodically adds new clusters, so choose the one closest to your location. In this guide, **Europe 1** is selected as an example.\n\n> **Image:** Select Cluster in TTN V3\n\nUse your existing login credentials from **TTN V2** if you have an account. Otherwise, create a new account.\n\n1. To register as a new user to TTN, click on **Login with The Things ID**, then select **register** on the next page, as shown in **Figure 6** and **Figure 7**. Fill in all the necessary details and activate.\n\n> **Image:** Log in using TTN account\n\n> **Image:** Registration of new account\n\n2. Log in on the platform using your username/email and password then click **Submit**, as shown in **Figure 8**.\n\n> **Image:** Log in to TTN platform\n\n3. Click **Authorize** to proceed.\n\n> **Image:** Authorization to TTN\n\n4. Click **Create an application**.\n\n> **Image:** Create TTN application for your LoRaWAN devices\n\n5. To register an application, first enter the required details and information about your application, then click **Create application**.\n\n> **Image:** Details of the TTN application\n\nThe next step is to add end-devices to your The Things Stack application. LoRaWAN specification enforces that each end device has to be personalized and activated. Activation can be done either via Over-The-Air-Activation (OTAA) or Activation-By-Personalization (ABP).\n\n\n> **TIP:** NOTE\n\n- Ensure that you are within the coverage of a LoRaWAN gateway registered with **The Things Stack (TTN V3)**. Without coverage from such a gateway, you will not be able to activate any device registered in your application.\n\n- If no LoRaWAN gateway coverage is available in your location, RAKwireless offers [LoRaWAN gateways](https://store.rakwireless.com/collections/wisgate) that can be connected to **The Things Stack (TTN V3)**.\n\n\n#### The Things Stack OTAA Device Registration\n\n1. Go to your application console to register a device. To start adding an OTAA end-device, click **+ Add end device**, as shown in **Figure 12**.\n\n> **Image:** Add end device\n\n2. To register the module, first click **Manually**. Then, configure the activation method by selecting **Over the Air Activation (OTAA)** and a compatible **LoRaWAN version**. Finally, click the **Start** button, as shown in **Figure 13** and **Figure 14**.\n\n> **Image:** Manually register device to The Things Stack\n\n> **Image:** Device activation configuration\n\n3. Enter a unique **End Device ID** and the EUIs (**DevEUI** and **AppEUI**), as shown in **Figure 15**. Check if your module has a **DevEUI** on a sticker or a QR code that you can scan, and use this as the unique **DevEUI** for the device.\n\nOptionally, add a descriptive **End device name** and **End device description** about your device.\n\n4. After entering all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device` is for illustration purposes only.\n\n\n> **Image:** OTAA Device Information\n\n5. Configure the **Frequency plan**, compatible **Regional Parameter version**, and the supported **LoRaWAN class**. Then, click **Join settings** to continue.\n\n> **Image:** OTAA Configuration\n\n6. To generate the **AppKey**, click the **Generate button**. Then, click **Add end device** to complete the device registration process.\n\n> **Image:** OTAA AppKey generation and device registration\n\nYou should now be able to see the device on The Things Stack console, as shown in **Figure 18**.\n\n\n> **TIP:** NOTE\n\n- The **AppEUI**, **DevEUI**, and **AppKey** are required parameters to activate your LoRaWAN end device using OTAA. For security reasons, the **AppKey** is hidden by default but can be revealed by clicking the **Show** button. You can also quickly copy these parameters using the **Copy** button.\n\n- The three OTAA parameters on The Things Stack device console are MSB by default.\n\n- These parameters are always accessible on the device console page, as shown in **Figure 18**.\n\n\n> **Image:** OTAA device successfully registered to The Things Stack\n\n#### RAK4270 OTAA Configuration for The Things Stack\n\nThe RAK4270 Breakout Board supports a series of AT commands to configure its internal parameters and control the functionalities of the module. To set up the RAK4270 board to join The Things Stack using OTAA, start by connecting the RAK4270 board to the Computer (see **Figure 1**) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication and verify the current configuration by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK4270:\n\n- LoRa join mode: **OTAA**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device EUI: **1133557799224466**\n- Application EUI: **1000000000000009**\n- Application Key: **04FA4E626EF5CF227C969601176275C2**\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n* Refer to the [RAK4270 Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device EUI.\n\n```\nat+set_config=lora:dev_eui:1133557799224466\n```\n\n5. Set the Application EUI.\n\n\n> **TIP:** NOTE\nAll zero value Application EUI `at+set_config=lora:app_eui:0000000000000000` is **not supported** and will return error.\n\n\n```\nat+set_config=lora:app_eui:1000000000000009\n```\n\n6. Set the Application Key.\n\n```\nat+set_config=lora:app_key:04FA4E626EF5CF227C969601176275C2\n```\n\n> **Image:** Configure LoRa Parameters\n\n\n> **TIP:** NOTE\n\nAfter configuring, reset your RAK4270 Breakout Board to save the parameters.\n\n\n7. Join in OTAA mode.\n\n```\nat+join\n```\n\nAfter 5 or 6 seconds, if the request is successfully received by a LoRa gateway, then you should see the messages shown in **Figure 21**.\n\n8. Try to send a message from the RAK4270 board.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** OTAA Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK4270 board on The Things Stack platform, as shown in **Figure 22**.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n#### The Things Stack ABP Device Registration\n\n1. To register an **ABP** device, open your application console and select the application to which you want to add the device. Then, click **+ Add end device**, as shown in **Figure 23**.\n\n> **Image:** Add end device\n\n2. To register the module, click **Manually**, then configure the activation method by selecting **Activation by personalization (ABP)**, compatible **LoRaWAN version**, and click **Start** button, as shown in **Figure 24** and **Figure 25**.\n\n> **Image:** Add end device\n\n> **Image:** Manually register device to The Things Stack\n\n3. Enter a unique **End Device ID** and **DevEUI**, as shown in **Figure 26**. Check if your module has a **DevEUI** on a sticker or a QR code that you can scan, and use this as the unique **DevEUI** for the device.\n\nOptionally, add a descriptive **End device name** and **End device description** about your device.\n\n4. After entering all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device-abp` is for illustration purposes only.\n\n\n> **Image:** Device Information\n\n5. Configure the **Frequency plan**, compatible **Regional Parameter version**, and supported **LoRaWAN class**. For an **ABP** device, generate the **Device Address** and **NwkSKey** (Network Session Key). Then, click **Application layer settings** to proceed.\n\n> **Image:** ABP Configuration in The Things Stack\n\n6. To generate the **AppSKey**, click the **Generate** button. Then, click **Add end device** to complete the device registration process.\n\n> **Image:** ABP Configuration in The Things Stack\n\nYou should now be able to see the device on The Things Stack console, as shown in **Figure 29**.\n\n> **Image:** RAK4270 registered at The Things Stack\n\n#### RAK4270 ABP Configuration for The Things Stack\n\nTo set up the RAK4270 Breakout Board to join The Things Stack using ABP, start by connecting the RAK4270 board to the Computer (see Figure 1) and open the RAK Serial Port  Tool. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK4270:\n\n- LoRa join mode: **ABP**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device address: **260BDE80**\n- Network Session Key: **433C7A924F7F6947778FE821525F183A**\n- Application Session Key: **A585653A949C2B2D44B55E99E94CB533**\n\n1. Set the LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK4270 Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\n```\nat+set_config=lora:dev_addr:260BDE80\n```\n\n5. Set the LoRa Network Session Key.\n\n```\nat+set_config=lora:nwks_key:433C7A924F7F6947778FE821525F183A\n```\n\n6. Set the LoRa Application Session Key.\n\n```\nat+set_config=lora:apps_key:A585653A949C2B2D44B55E99E94CB533\n```\n\n> **Image:** AT Command for ABP LoRa parameters via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\n\nAfter configuring all the parameters, reset the RAK4270 Breakout Board to save the configuration\n\n\n7. Join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\n\nIn **ABP mode**, LoRaWAN does not require the device to join a network before sending a LoRaWAN packet. However, to maintain the consistency of the internal states of the RAK4270 board's firmware, the `at+join` command must still be sent. In this case, the firmware will respond almost immediately with **OK**.\n\n\n8. Try to send data from the RAK4270 to The Things Network in ABP mode.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** ABP Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK4270 board on The Things Stack device console *Live data* section and the *Last seen* info should be few seconds ago.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n### Connect with ChirpStack\n\n**ChirpStack**, formerly known as the **LoRaServer** project, offers open-source components for creating LoRaWAN networks. Similar to **The Things Network (TTN)**, the **RAK4270 Breakout Module** operates at the periphery, transmitting data to backend servers via a LoRa gateway. For more information, visit the[official ChirpStack website](https://www.chirpstack.io/).\n\n> **Image:** RAK4270 Breakout Board in the Context of the ChirpStack Platform\n\n\n> **TIP:** NOTE\nThis document assumes that you are using a **RAK Gateway** with its built-in **ChirpStack** or the **RAK Cloud Testing ChirpStack**. Additionally, ensure that the RAK Gateway with ChirpStack is successfully configured. For detailed guidance, refer to the relevant **RAK documentation**.\n\n\nIn this section, you need the following requirements:\n\n  1. Ensure that the ChirpStack online gateway is operational and that the frequency band of the nodes matches the frequency band of the gateway in use.\n  2.  The RAK Serial Port Tool provided by RAK\n  3.  RAK4270 Breakout Board\n\n\n> **TIP:** NOTE\nThe frequency band used in the test is EU868, use the high-frequency version of the RAK4270 Breakout Board.\n\n\nBefore starting, decide whether to use **OTAA** or **ABP** mode to register the device with the network server.\n\n**Sign up and login**\n\nLog in to the ChirpStack server using your username and password.\n\n#### Create a New Application\n\n1. Go to the Application section, as shown in **Figure 35**.\n\n> **Image:** Application Section\n\n2. For this setup, create a new Application by clicking on the â€œ**CREATE**â€ button, and filling the required parameters, as shown in **Figure 36** and **Figure 37**.\n\n> **Image:** Creating a New Application\n\n* For this setup, create an Application named â€œ**rak_node_test**â€.\n\nChirpStack LoraServer supports multiple system configurations, with only one by default.\n\n* The **Service Profile** field is used to select the system profile.\n* The **Payload Codec** Specifies the parsing method for processing payload data, such as parsing **LPP format data**.\n\n> **Image:** Fill in Parameters of an Application\n\n**Register a New Device**\n\n3. Choose the **Application** created in the previous step, then select the **DEVICES** tab, as shown in **Figure 38** and **Figure 39**.\n\n4. Once done, click **CREATE APPLICATION**.\n\n> **Image:** List of Applications Created\n\n> **Image:** Device Tab of an Application\n\n5. Once inside of the **DEVICE** tab, create a new device (LoRa node) by clicking on the **+ CREATE** button.\n\n> **Image:** Add a New Device\n\n> **Image:** New Device Registration Form\n\n6. After creating the node, fill in the required details. You can either generate a **Device EUI** automatically by clicking the icon or manually enter a valid **Device EUI** in the edit box.\n\nFill in the parameters requested:\n\n* **Device name and Device description**: These are descriptive texts about your device.\n* **Device EUI**: This interface lets you generate a **Device EUI** automatically by clicking the red-highlighted icon in **Figure 42**. Alternatively, you can manually enter a specific **Device EUI** directly into the form.\n* **Device Profile**:\n  * If you want to join in OTAA mode, select **DeviceProfile_OTAA**.\n  * If you want to join in ABP mode, select **DeviceProfile_ABP**.\n\n> **Image:** Generate a New Device EUI\n\n#### LoRaWAN Join Mode\n\nIn LoRaWAN, a node can connect to the network using one of two methods, collectively referred to as **Join Mode**. The two supported modes are **OTAA (Over the Air Activation)** and **ABP (Activation by Personalization)**. This section explains the configuration process for both modes, covering both the platform side and the node side.\n\n##### OTAA Mode\n\n###### Configure the OTAA Mode on the Platform\n\n1. If **DeviceProfile_OTAA** is selected, as shown in **Figure 43**, an **Application Key** must be created for the device after it is successfully created.\n\n> **Image:** Chirpstack OTAA Activation\n\n2. A previously created Application Key can be entered here, or a new one can be generated automatically by clicking the icon highlighted in red in **Figure 44**.\n\n> **Image:** Chirpstack OTAA Set Device Keys\n\n3. Once the Application Key is added to the form, the process can be finalized by clicking on the **SET DEVICE-KEYS** button.\n\n* The newly created device will appear in the **DEVICES** tab. Key parameters, such as the **Device EUI**, will be displayed in the summary.\n\n> **Image:** Chirpstack OTAA List of Device in the Device Tab\n\n4. To end the process, it is a good practice to review that the Application Key is properly associated with this device. The Application Key can be verified in the **KEYS(OTAA)** tab, as shown in **Figure 46**.\n\n> **Image:** Application Key Associated with the New Device\n\n\n> **TIP:** NOTE\n\nStandard **OTAA mode** requires the **Device EUI**, **Application Key**, and the **Application EUI**. However, in ChirpStackâ€™s implementation, only the **Device EUI** and **Application Key** are mandatory; the **Application EUI** is not required or recorded in the Application tab. Despite this, the **Application EUI** is a mandatory parameter in the RAK4270 Breakout Board firmware. To resolve this mismatch, you can reuse the **Device EUI** as the **Application EUI** when configuring the node.\n\n\n###### Configure the OTAA mode on the RAK4270 Breakout Board\n\nThe RAK4270 Breakout Board supports a series of [AT commands](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/at-command-manual/) to configure its internal parameters and control the functionalities of the module.\n\nTo set up the RAK4270 Breakout to join ChirpStack using OTAA, start by connecting the board to the computer (see **Figure 2**) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+get_config=lora:status\n```\n\n```\nat+version\n```\n\n> **Image:** at+version command response\n\nAs an example, these are the list of the parameters you need to configure in the RAK4270 Breakout Board:\n\n- LoRa join mode: **OTAA**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device EUI: **5e9d1e0857cf25f1**\n- Application EUI: **5e9d1e0857cf25f1**\n- Application Key: **f921d50cd7d02ee3c5e6142154f274b2**\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK4270 Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device EUI.\n\n```\nat+set_config=lora:dev_eui:5e9d1e0857cf25f1\n```\n\n5. Set the Application EUI.\n\n```\nat+set_config=lora:app_eui:5e9d1e0857cf25f1\n```\n\n\n> **TIP:** NOTE\n\nThe App EUI parameter is not needed for the ChirpStack platform; therefore, you will use the same ID as the Device EUI. Otherwise, the firmware will fail to connect to the network server.\n\n\n6. Set the Application Key.\n\n- Get the Application Key from the TTN register.\n\n```\nat+set_config=lora:app_key:f921d50cd7d02ee3c5e6142154f274b2\n```\n\n> **Image:** Chirpstack OTAA configuration via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\nAfter configuring all the parameters, reset your RAK4270 Breakout Board to save the parameters.\n\n\n7. Join the Network.\n\n```\nat+join\n```\n\n> **Image:** Chirpstack OTAA Join the Network via RAK Serial Port Tool\n\n8. You will see the JoinRequest and JoinAccept on the ChirpStack page.\n\n> **Image:** Check LoRaWAN Joint Request in Chirpstack OTAA Console\n\n9. Try to send data from the RAK4270 Breakout Board to ChirpStack.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** Send a LoRaWAN Message via RAK Serial Port Tool\n\nOn the ChirpStack platform, you can view messages in the **LORAWAN FRAMES** tab, as shown in **Figure 52**. By convention:\n\n- Messages sent from nodes to gateways are referred to as **Uplinks**.\n- Messages sent from gateways to nodes are referred to as **Downlinks**.\n\n> **Image:** Chirpstack Data Received Preview\n\nThis concludes the exercise to send data in the OTAA mode.\n\n##### ABP Mode\n\n###### Configure the ABP Mode on the Platform\n\nWhen registering a new device, if you select **DeviceProfile_ABP**, as shown in **Figure 53**, the ChirpStack platform will assume that the device will connect to the LoRaWAN network using **ABP mode**.\n\n\n> **TIP:** NOTE\n\nEnable the **Disable frame counting verification** option. During testing, restarting the module resets the frame counter to zero, which can cause a synchronization issue with the ChirpStack server, interpreting it as a replay attack. Disabling this feature is safe for testing purposes, but ensure it is reactivated in a production environment.\n\n\n> **Image:** ChirpStack Console, Configuring a Device\n\nAfter selecting the ABP mode, the following parameters appear in the Activation tab:\n\n* **Device address**\n* **Network Session Key**\n* **Application Session Key**\n\n> **Image:** Chirpstack ABP Activation Parameters Needed\n\n* The parameters can be either randomly generated by the platform or manually set with user-defined values. Once all parameters are correctly filled in, complete the process by clicking the **ACTIVATE DEVICE** button.\n\n###### Configure the ABP Mode on the RAK4270 Breakout Board\n\nIn the following steps, you will configure the RAK4270 Breakout Board to work in the ABP mode. To set up the RAK4270 Breakout Board to join ChirpStack using ABP, start by connecting the board to the computer (see **Figure 2**) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+get_config=lora:status\n```\n\n```\nat+version\n```\n\n> **Image:** at+version command response\n\nAs an example, these are the list of the parameters you need to configure in the RAK4270 Breakout Board:\n\n- LoRa join mode: **ABP**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device address: **26011af9**\n- Network Session Key: **c280cb8d1df688bc18601a97025c5488**\n- Application Session Key: **4d42ec5caf97f03d833cdaf5003f69e1**\n\n1. Set LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n\n2. Set LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK4270 Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\n```\nat+set_config=lora:dev_addr:26011af9\n```\n\n5. Set the Network Session Key.\n\n```\nat+set_config=lora:nwks_key:c280cb8d1df688bc18601a97025c5488\n```\n\n6. Set the Application Session Key.\n\n```\nat+set_config=lora:apps_key:4d42ec5caf97f03d833cdaf5003f69e1\n```\n\n> **Image:** Chirpstack ABP Parameters Configuration via RAK Serial Port Tool\n\n\n> **TIP:** NOTE\n\nAfter configuring all the parameters, reset your RAK4270 Breakout Board to save the parameters.\n\n\n7. Join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\n\nIn **ABP mode**, the LoRaWAN protocol does not require the device to join a network before sending a LoRaWAN packet. However, to maintain the consistency of the internal states in the RAK4270 Breakout Board firmware, the `at+join` command must still be sent. The firmware will respond almost immediately with **OK**.\n\n\n8. Try to send data from the RAK4270 Breakout Board to ChirpStack.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** Chirpstack Sample Data Sent via RAK Serial Port Tool\n\n### LoRa P2P Mode\n\nThis section explains how to set up and connect two RAK4270 Breakout Board units to operate in **LoRa P2P mode** using **EU868** as the frequency. The steps are also applicable to other standard frequency bands. To begin this process, ensure you have the following requirements:\n\n1. Both RAK4270 Breakout Board units must be configured to operate on the **EU868** frequency.\n\n2. The setup of the RAK4270 Breakout Board units involves connecting them to a general-purpose computer via the UART port. Each board can be configured separately, but testing the **LoRa P2P mode** requires both units to be connected simultaneously to their respective UART ports. This setup can be achieved using:\n\n- One computer with two available USB ports, or\n- Two computers, each with one available USB port.\n\n3. Set the RAK4270 Breakout Board to work in LoRa P2P mode. Open the RAK Serial Port Tool and send the following command:\n\n```\nat+set_config=lora:work_mode:1\n```\n\n> **Image:** P2P Initialization\n\n4. Configure LoRa P2P parameters for both of them.\n\n```\nat+set_config=lorap2p:XXX:Y:Z:A:B:C\n```\n\nFor this example, the LoRa parameters are the following:\n\n- Link frequency: **869525000Â Hz**\n- Spreading factor: **7**\n- Bandwidth: **125Â kHz**\n- Coding Rate: **4/5**\n- Preamble Length: **5**\n- Power: **5Â dBm**\n\n\n> **TIP:** NOTE\n\nRefer to the [Configuring Using AT Commands](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/at-command-manual/) section to learn more about the definition of the parameters used.\n\n\nHence, it is translated into the following RAK4270 Breakout Board AT command and sent to both units.\n\n```\nat+set_config=lorap2p:869525000:7:0:1:5:5\n```\n\n> **Image:** Configure P2P in both RAK4270 Breakout Board\n\n5. Set the transmission mode of the module. Unit 1 is configured as the sender, and Unit 2 is set to the receiver by AT command.\n\n```\nat+set_config=lorap2p:transfer_mode:2\n```\n\n```\nat+set_config=lorap2p:transfer_mode:1\n```\n\n> **Image:** Set Modes in both RAK4270 Breakout Board\n\n6. Try to send a message from Unit 1 to Unit 2.\n\n```\nat+send=lorap2p:1234567890\n```\n\n> **Image:** Message sent and received status in the two modules\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\quickstart.md","token_count":0}
{"id":"7c90fe124ec03d0a73d5a3d88aef4706","product_family":"wisduo","product_id":"rak4270-breakout-board","category":"How-To","title":"Firmware Upgrade for RAK4270 Breakout Board","content":"## Miscellaneous\n\n### Upgrade the Firmware\n\nBefore you start working with the RAK4270 Breakout Board, it is recommended to keep the board updated to the latest version of the firmware. Download the latest [RAK4270 firmware](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet/#software).\n\n\n> **TIP:** NOTE\n\nFor RAK4270 modules with firmware version **V3.0.0.12** or below, use the [STM32CubeProgrammer](https://www.st.com/en/development-tools/stm32cubeprog.html) to upgrade the firmware. Upload the **.hex file** (not the .bin file) of the [latest RAK4270 firmware](https://downloads.rakwireless.com/#LoRa/RAK4270/Firmware/). Older firmware versions have a different bootloader code and are incompatible with the **RAK DFU Tool**.\n\n\nIn the following sections, two (2) options for flashing new firmware in the RAK4270 Breakout Module are shown: **Upgrade through DAPLink** and **Upgrade through UART1**.\n\n#### Firmware Upgrade Through DAPLink\n\nRefer to the [RAKDAP1 Flash and Debug Tool](https://docs.rakwireless.com/product-categories/accessories/rakdap1/overview/) guide in the Accessories Category.\n\n#### Firmware Upgrade Through UART1\n\n##### Minimum Hardware and Software Requirements\n\nRefer to the table for the minimum hardware and software required to perform the firmware upgrade using J-Link.\n\n| Hardware/Software | Requirement                                   |\n| ----------------- | --------------------------------------------- |\n| Computer          | A Windows/Ubuntu/Mac computer                 |\n| Firmware File     | Bin firmware file downloaded from the website |\n| Others            | A USB to TTL module                           |\n\n##### Firmware Upgrade Procedure\n\nExecute the following procedure to upgrade the firmware in Device Firmware Upgrade (DFU) mode through the UART1 interface.\n\n1.  Download the latest application firmware of the RAK4270 Breakout Board.\n\n    - [RAK4270 Firmware](https://docs.rakwireless.com/product-categories/wisduo/rak4270-breakout-board/datasheet#software)\n\n2.  Download the RAK Device Firmware Upgrade (DFU) tool.\n    - [RAK Device Firmware Upgrade (DFU) Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n\n3.  Connect the RAK4270 Breakout Board with a computer through a USB to TTL.\n\n4.  Open the Device Firmware Upgrade tool. Select the serial port and baud rate of the module and click the **Select Port** button.\n\n> **Image:** Device Firmware Upgrade Tool\n\n5.  Select the application firmware file of the module with the suffix `.bin`.\n\n> **Image:** Select Firmware\n\n6.  Click the **Upgrade** button to upgrade the device. After the upgrade is complete, the RAK4270 Breakout Board will be ready to work with the new firmware.\n\n> **Image:** Firmware Upgrading\n\n> **Image:** Upgrade Successful\n\n","keywords":[],"source_file":"wisduo\\rak4270-breakout-board\\quickstart.md","token_count":0}
