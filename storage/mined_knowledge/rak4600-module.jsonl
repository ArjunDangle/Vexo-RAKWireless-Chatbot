{"id":"44a6ba9509a8a83f4c5870d1eb6fa585","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"RAK4600 Module AT Command Manual Introduction","content":"## Introduction\n\nThe RAK4600 module is designed to simplify LoRa P2P peer-to-peer and LoRaWAN communication. This module saves customers in dealing with complicated SPI protocol with the LoRa transceivers. Instead, a well-known serial communication interface is provided to send commands and request the internal status of the module. This approach allows a straightforward way to integrate LoRa technology into your projects.\n\nOn top of this serial interface, a set of AT commands is defined wherein an external microcontroller will be able to control the RAK4600 module as a classic AT modem. Through the AT commands, customers can set parameters of the LoRaWAN communication, controlling GPIO pins, analog inputs, etc.\n\nIn the RAK4600 module, the serial communication is exposed on the UART1 port, through Pin 22 (USART1_RX) and Pin 23 (USART1_TX). The parameters of the UART1 communication are **115200 / 8-N-1**. The firmware upgrade is also possible through this port. To get familiar with the pin distribution of this module and find a schematic circuit of a reference application, refer to the RAK4600 [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/).\n\nIn addition, the RAK4600 also supports BLE. You can use your mobile phone to communicate with the module via BLE interface, or you can use the module to scan the surrounding Bluetooth beacon information.\n\n### Links to Quick Start Guide\n\nFor AT commands example usage, you can check these sections of quick start guide:\n\n- [TTN OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#connecting-to-the-things-network-ttn)\n- [ChirpStack OTAA/ABP](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#connecting-with-chirpstack)\n- [LoRa P2P](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#lora-p2p-mode)\n\n### Software Tool\n\nIf you don't have a serial port tool yet, it is recommended to download and install the RAK Serial Port Tool. There are some ready-made AT commands in this tool that will be very useful for you.\n\n- [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools/)\n\nFor more detailed information on how to use this tool, refer to the following guide:\n\n- [RAK Serial Port Tool Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#interfacing-with-rak4600)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"9b11ed78bb367dba4a737565da5a7c7a","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"RAK4600 Module AT Command Manual","content":"## Content\n\n- [RAK4600 Module AT Command Manual](#rak4600-module-at-command-manual)\n  - [Introduction](#introduction)\n    - [Links to Quick Start Guide](#links-to-quick-start-guide)\n    - [Software Tool](#software-tool)\n  - [Content](#content)\n  - [AT Command Syntax](#at-command-syntax)\n  - [Error Code Table](#error-code-table)\n  - [General AT Command](#general-at-command)\n  - [Interface Type AT Command](#interface-type-at-command)\n  - [LoRaWAN Type AT Command](#lorawan-type-at-command)\n  - [LoRa P2P Type AT Command](#lora-p2p-type-at-command)\n  - [BLE Type AT Command](#ble-type-at-command)\n  - [Appendix I: Data Rate by Region](#appendix-i-data-rate-by-region)\n  - [Appendix II: TX Power by Region](#appendix-ii-tx-power-by-region)\n  - [Appendix III: Maximum Transmission Load by Region](#appendix-iii-maximum-transmission-load-by-region)\n  - [Appendix IV: Pin Description of RAK4600](#appendix-iv-pin-description-of-rak4600)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"a92e9c3aa15d7c26f253c3c8a62e87b9","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"AT Command Error Code Reference","content":"## Error Code Table\n\n| Error Code | Description |\n| --- | --- |\n| 1 | The last command received is an unsupported AT command. |\n| 2 | Invalid parameter in the AT command. |\n| 3 | There is an error when reading or writing the flash memory. |\n| 5 | There is an error when sending data through the UART port. |\n| 41 | The BLE felt into an invalid state, could not applied the command. |\n| 80 | The LoRa transceiver is busy, could not process a new command. |\n| 81 | LoRa service is unknown. Unknown MAC command received by node. Execute commands that are not supported in the current state, such as sending \"`at+join`\" command in P2P mode. |\n| 82 | The LoRa parameters are invalid. |\n| 83 | The LoRa frequency is invalid. |\n| 84 | The LoRa data rate (DR) is invalid. |\n| 85 | The LoRa frequency and data rate are invalid. |\n| 86 | The device hasnâ€™t joined into a LoRa network. |\n| 87 | The length of the packet exceeded that maximum allowed by the LoRa protocol. |\n| 88 | Service is closed by the server. Due to the limitation of the duty cycle, the server will send the \"SRV_MAC_DUTY_CYCLE_REQ\" MAC command to close the service. |\n| 89 | This is an unsupported region code. |\n| 90 | Duty cycle is restricted. Due to the duty cycle, data cannot be sent at this time until the time limit is removed. |\n| 91 | No valid LoRa channel could be found. |\n| 92 | No available LoRa channel could be found. |\n| 93 | Internal state error. Generally, the internal state of the protocol stack is wrong |\n| 94 | Time out reached while sending the packet through the LoRa transceiver. |\n| 95 | Time out reached while waiting for a packet in the LoRa RX1 window. |\n| 96 | Time out reached while waiting for a packet in the LoRa RX2 window. |\n| 97 | There is an error while receiving a packet during the LoRa RX1 window. |\n| 98 | There is an error while receiving a packet during the LoRa RX2 window. |\n| 99 | Failed to join into a LoRa network. |\n| 100 | Duplicate downlink message is detected. A message with an invalid downlink count is received. |\n| 101 | Payload size is not valid for the current data rate (DR). |\n| 102 | Many downlink packets are lost. |\n| 103 | Address fail. The address of the received packet does not match the address of the current node. |\n| 104 | Invalid MIC is detected in the LoRa message. |\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"8b132468eb03f04d18463ba59304a52a","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"Data Rate Configurations by Region for RAK4600 Module","content":"## Appendix I: Data Rate by Region\n\n**EU433/EU868/AS923**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF7 / 250Â kHz  | 11000                                |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       |                                      |\n\n**CN470/KR920**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6 ~ 15    | RFU                       |                                      |\n\n**US915**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 1         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 2         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 3         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 4         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 5 ~ 7     | RFU                       |                                      |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 13        | LoRa: SF7 / 500Â kHz  | 21900                                |\n| 14 ~ 15   | RFU                       |                                      |\n\n**AU915**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | LoRa: SF8 / 500Â kHz  | 12500                                |\n| 7         | RFU                       | RFU                                  |\n| 8         | LoRa: SF12 / 500Â kHz | 980                                  |\n| 9         | LoRa: SF11 / 500Â kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500Â kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500Â kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500Â kHz  | 12500                                |\n\n**IN865**\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125Â kHz | 250                                  |\n| 1         | LoRa: SF11 / 125Â kHz | 440                                  |\n| 2         | LoRa: SF10 / 125Â kHz | 980                                  |\n| 3         | LoRa: SF9 / 125Â kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125Â kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125Â kHz  | 5470                                 |\n| 6         | RFU                       | RFU                                  |\n| 7         | FSK: 50Â kbps         | 50000                                |\n| 8 ~ 15    | RFU                       | RFU                                  |\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"892ffdfaaa72b250c4d99fedb4e459cf","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"TX Power Configuration by Region for RAK4600 Module","content":"## Appendix II: TX Power by Region\n**EU868**\n\nBy default, MaxEIRP is considered to be +16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**US915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (Conducted Power) |\n| ------- | ------------------------------- |\n| 0       | MaxEIRP                         |\n| 1       | MaxEIRP - 2Â dB             |\n| 2       | MaxEIRP - 4Â dB             |\n| 3 ~ 9   |                                 |\n| 10      | 10Â dBm                     |\n| 11 ~ 15 | RFU                             |\n\n**AU915**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1 ~ 10  | MaxEIRP - 2*TX Power |\n| 11 ~ 10 | RFU                  |\n\n**KR920**\n\nBy default, MaxEIRP is considered to be +14Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**AS923**\n\nBy default, MaxEIRP shall be 16Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**IN865**\n\nBy default, MaxEIRP is considered to be +30Â dBm based on LoRa Alliance specification.\nHowever, the module's max TX power is only up to 20Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8       | MaxEIRP - 16Â dB |\n| 9       | MaxEIRP - 18Â dB |\n| 10      | MaxEIRP - 20Â dB |\n| 11 ~ 15 | RFU                  |\n\n**CN470**\n\nBy default, MaxEIRP is considered to be +19.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6       | MaxEIRP - 12Â dB |\n| 7       | MaxEIRP - 14Â dB |\n| 8 ~ 15  | RFU                  |\n\n**EU433**\n\nBy default, MAxEIRP is considered to be +12.15Â dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2Â dB  |\n| 2       | MaxEIRP - 4Â dB  |\n| 3       | MaxEIRP - 6Â dB  |\n| 4       | MaxEIRP - 8Â dB  |\n| 5       | MaxEIRP - 10Â dB |\n| 6 ~ 15  | RFU                  |\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"98f60597dd3f743c513b5a5f14d1531e","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"Maximum Transmission Load by Region for LoRaWAN","content":"## Appendix III: Maximum Transmission Load by Region\n\n\n> **TIP:** NOTE\nThe LoRaWAN stack adds 8 bytes to the user payload. In the following list, M is the maximum payload size and N is the maximum usable payload size for the user data without the MAC header.\n:\n\n**EU868**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|    6     |     250     |     242     |\n|    7     |     250     |     242     |\n|  8 ~ 15  | Not Defined | Not Defined |\n\n**US915**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     19      |     11      |\n|    1     |     61      |     53      |\n|    2     |     133     |     125     |\n|    3     |     250     |     242     |\n|    4     |     250     |     242     |\n|  5 ~ 7   | Not Defined | Not Defined |\n|    8     |     61      |     53      |\n|    9     |     137     |     129     |\n|    10    |     250     |     242     |\n|    11    |     250     |     242     |\n|    12    |     250     |     242     |\n|    13    |     250     |     242     |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**AU915**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|    6     |     250     |     242     |\n|    7     | Not Defined | Not Defined |\n|    8     |     61      |     53      |\n|    9     |     137     |     129     |\n|    10    |     250     |     242     |\n|    11    |     250     |     242     |\n|    12    |     250     |     242     |\n|    13    |     250     |     242     |\n| 14 ~ 15  | Not Defined | Not Defined |\n\n**KR920**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|  6 ~ 15  | Not Defined | Not Defined |\n\n**AS923**\n\n| DataRate | Uplink MAC Payload Size (M) | Downlink MAC Payload Size (M) |  |  |\n| --- | --- | --- | --- | --- |\n|  | UplinkDwellTime = 0 | UplinkDwellTime = 1 | DownlinkDwellTime = 0 | DownlinkDwellTime = 1 |\n| 0 | 59 | N/A | 59 | N/A |\n| 1 | 59 | N/A | 59 | N/A |\n| 2 | 59 | 19 | 59 | 19 |\n| 3 | 123 | 61 | 123 | 61 |\n| 4 | 250 | 133 | 250 | 133 |\n| 5 | 250 | 250 | 250 | 250 |\n| 6 | 250 | 250 | 250 | 250 |\n| 7 | 250 | 250 | 250 | 250 |\n| 8 | RFU | RFU | RFU | RFU |\n\n**IN865**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|    6     |     250     |     242     |\n|    7     |     250     |     242     |\n|  8 ~ 15  | Not Defined | Not Defined |\n\n**CN470**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|  6 ~ 15  | Not Defined | Not Defined |\n\n**EU433**\n\n| DataRate |      M      |      N      |\n| :------: | :---------: | :---------: |\n|    0     |     59      |     51      |\n|    1     |     59      |     51      |\n|    2     |     59      |     51      |\n|    3     |     123     |     115     |\n|    4     |     250     |     242     |\n|    5     |     250     |     242     |\n|    6     |     250     |     242     |\n|    7     |     250     |     242     |\n|  8 ~ 15  | Not Defined | Not Defined |\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"12abae7039a66f5d849dc7217081706f","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"RAK4600 Module Pin Description","content":"## Appendix IV: Pin Description of RAK4600\n\nThe pin definition of the RAK4600 module can be reviewed in the [Pin Definition](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/#pin-definition) section on the Datasheet.\n\nA summary of the pins of the RAK4600 module:\n\n1. **About the UART Pin**:\n    - Pin 22 (USART1_RX) and Pin 23 (USART1_TX).\n    - During sleep, Pin 22 (USART1_RX) is automatically configured as a wake up pin and in external interrupt mode with an internal pull-down resistor. Wake-up will be triggered by a rising edge on this RX pin.\n\n2. **About the SWD debug Pin**: Pin 37 (SYS_SWDIO) and Pin 38 (SYS_SWDCLK) are used for SWD debug programming.\n3. **About the Power Pin**: The power pins on the RAK4600 module includes the VCC Pins on Pin 40 (3V3_IN) and Pin 41 (3V3_IN), and the ground pins (GND) are on the Pin 1, Pin 8, Pin 12, Pin 13, Pin 14, Pin 16, Pin 18, Pin 19, Pin 20, Pin 31, Pin 39, and Pin 42.\n4.  **About the Reset Pin**: The reset pin on the RAK4600 module is the Pin 36 (MCU_NRST);\n5.  **About the RF Antenna Pin**: The RF Antenna pins on the RAK4600 module are the pin15 (RF_BT) BLE antenna and Pin 17 (RF_L) LoRa antenna.\n6.  **About the GPIO Pin**: The GPIO pins available on the RAK4600 module are Pin 4, Pin 5, Pin 6, Pin 7, Pin 9, Pin 10, Pin 21, and Pin 24.\n\n\n> **TIP:** NOTE\nThe subsequent firmware upgrade of the product is carried out through the OTA interface.\n\n\n","keywords":[],"source_file":"wisduo\\rak4600-module\\at-command-manual.md","token_count":0}
{"id":"65c86cc6a616a363f3532cbf63a26092","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"RAK4600 WisDuo LPWAN+BLE Module Overview and Features","content":"## Overview\n\n### Description\n\nRAK4600 WisDuo LPWAN+BLE Module includes an nRF52832 MCU and an SX1276 LoRa chip. It has Ultra-Low Power Consumption of 13.3Â Î¼A (down to 11.2Â Î¼A @ 2.0Â V) in sleep mode, high LoRa output power up to 20Â dB max in work mode, and BLE output power up to 4Â dBm.\n\nThe module complies with LoRaWAN 1.0.2 specification. It supports LoRa Point-to-Point (P2P) communications and also the BLE 5.0, in addition to LoRa. Its RF communication capabilities (LoRa+BLE) make it suitable for a variety of applications in the IoT field.\n\n### Features\n\n- LoRa module for Smart City, Smart Agriculture, Smart Industry\n- Compact Form Factor: 15 x 23 x 2.5Â mm\n- 42 Pin Stamp Pad for PCB SMT mounting\n- I/O ports: UART/I2C/GPIO (optional NFC interface)\n- Temperature range: -40Â°Â C to +85Â°Â C\n- Supply voltage: 2.0 ~ 3.6Â V\n- Frequency range: 863â€“870Â MHz (EU) / 902â€“928Â MHz (US), ISM and SRD systems\n- Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz Bandwidth\n- Ultra-Low Power Consumption of 13.3Â Î¼A (down to 11.2Â Î¼A @ 2.0Â V) in sleep mode\n- LoRa Boost mode with 20Â dBm output power\n- BLE 5.0 (Tx power -20 to +4Â dBm in 4Â dB steps)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\datasheet.md","token_count":0}
{"id":"0688bbd7cdd586d38b0ce4560cd6dc25","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"RAK4600 WisDuo LPWAN Module Specifications","content":"## Specifications\n\n### Overview\n\nThe overview section covers the RAK4600 WisDuo LPWAN Module board overview where the top view is presented. It also includes the block diagram of the module showing its external interfaces.\n\n#### Board Overview\n\n> **Image:** RAK4600 WisDuo Top Viewâ„¢\n\n#### Block Diagram\n\n> **Image:** RAK4600 Block Diagram\n\n### Hardware\n\nThe hardware specifications are categorized into five parts. It discusses the interfacing, pinouts, and the standard values of the board. It displays the frequency parameters and power consumption. These categories mentioned include tabular data and diagrams of the RAK4600 WisDuo LPWAN Module board.\n\n#### Pin Definition\n\n> **Image:** RAK4600 Board Pinout\n\n\n> **WARNING:** When using `RF_L` and `RF_BT` for antenna connection and not the IPEX connector variant, make sure there is no ground plane (in all layers of the PCB) under the RF trace path to eliminate the possible effects of unwanted stray capacitance which can cause degradation of the RF signal levels.\n\n\n| **Pin** | **Name**   | **I/O** | **Description**                                                       |\n| ------- | ---------- | ------- | --------------------------------------------------------------------- |\n| 1       | GND        |         | Ground                                                                |\n| 2       | NC         |         | No Connection                                                         |\n| 3       | NC         |         | No Connection                                                         |\n| 4       | I2C1_SDA   | I/O     | I2C, General purpose I/O (P0.13)                                      |\n| 5       | I2C1_SDL   | I/O     | I2C, General purpose I/O (P0.12)                                      |\n| 6       | NFC1       | I/O     | General purpose I/Oã€NFC antenna connection                           |\n| 7       | NFC2       | I/O     | General purpose I/Oã€NFC antenna connection                           |\n| 8       | GND        |         | Ground                                                                |\n| 9       | P0.18      | I/O     | General purpose I/O p0.18                                             |\n| 10      | P0.19      | I/O     | General purpose I/O p0.19                                             |\n| 11      | NC         |         | No Connection                                                         |\n| 12      | GND        |         | Ground                                                                |\n| 13      | GND        |         | Ground                                                                |\n| 14      | GND        |         | Ground                                                                |\n| 15      | RF_BT      | I/O     | BLE RF OUT (only available on **RAK4600 No-IPEX connector variant**)  |\n| 16      | GND        |         | Ground                                                                |\n| 17      | RF_L       | I/O     | LoRa RF OUT (only available on **RAK4600 No-IPEX connector variant**) |\n| 18      | GND        |         | Ground                                                                |\n| 19      | GND        |         | Ground                                                                |\n| 20      | GND        |         | Ground                                                                |\n| 21      | Reserved   | I/O     | General purpose I/O (P0.14)                                           |\n| 22      | USART1_RX  | I/O     | USART1_RX (General purpose I/O P0.22)                                 |\n| 23      | USART1_TX  | I/O     | USART1_TX (General purpose I/O P0.23)                                 |\n| 24      | Reserved   | I/O     | General purpose I/O P0.17                                             |\n| 25      | NC         |         | No Connection                                                         |\n| 26      | NC         |         | No Connection                                                         |\n| 27      | NC         |         | No Connection                                                         |\n| 28      | NC         |         | No Connection                                                         |\n| 29      | NC         |         | No Connection                                                         |\n| 30      | NC         |         | No Connection                                                         |\n| 31      | GND        |         | Ground                                                                |\n| 32      | NC         |         | No Connection                                                         |\n| 33      | NC         |         | No Connection                                                         |\n| 34      | NC         |         | No Connection                                                         |\n| 34      | NC         |         | No Connection                                                         |\n| 35      | NC         |         | No Connection                                                         |\n| 36      | MCU_NRST   | I/O     | MCU reset                                                             |\n| 37      | SYS_SWDIO  | I/O     | SYS_SWDIO                                                             |\n| 38      | SYS_SWDCLK | I/O     | SYS_SWDCLK                                                            |\n| 39      | GND        |         | Ground                                                                |\n| 40      | 3V3_IN     |         | Input power                                                           |\n| 41      | 3V3_IN     |         | Input power                                                           |\n| 42      | GND        |         | Ground                                                                |\n\n##### LoRa Transceiver IC Connection to RAK4600 Internal nRF52\n\n| **LoRa IC Pin** | **nRF52 IO Pins** |\n| :-------------: | :---------------: |\n|      DIO0       |       P0.27       |\n|      DIO1       |       P0.28       |\n|      DIO2       |       P0.29       |\n|      DIO3       |       P0.30       |\n|      DIO4       |       P0.31       |\n|      DIO5       |        NC         |\n|    SPI1_CLK     |       P0.07       |\n|    SPI1_MISO    |       P0.06       |\n|    SPI1_MOSI    |       P0.05       |\n|    SPI1_NSS     |       P0.04       |\n|     NRESET      |       P0.03       |\n|      VCTL1      |       P0.16       |\n|      VCTL2      |       P0.15       |\n\n##### RF Switch Control Logic Table\n\n| **LoRa Mode** | **VCTL1 GPIO** | **VCTL2 GPIO** |\n| :------------ | :------------: | :------------: |\n| TX mode       |       H        |       L        |\n| RX mode       |       L        |       H        |\n\n\n> **TIP:** NOTE\n**Logic Level**\n - H level (1.8 - 5.0Â V)\n\n - L level (0Â V)\n\n\n#### RF Characteristics\n\n##### Operating Frequencies\n\nThe board supports the following LoRaWAN frequency channels shown in the table below. The frequency parameter is easy to configure as you go through the device configuration setup.\n\n| **Region**    | **Frequency (MHz)** |\n| ------------- | ------------------- |\n| Russia        | RU864               |\n| India         | IN865               |\n| Europe        | EU868               |\n| North America | US915               |\n| Australia     | AU915               |\n| Korea         | KR920               |\n| Asia          | AS923               |\n\n#### Electrical Characteristics\n\nSeveral current consumption ratings are provided below for detailed RAK4600 WisDuo LPWAN Module usage. Refer to the values presented for your preferred values for specific simulations and calculations.\n\n##### Operating Voltage\n\n| Feature | Minimum | Typical | Maximum | Unit      |\n| ------- | ------- | ------- | ------- | --------- |\n| VCC     | 2.0     | 3.3     | 3.45    | Volts (V) |\n\n##### Typical Current Consumption\n\nShown in the table provided below is the typical current consumption of the RAK4600 WisDuo LPWAN Module.\n\n| **Item**                    | **Current Consumption** | **Condition**              |\n| --------------------------- | ----------------------- | -------------------------- |\n| **LoRa TX** @20Â dBm    | 125Â mA             | LoRa @ PA_BOOST & BT sleep |\n| **LoRa TX** @17Â dBm    | 92Â mA              | LoRa @ PA_BOOST & BT sleep |\n| **BT TX** @4Â dBm       | 9Â mA               | BT Tx mode & LoRa sleep    |\n| **LoRa RX** @37.5Â Kbps | 17Â mA              |                            |\n| **BT RX** @2Â Mbps      | 11.5Â mA            |                            |\n\n##### Laboratory Testing\n\n**Figure 4** and **Figure 5** shows the average current consumption based on the different test cases.\n\n**Equipment**:\n\n- Power consumption meter\n- RAK4600 WisDuo LPWAN Module\n\n**LoRa Packet Sending**\n\nThe RAK4600 WisDuo LPWAN Module takes **92.291Â ms** to send a LoRa packet which consumes **119Â mA** of current.\n\n- **Sending Time**: 92.291Â ms\n- **Current consumption**: 119Â mA\n\n> **Image:** Oscilloscope Screen Capture of LoRa Packet Sending\n\n**LoRa Packet Receiving**\n\nThe RAK4600 WisDuo LPWAN Module takes **30.052Â ms** to receive a LoRa packet which consumes **13.8Â mA** of current.\n\n- **Receiving Time**: 30.052Â ms\n- **Current consumption**: 13.8Â mA\n\n> **Image:** Oscilloscope Screen Capture of LoRa Packet Receiving\n\n##### Sleep Current\n\n| Feature             | Condition | Minimum (2.0Â V) | Typical (3.3Â V) | Maximum | Unit |\n| ------------------- | --------- | -------------------- | -------------------- | ------- | ---- |\n| Current Consumption | EU868     | 11.2                 | 13.3                 |         | Î¼A   |\n|                     | US915     | 11.5                 | 12.5                 |         | Î¼A   |\n\n##### Schematic Diagram\n\n> **Image:** Schematic Diagram\n\n#### Mechanical Characteristics\n\n> **Image:** Dimensions in Top and Side View\n\n> **Image:** Dimensions Detailed\n\n#### Recommended Reflow Profile\n\n- MSL Rating : Class 3\n\n> **Image:** Recommended Reflow Profile\n\n**Standard Conditions for Reflow Soldering**:\n\n- Pre-heating Ramp (A) (Initial temperature: 150Â â„ƒ): 1~2.5Â â„ƒ/sec.\n- Soaking Time (T2) (150Â â„ƒ~180Â â„ƒ): 60~100Â sec;\n- Peak Temperature (G): 230~250Â â„ƒ\n- Reflow Time (T3) (>220Â â„ƒ): 30~60Â sec\n- Ramp-up Rate (B): 0~2.5Â â„ƒ/ sec\n- Ramp-down Rate (C): 1~3Â â„ƒ/ sec.\n\n### Software\n\nDownload the latest firmware of the RAK4600 WisDuo LPWAN Module provided in the table below.\n\n#### Firmware\n\n| Model   | Version   | Source                                                                                          |\n| ------- | --------- | ----------------------------------------------------------------------------------------------- |\n| RAK4600 | V3.4.0.14 | [Download](https://downloads.rakwireless.com/LoRa/RAK4600/Firmware/RAK4600_Latest_Firmware.zip) |\n\n<!-- ## Certification -->\n","keywords":[],"source_file":"wisduo\\rak4600-module\\datasheet.md","token_count":0}
{"id":"12197b9c51840b7522458fc56841069f","product_family":"wisduo","product_id":"rak4600-module","category":"Concept","title":"RAK4600 Module Firmware Customization Overview","content":"## Overview\n\nThe product portfolio of the RAK LoRa node RAK4600 module. This module comes with a standard version of firmware that allows you to integrate quickly these modules in their solutions for LoRaWAN or LoRa P2P communication through the AT commands interface.\n\nFurther customization of the firmware can be done through the [RUI](./RUI-Secondary-Development) compiler. At this layer, the customized firmware interface with the hardware through the RUI Core abstraction layer. In RAK we called this a secondary firmware development/customization.\n\nAdditionally, RAK offers a third alternative for advanced users who need to have deeper integration of their solutions with these modules. In this alternative, the customer could develop their own version of firmware that runs inside of the RAK modules.\n","keywords":[],"source_file":"wisduo\\rak4600-module\\low-level-development.md","token_count":150}
{"id":"e997dba824a5234981a48f40b4330302","product_family":"wisduo","product_id":"rak4600-module","category":"How-To","title":"Implementing Custom Applications on RAK4600 Module","content":"## How to Implement your App on RAK Module\n\n### Schematic\n\nOne of the essential aspects that allow customers to develop their own version of firmware is the moduleâ€™s hardware schematic. This allows you to understand the moduleâ€™s pinout, connections between the inner MCU and the LoRa transceiver.\n\n\n> **TIP:** NOTE\nThere are two versions of the RAK4600 module: one for the high-frequency bands (i.e. 915MHz, 866 MHz) and one for the low-frequency bands (i.e.433 MHz). Moreover, RAK4600 shares the same connections between high-frequency and low-frequency models.\n\n\n### Porting LoRa Protocol Stack\n\nWhen implementing the LoRa protocol stack, special attention must be paid to the SPI connections, since the LoRa transceivers are controlled by the MCU through an SPI interface. The important pins are **SPI1_MISO, SPI1_MOSI, SPI_NSS, and SPI_CLK**. Additionally, the DIO, RF switch, and RFI path are important, as well, to have a functioning LoRa communication.\n\nAfter that, **Real-Time Clock (RTC)** must be properly configured in the MCU to ensure accurate timing of protocol stack during the runtime.\n\nFinally, the protocol stack code can be added after other pins are configured.\n\n### Application\n\nOnce the porting protocol stack is ready, customers can focus on the development of their applications. There are two options:\n\nÂ Â Â Â a. Do not use the original bootloader that comes in RAK modules from the factory. In this case, you must provide your own version of bootloader.\n\nÂ Â Â Â b. Use RAK's bootloader and upgrade the custom firmware by using nRF Connect. You can download it from here: [https://www.nordicsemi.com/Software-and-tools/Development-Tools/nRF-Connect-for-mobile](https://www.nordicsemi.com/Software-and-tools/Development-Tools/nRF-Connect-for-mobile)\n\nIf you want to develop your own bootloader, you can refer to the schematic diagram and the datasheet of the MCU to implement the code. If you want to use RAKâ€™s bootloader, continue reading the next section.\n\n### Bootloader\n\nIn any MCU, after the power is connected, the System bootloader is in charge to bootstrap all the necessary to set up the Interrupt Vector table, initialize variables, and jump to the address of the main() symbol.\n\nThe following image shows a usual memory map for an ARM Cortex M4, which is the architecture of RAK4600 MCU:\n\n> **Image:** Usual memory map for an ARM Cortex M4 MCU\n\nThe flash memory section sits between the address 0x0800 0000 and 0x080X 0000. The X depends on the different models of MCU.\n\nIn the case of the RAK4600 module, its internal MCU is based on the nRF52832, the bootloader involves security verification. You must use Nordic SDK to compile your own security bootloader. The [Nordic SDK ](https://www.nordicsemi.com/Software-and-tools/Software/nRF5-SDK/Download) version we use is 15.0.0 nrf5 SDK. The relevant routines can be found at **examples/dfu/secure_ bootloader**â€ sample code of Nordic SDK.\n","keywords":[],"source_file":"wisduo\\rak4600-module\\low-level-development.md","token_count":0}
{"id":"e854fd28694f6604d1e43be752d91ef3","product_family":"wisduo","product_id":"rak4600-module","category":"General","title":"RAK4600 WisDuo LPWAN+BLE Module Overview","content":"# RAK4600 WisDuo LPWAN+BLE Module\n\nThank you for choosing **RAK4600 WisDuo LPWAN+BLE Module** in your awesome IoT project! ðŸŽ‰ To help you get started, we have provided you all the necessary documentation for your product.\n\n* [Quick Start Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/)\n* [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/at-command-manual/)\n* [RUI Secondary Development](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui) - RAK4600 module supports RUI Secondary Development, refer to [RUI](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui) for further details.\n* [Low Level Development](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/low-level-development/)\n* [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/)\n* [RAK4600 3D Model](https://downloads.rakwireless.com/3D_File/WisDuo/PWB-RAK4600.stp)\n* [Reference Design](https://docs.rakwireless.com/product-categories/wisduo/rak4600-breakout-board/datasheet/#schematic-diagram)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\overview.md","token_count":150}
{"id":"752d717a513f555c680b98f79b186931","product_family":"wisduo","product_id":"rak4600-module","category":"Concept","title":"RAK4600 WisDuo LPWAN+BLE Module Overview","content":"## Product Description\n\nRAK4600 WisDuo LPWAN+BLE Module includes an nRF52832 MCU and an SX1276 LoRa chip. It has Ultra-Low Power Consumption of 13.3Â Î¼A (down to 11.2Â Î¼A @ 2.0Â V) in sleep mode, high LoRa output power up to 20Â dB max in work mode, and BLE output power up to 4Â dBm.\n\nThe module complies with LoRaWAN 1.0.2 specification. It supports LoRa Point-to-Point (P2P) communications and also the BLE 5.0, in addition to LoRa. Its RF communication capabilities (LoRa+BLE) make it suitable for a variety of applications in the IoT field.","keywords":[],"source_file":"wisduo\\rak4600-module\\overview.md","token_count":0}
{"id":"f35e41eba31ecf5ee6b7f6a42b68de53","product_family":"wisduo","product_id":"rak4600-module","category":"Concept","title":"RAK4600 Module Product Features","content":"## Product Features\n\n- LoRa module for Smart City, Smart Agriculture, Smart Industry\n- Compact Form Factor: 15 x 23 x 2.5Â mm\n- 42 Pin Stamp Pad for PCB SMT mounting\n- I/O ports: UART/I2C/GPIO (optional NFC interface)\n- Temperature range: -40Â°Â C to +85Â°Â C\n- Supply voltage: 2.0 ~ 3.6Â V\n- Frequency range: 863â€“870Â MHz (EU) / 902â€“928Â MHz (US), ISM, and SRD systems\n- Low-Power Wireless Systems with 7.8Â kHz to 500Â kHz Bandwidth\n- It has Ultra-Low Power Consumption of 13.3Â Î¼A (down to 11.2Â Î¼A @ 2.0Â V) in sleep mode\n- LoRa Boost mode with 20Â dBm output power\n- BLE 5.0 (Tx power -20 to +4Â dBm in 4Â dB steps)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\overview.md","token_count":120}
{"id":"3933164a7872191b3e653df37671a484","product_family":"wisduo","product_id":"rak4600-module","category":"How-To","title":"RAK4600 Module Quick Start Guide","content":"# RAK4600 Module Quick Start Guide\n\nThis guide covers the following topics:\n\n- [The Things Stack (TTN V3) OTAA Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#the-things-stack-otaa-device-registration)\n- [RAK4600 OTAA AT Commands for The Things Stack](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#rak4600-otaa-configuration-for-the-things-stack)\n- [The Things Stack (TTN V3) ABP Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#the-things-stack-abp-device-registration)\n- [RAK4600 ABP AT Commands for The Things Stack](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#rak4600-abp-configuration-for-the-things-stack)\n- [Chirpstack OTAA Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#configure-the-otaa-mode-on-the-platform)\n- [RAK4600 OTAA AT Commands for Chirpstack](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#configure-the-otaa-mode-on-the-rak4600)\n- [Chirpstack ABP Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#configure-the-abp-mode-on-the-platform)\n- [RAK4600 ABP AT Commands for Chirpstack](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#configure-the-abp-mode-on-the-rak4600)\n- [LoRa P2P Guide](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#lora-p2p-mode)\n- [Updating RAK4600 FW Procedure](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#upgrading-the-firmware)\n","keywords":[],"source_file":"wisduo\\rak4600-module\\quickstart.md","token_count":0}
{"id":"b8520871519d79d84bf48fe06da5bb0a","product_family":"wisduo","product_id":"rak4600-module","category":"How-To","title":"Prerequisites for RAK4600 WisDuo LPWAN Module Installation","content":"## Prerequisites\n\n### What Do You Need?\n\nBefore going through the step in the installation guide of the RAK4600 WisDuo LPWAN Module, make sure to prepare the necessary items listed below:\n\n#### Hardware Tools\n\n1. [**RAK4600 WisDuo LPWAN+BLE Module**](https://store.rakwireless.com/products/rak4600-lora-module?utm_source=RAK4600LPWANModule&utm_medium=Document&utm_campaign=BuyFromStore)\n2. Windows PC\n3. USB to TTL adapter\n4. [RAKDAP1 Flash and Debug Tool](https://store.rakwireless.com/products/daplink-tool?utm_source=RAKDAP1&utm_medium=Document&utm_campaign=BuyFromStore)\n5. LoRaWAN gateway in range\n\n#### Software Tools\n\n1. [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools/)\n2. [RAK4600 Firmware](https://downloads.rakwireless.com/#LoRa/RAK4600/Firmware/)\n3. [RAK Firmware Upgrade Tool](https://downloads.rakwireless.com/#LoRa/Tools/RAK_Device_Firmware_Upgrade_tool/)\n\n#### Definition of Terms\n\n##### List of Acronyms\n\n| ABP | Activation-By-Personalization |\n| --- | --- |\n| BLE | Bluetooth Low Energy |\n| DFU | Device Firmware Upgrade |\n| EUI | Extender Unique Identifier |\n| LoRa | Long Range |\n| OTAA | Over-The-Air-Activation |\n| TTN | The Things Network |\n| P2P | Peer-to-peer communication |\n| SWD | Serial Wire Debug |\n","keywords":[],"source_file":"wisduo\\rak4600-module\\quickstart.md","token_count":0}
{"id":"ae76856c2a8d77c6cc4d5e243a10bf75","product_family":"wisduo","product_id":"rak4600-module","category":"How-To","title":"Configuring RAK4600 Module for LoRaWAN and BLE Interfaces","content":"## Product Configuration\n\n### Interfacing with RAK4600\n\nIn this section, a RAK4600 module is used for demonstration. Use a USB to TTL adapter to connect to the module. In case the RAK4600 module is mounted on an evaluation board or a custom PCB, use the appropriate interface to connect to the serial port.\n\n\n> **WARNING:** Before powering the RAK4600 Module, you should install the LoRa and BLE Antenna first. Not doing so might damage the board.\n\n\n Use **Figure 1** as a reference to connect the antennas.\n\n> **Image:** RAK4600 Module antenna connection \n\n1. Connect the RAK4600 to USB to the TTL adapter, as shown in **Figure 2**.\n\nIn general, the pin marked as TX of the adapter must be connected to the USART1_RX pin of the RAK4600, and the RX pin of the adapter connects to the RAK4600 USART1_TX pin.\n\n> **Image:** RAK4600 module connection\n\n2. Open RAK Serial Port Tool. Any serial communication tool will work, but it is recommended to use the RAK Serial Port Tool.\n\n    * [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools)\n\n3.  Configure the serial communication tool by selecting the proper port of the computer UART port and configure the link as **115200 baud, 8 bits, no parity bit, and 1 stop bit**.\n\n* Choose the correct COM Port number for your device. Go to your Device Manager by pressing **Windows + R** and type `devmgmt.msc` or search in the Start Menu.\n\n> **Image:** Device Manager\n\n* Look for Ports (COM & LPT). Find the name of your USB UART Module driver and take note of the COM Port Number.\n\n4.  The RAK4600 console output can now be read in the RAK serial port tool, as shown in **Figure 4**.\n\n> **Image:** RAK4600 on RAK Serial Port Tool\n\n### Configure the RAK4600\n\n#### Through UART\n\nTo connect the RAK4600 module to a LoRa P2P connection or a LoRaWAN network, the module must be configured, and the LoRa parameters must be set by sending AT commands through the UART interface.\n\nConnect the RAK4600 module to the computer as described in the previous section. Using the serial communication tool, it is possible to send commands to the RAK4600. For example, sending the `at+version` will display the current firmware version, as shown in **Figure 5**.\n\nThe full set of RAK4600 AT commands can be found in [Appendix I](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/at-command-manual/#appendix-i-data-rate-by-region).\n\n> **Image:** at+version command response\n\n#### Through the BLE Interface\n\nTo configure the RAK4600 through BLE, execute the following steps.\n\n1. Install the â€œ**nRF Connect**â€ or the â€œ**nRF Master Control Panel (BLE)**â€ app provided by Nordic Semiconductor.\n2. Open the app on the mobile device and scan for BLE devices.\n3. Reset the RAK4600 module. After a few seconds, a list of BLE devices will be shown. The RAK4600 is listed as â€œ**RUI-XX: XX: XX**\".\n\n> **Image:** Nordic app scan for BLE devices\n\n\n> **TIP:** NOTE\nConnect within 60 seconds after resetting the RAK4600. After that time, the BLE broadcast will be stopped.\n\n\n4. After pressing the â€œ**CONNECT**â€ button, a list will be displayed, as shown in **Figure 7**.\n\n> **Image:** Options to connect to the RAK4600\n\n5. Select the service named â€œ**Nordic UART Service**â€.\n6. To receive data from mobile, enable notification on TX Characteristic by clicking on the arrow.\n\n> **Image:** Enable notifications from mobile phone\n\n7. Write a value on RX Characteristic by clicking on the arrow.\n\n> **Image:** Send AT command\n\n8. A small input window will pop up. This is where you will input the AT commands.\n\n> **Image:** nRF app AT command input window\n\n9. Send AT commands to RAK4600 in this dialog.\n\n    * For example, to check the current firmware version, type â€œ`at+version`â€ then click on the **â€œSENDâ€** button.\n\n> **Image:** nRF app, send at command over BLE\n\nThe console output shall be read on the TX Characteristic of the App.\n\n> **Image:** AT response over BLE\n\n### Connecting to The Things Stack (TTN V3)\n\nThis section will show how to connect the RAK4600 module to The Things Stack (TTN V3) platform.\n\n> **Image:** The Things Stack diagram\n\nAs shown in **Figure 13**, The Things Stack is an open-source LoRaWAN Network Server suitable for global, geo-distributed public and private deployments as well as for small, local networks. The architecture follows the LoRaWAN Network Reference Model for standards compliancy and interoperability. This project is actively maintained by [The Things Industries](https://www.thethingsindustries.com/).\n\nLoRaWAN is a protocol for low-power wide-area networks. It allows for large-scale Internet of Things deployments where low-powered devices efficiently communicate with Internet-connected applications over long-range wireless connections.\n\nThe RAK4600 module can be part of this ecosystem as a device, and the objective of this section is to demonstrate how simple it is to send data to The Things Stack using the LoRaWAN protocol. To achieve this, the RAK4600 module must be located inside the coverage of a LoRaWAN gateway connected to The Things Stack server.\n\n#### Registration to TTN and Creating LoRaWAN Applications\n\nThe first step is to go to [The Things Network platform](https://console.cloud.thethings.network/) and select a cluster, as shown in **Figure 14**. The Things Industries adds more clusters from time to time, so select the one closes to your location. In this guide, Europe 1 is selected.\n\n> **Image:** Selecting Cluster in TTN V3\n\nYou can use the same login credentials on the TTN V2 if you have one. If you have no account yet, you need to create one.\n\n1. To register as a new user to TTN, click on **Login with The Things ID**, then select **register** on the next page, as shown in **Figure 15** and **Figure 16**.\n\n> **Image:** Login using TTN account\n\n> **Image:** Registration of new account\n\n2. You should now be on the step of creating your TTN account. Fill in all the necessary details and activate your account.\n\n3. After creating an account, log in to the platform using your username/email and password, then click **Submit**, as shown in **Figure 17**.\n\n> **Image:** Logging in to TTN platform\n\n4. Click **Authorize** to proceed.\n\n> **Image:** Authorization to TTN\n\n5. Now that you are logged in to the platform, the next step is to create an application. Click **Create an application**.\n\n> **Image:** Creating TTN application for your LoRaWAN devices\n\n6. To have an application registered, input first the specific details and necessary information about your application, then click **Create application**.\n\n> **Image:** Details of the TTN application\n\nIf you have no error on the previous step, you should now be on the application console page. The next step is to add end-devices to your The Things Stack application. LoRaWAN specification enforces that each end device has to be personalized and activated. There are two options in registering devices depending on the activation mode selected. Activation can be done either via Over-The-Air-Activation (OTAA) or Activation-By-Personalization (ABP).\n\n\n> **TIP:** NOTE\n\nOnce you have the application in The Things Stack (TTN V3), you need to ensure that you are in coverage of a LoRaWAN gateway that is registered to The Things Stack (TTN V3) as well. Without the coverage of that LoRaWAN gateway, you cannot activate any device that you will register in your application.\n\nRAKwireless has [LoRaWAN gateways](https://store.rakwireless.com/collections/wisgate) that you can connect to The Things Stack (TTN V3) if no LoRaWAN gateway coverage is available in your location.\n\n\n#### The Things Stack OTAA Device Registration\n\n1. Go to your application console to be able to register a device. To start adding an OTAA end device, click **+ Add end device**, as shown in **Figure 21**.\n\n> **Image:** Add end device\n\n2. To register the module, you need to click first **Manually** then configure the activation method by selecting **Over the air activation (OTAA)** and compatible **LoRaWAN version**, then click the **Start** button, as shown in **Figure 22** and **Figure 23**.\n\n> **Image:** Manually register device to The Things Stack\n\n> **Image:** Device activation configuration\n\n3. Then, input a unique **End device ID** and EUIs (**DevEUI** and **AppEUI**), as shown in **Figure 24**. Check if your module has a DevEUI on sticker or QR that you can scan, then use this as the device unique DevEUI.\n\nOptionally, you can add a more descriptive **End device name** and **End device description** about your device.\n\n4. After putting all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device` is for illustration purposes only.\n\n\n> **Image:** OTAA Device Information\n\n5. Next step is to set up **Frequency plan**, compatible **Regional Parameter version**, and **LoRaWAN class** supported. Then you can click **Join settings**.\n\n> **Image:** OTAA Configuration\n\n6. The last step in the registration of a new OTAA end-device is the configuration of the **AppKey**. To get the AppKey, you must click the **generate button**, then click **Add end device** to finish your new device registration.\n\n> **Image:** OTAA AppKey generation and device registration\n\nYou should now be able to see the device on The Things Stack console after you fully registered your device, as shown in **Figure 27**.\n\n\n> **TIP:** NOTE\n\nThe **AppEUI**, **DevEUI**, and **AppKey** are the parameters you will need to activate your LoRaWAN end device via OTAA. The **AppKey** is hidden by default for security reasons, but you can easily show it by clicking the show button. You can also copy the parameters quickly using the copy button.\n\nThe three OTAA parameters on The Things Stack device console are MSB by default.\n\nThese parameters are always accessible on the device console page, as shown in **Figure 27**.\n\n\n> **Image:** OTAA device successfully registered to The Things Stack\n\n#### RAK4600 OTAA Configuration for The Things Stack\n\nThe RAK4600 module supports a series of AT commands to configure its internal parameters and control the functionalities of the module. To set up the RAK4600 module to join The Things Stack using OTAA, start by connecting the RAK4600 module to the computer (see **Figure 1**) and open the RAK Serial Port Tool. Wait for the communication to start. It is recommended to test the serial communication and verify the current configuration by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK4600:\n\n- LoRa join mode: **OTAA**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device EUI: **1133557799224466**\n- Application EUI: **1000000000000009**\n- Application Key: **04FA4E626EF5CF227C969601176275C2**\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n* Refer to the [RAK4600 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device EUI.\n\n```\nat+set_config=lora:dev_eui:1133557799224466\n```\n\n5. Set the Application EUI.\n\n\n> **TIP:** NOTE\nAll zero value Application EUI `at+set_config=lora:app_eui:0000000000000000` is **not supported** and will return error.\n\n\n```\nat+set_config=lora:app_eui:1000000000000009\n```\n\n6. Set the Application Key.\n\n```\nat+set_config=lora:app_key:04FA4E626EF5CF227C969601176275C2\n```\n\n> **Image:** Configuring LoRa Parameters\n\n\n> **TIP:** NOTE\n\nAfter configuring all the parameters, you need to reset your RAK4600 Module to save the parameters.\n\n\n7. After resetting, join in OTAA mode.\n\n```\nat+join\n```\n\nAfter 5 or 6 seconds, if the request is successfully received by a LoRa gateway, then you should see the messages shown in **Figure 30**.\n\n8. Try to send a message from the RAK4600 module.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** OTAA Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK4600 module on The Things Stack platform, as shown in **Figure 31**.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n#### The Things Stack ABP Device Registration\n\n1. To register an ABP device, go to your application console and select the application where you want your device to be added, then click **+ Add end device**, as shown in **Figure 32**.\n\n> **Image:** Add end device\n\n2. To register the module, you need to click first **Manually** then configure the activation method by selecting **Activation by personalization (ABP)**, compatible **LoRaWAN version**, and click the **Start** button, as shown in **Figure 33** and **Figure 34**.\n\n> **Image:** Add end device\n\n> **Image:** Manually register device to The Things Stack\n\n3. At this step, you need to put a unique **End device ID** and **DevEUI**, as shown in **Figure 35**. Check if your module has a DevEUI on sticker or QR that you can scan, then use this as the device unique DevEUI.\n\nOptionally, you can add a more descriptive **End device name** and **End device description** about your device.\n\n4. After putting all the details, click **Network layer settings** to proceed to the next step.\n\n\n> **TIP:** NOTE\n\nIt is advisable to use a meaningful End device ID, End device name, and End device description that will match your device purpose. The End device ID `rak-device-abp` is for illustration purposes only.\n\n\n> **Image:** Device Information\n\n5. Next step is to set up **Frequency plan**, compatible **Regional Parameter version**, and **LoRaWAN class** supported. In an ABP device, you also need to generate **Device Address** and **NwkSKey** (Network Session Keys). Then, you can click **Application layers settings**.\n\n> **Image:** ABP Configuration in The Things Stack\n\n6. The last step in the registration of a new ABP end-device is the configuration of the **AppSKey**. To get the AppSKey, you must click the **generate button**, then click **Add end device** to finish your new device registration.\n\n> **Image:** ABP Configuration in The Things Stack\n\nYou should now be able to see the device on The Things Stack console after you fully registered your device, as shown in **Figure 38**.\n\n> **Image:** RAK4600 registered at The Things Stack\n\n#### RAK4600 ABP Configuration for The Things Stack\n\nTo set up the RAK4600 module to join The Things Stack using ABP, start by connecting the RAK4600 module to the computer (see **Figure 1**) and open the RAK Serial Port Tool. It is recommended to test the serial communication by sending either of these two AT commands:\n\n```\nat+set_config=device:restart\n```\n\n```\nat+version\n```\n\n> **Image:** AT Command response\n\nAs an example, these are the list of the parameters you need to configure in RAK4600:\n\n- LoRa join mode: **ABP**\n- LoRa class: **Class A**\n- LoRa region: **EU868**\n- Device address: **260BDE80**\n- Network Session Key: **433C7A924F7F6947778FE821525F183A**\n- Application Session Key: **A585653A949C2B2D44B55E99E94CB533**\n\n1. Set the LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n2. Set the LoRa class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region to EU868.\n\n- Refer to the [RAK4600 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\n```\nat+set_config=lora:dev_addr:260BDE80\n```\n\n5. Set the LoRa Network Session Key.\n\n```\nat+set_config=lora:nwks_key:433C7A924F7F6947778FE821525F183A\n```\n\n6. Set the LoRa Application Session Key.\n\n```\nat+set_config=lora:apps_key:A585653A949C2B2D44B55E99E94CB533\n```\n\n> **Image:** AT Command for ABP LoRa parameters via RAK Serial Port Tool\n\nAfter configuring all the parameters, you need to reset the RAK4600 Module to save the parameters.\n\n7. After resetting, join in ABP mode.\n\n```\nat+join\n```\n\n\n> **TIP:** NOTE\n\nBy using the ABP mode in LoRaWAN, it doesnâ€™t require to join a network before sending a LoRaWAN package. But to keep the consistency of internal states of the firmware of the RAK4600 module, it is still required to send the `at+join` command in the ABP mode. This time, the firmware should reply almost immediately with an â€œOKâ€.\n\n\n8. Try to send data from the RAK4600 to The Things Network in ABP mode.\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** ABP Test Sample Data Sent via RAK Serial Port Tool\n\nYou can see the data sent by the RAK4600 module on The Things Stack device console *Live data* section and the *Last seen* info should be a few seconds ago.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in The Things Stack\n\n### Connecting with ChirpStack\n\nThis section shows how to connect the RAK4600 to the ChirpStack platform. As described in the ChirpStack website:\n\nâ€œThe ChirpStack open-source LoRaWAN Network Server stack provides open-source components for LoRaWAN networks. Together they form a ready-to-use solution including a user-friendly web interface for device management and APIs for integration. The modular architecture makes it possible to integrate within existing infrastructures. All components are licensed under the MIT license and can be used for commercial purposes.â€\n\n> **Image:** RAK4600 in the context of the ChirpStack platform\n\nThe architecture of the ChirpStack platform is shown in **Figure 43**. Similar to the case of TTN, the RAK4600 is located in the periphery and will transmit the data to the backend servers through a LoRa gateway. More information about this architecture can be found at [https://www.chirpstack.io/](https://www.chirpstack.io/).\n\n* In this section, it is assumed that you are using a RAK LoRa gateway, such as RAK7243. The gateway must be configured and registered previously to ChirpStack deployment. More information can be found in the [Connect the Gateway with Chirpstack](https://docs.rakwireless.com/product-categories/wisgate/rak7243/quickstart/#connect-the-gateway-with-chirpstack) section.\n\n\n> **TIP:** NOTE\nThe frequency band used in this example is EU868 which is supported by the high-frequency version of RAK4600.\n\n\n* These are the steps needed to send data to the ChirpStack platform from a RAK4600 module:\n\n  1. Create a new Application\n  2. Register a new device on the platform\n  3. Configure the Join Mode:\n      * OTAA mode on the platform\n      * OTAA mode on the RAK4600\n      * ABP mode on the platform\n      * ABP mode on the RAK4600\n  4. Send data from the RAK4600 and receive it at the platform\n\nThe following section gives the details of each of these aforementioned steps. As usual, you must choose to use either ABP or OTAA mode to register the device to the network server.\n\n#### Create a new Application\n\n1. Go to the Application section, then click on the â€œ**+ CREATE**â€ button.\n\n> **Image:** Application section of the RAKâ€™s ChirpStack LoRaServer\n\n2. ChirpStack LoraServer supports multiple system configurations, with only one by default. By default, a new Application should be created, although it is possible to reuse the existing ones. For this setup, create a new Application by clicking on the \"**CREATE APPLICATION**\" button.\n\n> **Image:** Creating a new Application on the RAKâ€™s ChirpStack LoRaServer\n\n3. Create an Application named â€œ**rak_node_test**â€. Fill in the required parameters, as shown in **Figure 46**. To finish, click on the **CREATE APPLICATION** button.\n\n* **Application Name**: rak_node_test\n* **Application Description**: test\n* **Service profile**: field is to select the system profile.\n\nThe **Application Description** field is just a descriptive text.\n\n â€œ**CREATE APPLICATION**â€.\n\n> **Image:** Filling parameters of an Application on the RAKâ€™s ChirpStack LoRaServer\n\n**Register a new Device**\n\n4. Click on the Application â€œ**rak_node_test**â€ created in the previous step.\n\n> **Image:** List of applications created on the RAKâ€™s ChirpStack LoRaServer\n\n5. Select the â€œ**DEVICES**â€ tab, as shown in **Figure 48**.\n\n> **Image:** Device tab of an Application on the RAKâ€™s ChirpStack LoRaServer\n\n6. Inside of the â€œDEVICESâ€ tab, create a new device (LoRa node) by clicking on the â€œ**+ CREATE**â€ button.\n\n> **Image:** Add a new device at DEVICES tab of an Application on the RAKâ€™s ChirpStack LoRaServer\n\n> **Image:** New device registration form on the RAKâ€™s ChirpStack LoRaServer\n\n7. Fill the parameters requested as appears in **Figure 50**.\n\n* **Device name** and **Device description**: These are just descriptive texts.\n* **Device EUI**: This interface allows you to generate a Device EUI automatically by clicking the icon highlighted in red in Figure 51. You can also add a specific Device EUI directly in the form.\n* **Device-profile**: To join in OTAA mode, select â€œ**device_profile_otaa**â€ or â€œ**device_profile_abp**â€ to join in ABP mode.\n\n\n> **TIP:** NOTE\nChirpStack doesnâ€™t support AS923 in ABP mode.\n\n\n> **Image:** Generate a new Device EUI in the device registration form\n\n#### LoRaWAN Join Mode\n\nThe LoRaWAN specification defines that to join in a LoRaWAN network, each end-device has to be personalized and activated. Activation can be done either via Over-The-Air-Activation (OTAA) or via Activation-By-Personalization (ABP). In OTAA, the end-device previously personalized is activated when deployed or reset. In ABP, personalization and activation are done as a single step.\n\n##### OTAA Mode\n\n###### Configure the OTAA Mode on the Platform\n\n1. If you have selected â€œ**device_profile_otaa**â€, then after the device is created, an Application Key must be also created for this device.\n\n> **Image:** Choosing OTAA mode in the device registration form\n\n2. A previously created Application Key can be entered here, or a new one can be generated automatically by clicking on the icon highlighted in red.\n\n> **Image:** Application Key for the OTAA mode in the device registration form\n\n3. Once the Application Key is added to the form, the process can be finalized by clicking on the â€œ**SET DEVICE-KEYS**â€ button.\n\n* As shown in **Figure 54**, a new device should be listed in the  â€œ**DEVICES**â€ tab. The most important parameters, such as the **Device EUI** are shown in the summary.\n\n> **Image:** New crated device listed in the DEVICES tab\n\n4. To end the process, it is a good practice to review that the â€œ**Application Key**â€ is properly associated with this device. The â€œ**Application Key**â€ can be verified in the â€œ**KEYS(OTAA)**â€ tab.\n\n> **Image:** Application Key associated to the new device\n\n\n> **TIP:** NOTE\nStandard OTAA mode requires the Device EUI, Application Key, and the Application EUI, but in the ChirpStackâ€™s implementation, only Device EUI and the Application Key are mandatory. The Application EUI is not required and is not recorded in the Application tab. Nevertheless, the Application EUI is a mandatory parameter in the RAK4600 module firmware. To resolve this mismatch, you can reuse the Device EUI as the Application EUI during the configuration on the side of the node.\n\n\n###### Configure the OTAA mode on the RAK4600\n\nRAK4600 complies with the LoRaWAN 1.0.2 specification. By default, the LoRa join mode is **OTAA** and the LoRa Class is **Class A**.\n\nTo set up the RAK4600 to join ChirpStack using OTAA, start by connecting the RAK4600 to the computer as shown in section [Interfacing with RAK4600](#interfacing-with-rak4600). Open the RAK Serial Port Tool and wait for the communication to start. It is recommended to test the serial communication by sending an AT command as:\n\n```\nat+get_config=lora:status\n```\nor\n```\nat+version\n```\n\n> **Image:** RAK Serial Port Tool connected to a RAK4600\n\nAs an example, the following parameters will be configured in RAK4600:\n\n* **LoRa join mode**: OTAA\n* **LoRa class**: Class A\n* **LoRa region**: EU868\n* **Device EUI**: d045f054b2797f7c (from ChirpStack registration)\n* **Application EUI**: d045f054b2797f7c (from ChirpStack registration)\n* **Application Key**: 2cb29aefe344c0d7b044e7a7d3afda6d (from ChirpStack registration)\n\n1. Set the LoRa join mode to OTAA.\n\n```\nat+set_config=lora:join_mode:0\n```\n\n2.  Set the LoRa Class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n3.  Set the frequency/region.\n\n- Refer to the [RAK4600 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\nFor the Europe region, type the command:\n\n```\nat+set_config=lora:region:EU868\n```\n\n\n> **TIP:** NOTE\nRemember that the device frequency shall be in the same frequency band as the gateway.\n\n\n4.  Set the Device EUI.\n\nGet the Device EUI number from the ChirpStack register.\n\n```\nat+set_config=lora:dev_eui:d045f054b2797f7c\n```\n\n5.  Set the Application EUI.\n\nGet the Application EUI number from the ChirpStack register.\n\n```\nat+set_config=lora:app_eui:d045f054b2797f7c\n```\n\n> **TIP:** NOTE\nRemember, the Application EUI parameter is not required in the ChirpStack platform; therefore, it is possible to use the same id as the Device EUI. Otherwise, the firmware will complain.\n\n\n6.  Set the Application Key.\n\nGet the Application Key from the TTN register.\n\n```\nat+set_config=lora:app_key:2cb29aefe344c0d7b044e7a7d3afda6d\n```\n\n7. Save RAK4600 parameters.\n\nReset the RAK4600 to save the parameters.\n\n**Figure 57** summarizes the set of commands sent over the console for setting the OTAA mode on the RAK4600\n\n> **Image:** RAK4600 LoRa parameters configuration over the Serial Port Tool\n\n8. Command the RAK4600 to join in OTAA mode\n\n```\nat+join\n```\n\n* After 5 or 6 seconds, if the request is successfully received by a LoRa gateway, then the â€œ**OK Join Success**â€ message will be shown.\n\n> **Image:** RAK Serial Port Tool, join the network\n\n* The **JoinRequest** and **JoinAccept** messages are also displayed on the ChirpStack platform, specifically in the **LORAWAN FRAMES** section.\n\n> **Image:** ChirpStack Console, checking LoRaWAN join request\n\n9.  Send data from RAK4600 to ChirpStack\n\nFor example, to send the string 1234567890 over LoRa port 2, type the command:\n\n```\nat+send=lora:2:1234567890\n```\n\n> **Image:** RAK Serial Port Tool, send a LoRaWAN message\n\nOn the ChirpStack platform, the messages shall appear in the â€œ**LORAWAN FRAMES**â€ tab, as shown in **Figure 61**.\n\n\n> **TIP:** NOTE\nBy convention, messages sent from nodes to the gateway are considered as **UPLINK**, while messages sent by the gateway to nodes are considered as a **DOWNLINK**.\n\n\n> **Image:** ChirpStack Console, checking LoRaWAN messages received\n\n##### ABP Mode\n\n###### Configure the ABP Mode on the Platform\n\nDuring the registration of a new device, if â€œ**device_profile_abp**â€ is selected, then the ChirpStack platform will assume that this device will join the LoRaWAN network using the ABP mode.\n\n1. Fill in the parameters requested, as appears in **Figure 62**:\n\n* **Device name** and **Device description**: These are just descriptive texts.\n* **Device EUI**: You can also add a specific Device EUI directly in the form.\n\n2. Once these parameters are filled, click on the â€œ**CREATE DEVICE**â€ button.\n\n\n> **TIP:** NOTE\nCheck **Disable counting frame verification** to prevent the node-side frame counting from starting from zero after the node is powered on during the test. The server cannot synchronize the node-side counting, causing the transmission to fail.\n\n\n> **Image:** ChirpStack Console, configuring a device in ABP mode\n\n3. After selecting the ABP mode, the following parameters appear in the **ACTIVATION** tab below:\n\n* **Device address**\n* **Network Session Key**\n* **Application Session Key**\n\n> **Image:** ChirpStack Console, parameters required for the ABP mode\n\n* The parameters can be generated as random numbers by the platform or can be set with user values. Once these parameters are filled properly, the process is completed by clicking on the â€œ**(RE)ACTIVATE DEVICE**â€ button.\n\n###### Configure the ABP mode on the RAK4600\n\nRAK4600 complies with the LoRaWAN 1.0.2 specification. The RAK4600 LoRa join mode is **OTAA** by default and the LoRa Class is **Class A**.\n\nTo set up the RAK4600 module to join ChirpStack using ABP, start by connecting the RAK4600 to the computer as shown in section [Interfacing with RAK4600](#interfacing-with-rak4600). Open the RAK Serial Port Tool, wait for the communication to start. It is recommended to test the serial communication by sending an AT command as:\n\n```\nat+get_config=lora:status\n```\nor\n\n```\nat+version\n```\n\n> **Image:** RAK Serial Port Tool connected to a RAK4600\n\nAs an example, the following parameters will be configured in RAK4600:\n\n* **LoRa join mode**: ABP\n* **LoRa class**: Class A\n* **LoRa region**: EU868\n* **Device address**: 26011af9 (from ChirpStack registration)\n* **Network Session Key**: c280cb8d1df688bc18601a97025c5488 (from ChirpStack registration)\n* **Application Session Key**: 4d42ec5caf97f03d833cdaf5003f69e1 (from ChirpStack registration)\n\n1. Set the LoRa join mode to ABP.\n\n```\nat+set_config=lora:join_mode:1\n```\n\n2. Set the LoRa Class to Class A.\n\n```\nat+set_config=lora:class:0\n```\n\n3. Set the frequency/region.\n\n- Refer to the [RAK4600 Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/datasheet/#rf-characteristics) for the list of supported frequencies.\n\nFor the Europe region, type the command:\n\n```\nat+set_config=lora:region:EU868\n```\n\n4. Set the Device Address.\n\nGet the Device Address from ChirpStack registration.\n\n```\nat+set_config=lora:dev_addr:26011af9\n```\n\n5. Set the Network Session Key.\n\nGet the Network Session Key from the ChirpStack registration.\n\n```\nat+set_config=lora:nwks_key:c280cb8d1df688bc18601a97025c5488\n```\n\n6. Set the Application Key.\n\nGet the Application Key from the ChirpStack registration.\n\n```\nat+set_config=lora:apps_key: 4d42ec5caf97f03d833cdaf5003f69e1\n```\n\n7. Save RAK4600 parameters.\n\nReset the RAK4600 to save the parameters.\n\n**Figure 55** summarizes the set of commands sent over the console for setting the ABP mode on the RAK4600.\n\n> **Image:** RAK4600 LoRa parameters configuration over the Serial Port Tool\n\n8.  Command the RAK4600 to join in ABP mode.\n\n```\nat+join\n```\n\nAlmost immediately after sending the command, the â€œ**OK Join Success**â€ should be replied to in the console, as shown in **Figure 66**.\n\n> **Image:** RAK Serial Port Tool join LoRaWAN in ABP mode.\n\n\n> **TIP:** NOTE\nThe ABP mode in LoRaWAN doesnâ€™t require to join a network before sending a LoRaWAN package. But, to keep the consistency of internal states of the firmware of the RAK4600, it is still required to send the `at+join` command in the ABP mode.\n\n\n9. Send data from RAK4600 to ChirpStack.\n\nFor example, to send the string 1234567890 over LoRa port 2, type the command:\n\n```\nat+send=lora:2:1234567890\n```\n\nThe console will feedback with an â€œOKâ€ message.\n\n> **Image:** RAK Serial Port Tool ABP message sent \n\nThe sent data shall be displayed on the ChirpStack console on the **LORAWAN FRAMES** tab.\n\n> **Image:** ChirpStack console UPLINK LoRaWAN frame in ABP mode.\n\n### LoRa P2P Mode\n\nThis section will show how to set and link two RAK4600 units to work in LoRa P2P mode.\n\n1. The two RAK4600 units shall be set to operate at the same frequency, for this demonstration: **EU868**.\n\n2. As shown in the previous sections, the setup of the RAK4600 units is done by connecting them with a general-purpose computer through the UART port, as shown in section [Interfacing with RAK4600](#interfacing-with-rak4600). The setup of each RAK4600 can be done separately, but testing the LoRa P2P mode will require having both units connected simultaneously to a UART port (This could be one computer with two (2) ports or two (2) computers with one UART port each).\n\n3. To set the RAK4600 to work in LoRa P2P mode, open the RAK Serial port tool and send the command, as shown in **Figure 69**.\n\n```\nat+set_config=lora:work_mode:1\n```\n\n> **Image:** RAK4600 setting to LoRa P2P mode\n\n4. Configure the LoRa P2P parameters for both units. The command for setting the parameters has the following format:\n\n```\nat+set_config=lorap2p:XXX:Y:Z:A:B:C\n```\n\n* Based on the [AT Commands for RAK4600](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/at-command-manual/), the parameters are:\n\n  * **XXX**: Frequency in Hz.\n  * **Y**: Spreading factor, [6, 7, 8, 9, 10, 11, 12].\n  * **Z**: Bandwidth, [0:125Â kHz, 1:250Â kHz, 2:500Â kHz]\n  * **A**: Coding Rate, [1: 4/5, 2: 4/6, 3: 4/7, 4: 4/8]\n  * **B**: Preamble Length, 5~65535.\n  * **C**: Power in dBm, 5~20.\n\nFor this example, the LoRa parameters are:\n* **Link frequency**: 869525000Â Hz\n* **Spreading factor**:7\n* **Bandwidth**: 125Â kHz\n* **Coding Rate**:4/5\n* **Preamble Length**: 5\n* **Power**: 5Â dBm\n\n5. The set parameters are translated into the following RAK4600 AT command that is sent to both units, as shown in **Figure 70**.\n\n```\nat+set_config=lorap2p:869525000:7:0:1:5:5\n```\n\n> **Image:** Setting both RAK4600 units with the LoRa P2P parameters\n\n6. Next, set the transmission mode of the RAK4600. In this example, Unit 1 is set to sender mode, and Unit 2 is set to receiver mode by AT command.\n  * **Unit 1** (Sender):\n```\nat+set_config=lorap2p:transfer_mode:2\n```\n  * **Unit 2** (Receiver):\n```\nat+set_config=lorap2p:transfer_mode:1\n```\n\n> **Image:** Set the module in the sender (left) and the receiver (right) mode\n\n7. Now, to send a message, the string â€œ**123456890**â€ from Unit1 to Unit2. Type the command on Unit 1:\n\n```\nat+send=lorap2p:1234567890\n```\n\n* The message will be automatically received by Unit 2.\n\n> **Image:** Sending a message from RAK unit 1(left) to RAK unit 2 (right)\n\n### Bluetooth Interface\n\nStarting with the firmware version V3.0.0.6, there are three BLE modes in the RAK4600 module: **Peripheral mode**, **Central mode**, and **Beacon scan mode**.\n\n1. **Peripheral mode**: In this mode, you can scan RAK4600 BLE and connect with it using your normal mobile devices.\n2. **Central mode**: The RAK4600 BLE will not broadcast so that your normal mobile devices will not be able to scan it, but it is useful for IoT use case. For example, you can connect some BLE sensor nodes to the RAK4600. By setting the RAK4600 in the central mode, the RAK4600 acts as a BLE gateway. In the central mode, \"Nordic UART Service\" is supported.\n3. **Beacon scan mode**: The RAK4600 will scan the surrounding BLE signal. This mode is useful to scan for beacons like iBeacon near you.\n\n\n> **TIP:** NOTE\nFor the central and beacon scan patterns, you need to use the API development of RUI to play its role. For BLE related API interfaces, refer to [RUI API Reference](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui/).\n\n\nBy default, RAK4600 BLE will work in the peripheral mode so that you can configure it over BLE, including DFU. Every time after resetting, you have only 60 seconds to connect your mobile device with RAK4600 over BLE. If you donâ€™t connect with RAK4600 in 60 seconds after resetting it, the RAK4600 BLE radio will not broadcast to reduce power consumption. There is no limitation once your mobile device has connected with RAK4600 over BLE in 60 seconds.\n\nSurely, you can set RAK4600 BLE to work in the central mode. After a RAK4600 module reset, there will be 30 seconds that RAK4600 BLE radio works in the peripheral mode. In peripheral mode, you can connect to RAK4600 through BLE using your mobile device and configure RAK4600 over BLE. But if you donâ€™t connect with RAK4600 through BLE in 30 seconds, the RAK4600 BLE radio will change to central mode automatically. In central mode, RAK4600 can not be scanned by your mobile devices until you change the work mode to the peripheral or reset RAK4600 again.\n","keywords":[],"source_file":"wisduo\\rak4600-module\\quickstart.md","token_count":0}
{"id":"f05d6e2c4ef94f767e62baf9489573f0","product_family":"wisduo","product_id":"rak4600-module","category":"How-To","title":"Firmware Upgrade Procedures for RAK4600 Module","content":"## Miscellaneous\n\n### Upgrading the Firmware\n\nBefore you start working with the RAK4600, it is recommended to keep the RAK4600 updated to the latest version of the firmware. The latest firmware can be found in the software section of the [RAK4600 Module Datasheet](datasheet#firmware).\n\nIn the following sections, two (2) options for flashing new firmware in a RAK4600 are shown: **Upgrade through DAPLink** and **Upgrade through BLE**.\n\n#### Firmware Upgrade Through DAPLink\n\nRefer to [RAKDAP1 Flash and Debug Tool Overview](https://docs.rakwireless.com/product-categories/accessories/rakdap1/overview/)\n\n#### Through BLE\n\n##### Requirements\n\nThe table shows the minimum hardware and software required to perform the firmware upgrade through BLE.\n\n| Mobile Phone | Android |\n| --- | --- |\n| DFU Package | https://downloads.rakwireless.com/#LoRa/RAK4600/Firmware/History-Release-Version/DFU-Package/ |\n| nRF connect app | Nordic Semiconductor |\n| nRF Master Control Panel (BLE) | Nordic Semiconductor |\n\n##### Upgrade Procedure\n\nFollow this procedure to upgrade the firmware in Device Firmware Upgrade (DFU) mode through the Bluetooth Low Energy (BLE) interface.\n\n1.  Download the latest DFU package of the [RAK4600](https://downloads.rakwireless.com/LoRa/RAK4600/Firmware/).\n\n2.  Install the mobile app named â€œ**nRF Connect**â€ or â€œ**nRF Master Control Panel (BLE)**\", which are developed by the Nordic Semiconductor company.\n\n3.  Open the Nordic mobile app and scan for the BLE signal.\n\n4.  After resetting the RAK4600, its BLE interface should broadcast a device name with the format â€œ**RUI_XX:XX:XX**â€ for 60 seconds, as shown in **Figure 73**. Refer to the [Bluetooth Interface](https://docs.rakwireless.com/product-categories/wisduo/rak4600-module/quickstart/#bluetooth-interface) to know more.\n\n> **Image:** RAK4600 BLE device name\n\n5.  Select the device and press **CONNECT**.\n\n6.  Select **Secure DFU Service** and enable the â€œ**Indications**â€ option by pressing the icon highlighted in red in **Figure 74**.\n\n> **Image:** Enable the â€œIndicationsâ€ option\n\n7.  On the Buttonless DFU, click on the up arrow, then a pop-up menu should appear, as shown in **Figure 75**.\n\n> **Image:** Pop up menu to enter to the bootloader mode\n\n8.  Press the **SEND** button to reset the RAK4600 and to enter into the DFU mode.\n\n9.  Scan again with the Nordic app, and a device named **DfuTarg** should appear, as shown in **Figure 76**.\n\n> **Image:** Nordic app scan with RAK4600 in DFU mode\n\n10. Press **CONNECT**, then click the icon highlighted in red (DFU).\n\n11. Select the **Distribution packet (ZIP)** option in the pop-up menu and press **OK**.\n\n> **Image:** DFU icon\n\n11. Select the **Distribution packet (ZIP)** option in the pop-up menu and press **OK**.\n\n> **Image:** DFU mode options\n\n12. In the dialog menu, select the DFU package that was downloaded. After that, it will start to update the firmware through DFU over the BLE interface. The upgrade progress will be shown the same as Figure 79.\n\n> **Image:** DFU firmware update progress\n\n13. Upon completion, the RAK4600 will restart automatically, and the DFU connection will be terminated.\n\nNow, the RAK4600 is ready to work with the new firmware.\n","keywords":[],"source_file":"wisduo\\rak4600-module\\quickstart.md","token_count":0}
{"id":"96d91fae585ad8d3ce046c5eb835a68c","product_family":"wisduo","product_id":"rak4600-module","category":"Reference","title":"Redirect to RUI Overview","content":"\n\n<RkRedirect to='/product-categories/software-apis-and-libraries/rui/overview' />","keywords":[],"source_file":"wisduo\\rak4600-module\\rui-secondary-development.md","token_count":10}
