{"id":"1c02946c6a94a63fd91231e4a592bff1","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"RAK3272S Breakout Board AT Command Interface Overview","content":"## Introduction\n\nThe **RAK3272S Breakout Board** is built around the STM32WLE5CC chip and is designed to simplify LoRaWAN and LoRa point-to-point (P2P) communication.\n\nTo integrate LoRa technology into your projects, the RAK3272S provides an easy-to-use UART communication interface, allowing you to send AT commands. These commands enable you to configure parameters for both LoRa P2P and LoRaWAN communication. Additionally, any microcontroller with a UART interface can be used to control the RAK3272S board.\n\nThe UART serial communication interface is available on **UART2 (also identified as the LPUART1 port)**, accessible via **Pin 7 (TX2)** and **Pin 8 (RX2)**. The default UART2 communication settings are **115200 baud rate, 8 data bits, no parity, and 1 stop bit (8-N-1)**. Firmware upgrades can also be performed through this port. For details on the pin distribution and a reference application schematic, consult the [RAK3272S Breakout Board Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/datasheet/).\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\at-command-manual.md","token_count":0}
{"id":"bef30773ef90b81fc75207548a40fb14","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"AT Commands List for RAK3272S","content":"## AT Commands List\n\nThere are two AT Commands set for RAK3272S depending on the firmware uploaded on the device.\n\n1. [RUI3 AT Commands](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/at-command-manual/)\n\n\n> **TIP:** NOTE\nIn addition, aside on UART2 pins, AT commands can also be interfaced via UART1_TX **Pin 5** and UART1_RX **Pin 6** on J5 Header. You can configure the settings of UART1 interfaces via[RUI3 Serial Operating Modes](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/#rak-unified-interface-v3-rui3-serial-operating-modes).\n\n\n1. [AT Commands (DEPRECATED) - FW version 1.0.4 and below.](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/deprecated-at-command/)\n\n\n> **WARNING:** - Some RAK3172 devices come with older firmware versions (v1.0.4 and below) that are not based on RUI3 (RAKwireless Unified Interface V3).\n- If the host microcontroller code is based on older firmware, the [RAK3172 AT Command Migration Guide](https://learn.rakwireless.com/hc/en-us/articles/26687498449559-AT-Command-Migration-Guide-of-RAK3172-to-RUI3-RAKwireless-Unified-Interface-V3/) provides a detailed explanation of the key differences between the two AT command sets.\n\n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\at-command-manual.md","token_count":150}
{"id":"2b3e82a8f711e78b0d6a33ec1b2e726c","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"RAK3272S Breakout Board Overview and Features","content":"## Overview\n\n### Description\n\n**RAK3272S Breakout Board** is designed to provide easy access to the board's pins, streamlining development and testing. Its footprint enables the RAK3172 stamp module pins to be routed to 2.54¬†mm headers.\n\nThe board itself has the RAK3172 at its core, integrating a **STM32WLE5CC** chip. It has an ultra-low power consumption of 1.69¬†uA in sleep mode.\n\nThis module complies with Class A, B, and C of LoRaWAN 1.0.3 specifications. It also supports LoRa Point-to-Point (P2P) communication mode, which helps you in implementing your own customized LoRa network quickly.\n\n### Features\n\n- Based on RAK3172\n- Custom firmware using Arduino via RUI3 API\n- I/O ports: UART/I2C/GPIO/SPI\n- Serial Wire Debug (SWD) interface\n- Module size: 25.4¬†mm x 32.3¬†mm\n- Ultra-low-power consumption of 1.69¬†uA in sleep mode\n- Supply Voltage: 2.0¬†V ~ 3.6¬†V\n- Temperature Range: -20¬∞¬†C ~ 85¬∞¬†C\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\datasheet.md","token_count":0}
{"id":"572564903d30980266f296e17f33f9d8","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"RAK3272S Breakout Board Hardware and Software Specifications","content":"## Specifications\n\n### Overview\n\nThe top view of the RAK3272S Breakout Board is shown in **Figure 1**.\n\n> **Image:** RAK3272S Top and Bottom View\n\n### Hardware\n\nThe hardware specification is categorized into five (5) parts. It discusses the interfacing, pinouts, and their corresponding functions and diagrams. It also covers the electrical and mechanical parameters of the board, including the tabular data of the functionalities and standard values.\n\n#### Interface\n\n##### SWD Programming Interface\n\nWhen programming via a ST-Link tool, it is required to have the following four pins connected to your ST-Link tool:\n\n- 3V3\n- SWDIO\n- SWCLK\n- GND\n\n##### UART Interface\n\nThis board provides two UART interfaces:\n\n- **UART1**: Can be used for AT commands if configured via RUI3 Serial Port Mode.\n- **UART2/LPUART1**: Supports AT commands and firmware updates.\n\n##### I2C and SPI Interface\n\nOnly one I2C and SPI interface of RAK3272S:\n\n- I2C2\n- SPI1\n\n##### RF Interface\n\n**J3** is soldered to the antenna connector. Depending on your choice, it comes with either SMA or IPEX style connector. Make sure to select the one you need when ordering.\n\n#### Pin Definition\n\n> **Image:** RAK3272S Breakout Board Pinout\n\nThe tables below show the pin definition of the RAK3272S Breakout Board:\n\n##### J5 Pin Definitions\n\n| Pin No. |   Name   |             Description             | STM32WLE5CC Pin |\n| :-----: | :------: | :---------------------------------: | :-------------: |\n|    1    | SPI_MOSI |         GPIO and SPI (MOSI)         |       PA7       |\n|    2    | SPI_MISO |         GPIO and SPI (MISO)         |       PA6       |\n|    3    | SPI_CLK  |         GPIO and SPI (CLK)          |       PA5       |\n|    4    |  SPI_CS  |         GPIO and SPI (NSS)          |       PA4       |\n|    5    | UART1_RX |           UART1 Interface           |       PB7       |\n|    6    | UART1_TX |           UART1 Interface           |       PB6       |\n|    7    |   GND    |               Ground                |        -        |\n|    8    |  BOOT0   | Boot0 mode enable pin - high active |        -        |\n|    9    |   3V3    |            Power Supply             |        -        |\n\n##### J4 Pin Definitions\n\n| Pin No. |   Name   |                     Description                     | STM32WLE5CC Pin |\n| :-----: | :------: | :-------------------------------------------------: | :-------------: |\n|    1    | I2C2_SDA |                   I2C2 interface                    |      PA11       |\n|    2    | I2C2_SCL |                   I2C2 interface                    |      PA12       |\n|    3    |   RST    |                      MCU Reset                      |        -        |\n|    4    |   GND    |                       Ground                        |        -        |\n|    5    |  SWDIO   |                SWD debug pin (SWDIO)                |      PA13       |\n|    6    |  SWCLK   |                SWD debug pin (SWCLK)                |      PA14       |\n|    7    | UART2_TX | UART2/LPUART1 Interface (AT Commands and FW Update) |       PA2       |\n|    8    | UART2_RX | UART2/LPUART1 Interface (AT Commands and FW Update) |       PA3       |\n|    9    |   3V3    |            *Power Supply (check warning)            |        -        |\n\n\n> **WARNING:** - The J4 pin definition table applies to **RAK3272S VerC**. For **RAK3272S VerB**, note that **pin 9** is **not 3V3** but is instead **connected to PA8**.\n\n- A dedicated internal SPI interface, called **SUBGHZSPI**, is used for communication with the RF subsystem of the **STM32WLE5CC**.\n\n\n#### RF Characteristics\n\nThe RAK3272S module supports the LoRaWAN bands listed in the table below. When purchasing a RAK3272S module, ensure you specify the correct core module, **RAK3372PL** or **RAK3372**, based on your region. The **L** suffix indicates compatibility with low-frequency regions, while modules without a suffix (**RAK3172P**) are designed for high-frequency regions.\n\n|  Module   | Core Module |    Region     |   Frequency   |\n| :-------: | :---------: | :-----------: | :-----------: |\n| RAK3272SL |  RAK3172PL  |    Europe     |     EU433     |\n|           |  RAK3172PL  |     China     |     CN470     |\n| RAK3272S  |  RAK3172P   |    Europe     |     EU868     |\n|           |  RAK3172P   | North America |     US915     |\n|           |  RAK3172P   |   Australia   |     AU915     |\n|           |  RAK3172P   |     Korea     |     KR920     |\n|           |  RAK3172P   |     Asia      | AS923-1/2/3/4 |\n|           |  RAK3272P   |     India     |     IN865     |\n|           |  RAK3272P   |    Russia     |     RU864     |\n\n#### Electrical Characteristics\n\n##### Power Consumption\n\n|      Feature      | Condition |               Minimum               | Typical | Maximum | Unit  |\n| :---------------: | :-------: | :---------------------------------: | :-----: | :-----: | :---: |\n| Operating Current |  TX Mode  | 87 @¬†20¬†dBm, 868¬†MHz |    -    |    -    |  mA   |\n|                   |  RX Mode  |                5.22                 |    -    |    -    |  mA   |\n|   Sleep Current   |   EU868   |                  -                  |  1.69   |    -    |  uA   |\n|                   |   CN470   |                  -                  |  1.69   |    -    |  uA   |\n\n##### Operating Voltage\n\n| Feature | Minimum | Typical | Maximum | Unit  |\n| :-----: | :-----: | :-----: | :-----: | :---: |\n|   VCC   |   2.0   |   3.3   |   3.6   |   V   |\n\n##### Schematic Diagram\n\n> **Image:** RAK3272S Schematic Diagram\n\n#### Mechanical Characteristics\n\n**Figure 4** show RAK3272S board dimensions.\n\n> **Image:** RAK3272S Mechanical Dimensions\n\n### Software\n\nDownload the latest firmware of the RAK3272S Breakout Board provided below. RAK3272SL and RAK3272S use the same firmware, and it will automatically detect the variant of the module being used.\n\nThe **bin file** contains only the application code and requires the **RAK DFU Tool** to upload it to the module.\n\nThe **hex file** includes both the bootloader and the application code. To upload it, you need to use the [STM32CubeProgrammer](https://learn.rakwireless.com/hc/en-us/articles/26687606549911-How-To-Guide-STM32CubeProgrammer-for-RAK-Modules).\n\n\n> **WARNING:** Uploading the **`.hex`** file using STM32CubeProgrammer will erase all configured data on the device.\n\n\nRAK3272S uses UART2 serial pins to upload the latest firmware.\n\n\n> **TIP:** NOTE\nThe **RAK3272S** should automatically enter BOOT mode when the firmware is uploaded using the **RAK DFU Tool** or **WisToolBox**.\n\nIf BOOT mode is not initiated, send the `AT+BOOT` command to start bootloader mode.\n\n\n#### Firmware / OS\n\n|     Model      |                     Version                     |                                                           Source                                                           |\n| :------------: | :---------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------: |\n| RAK3272S(.bin) |        RUI3 (default baudrate = 115200)         |        [Download](https://downloads.rakwireless.com/RUI/RUI3/Image/RAK3172-E_latest.bin)        |\n| RAK3272S(.hex) |        RUI3 (default baudrate = 115200)         |     [Download](https://downloads.rakwireless.com/RUI/RUI3/Image/RAK3172-E_latest_final.hex)     |\n|    RAK3272S    | **DEPRECATED** V1.0.4 (default baudrate = 9600) | [Download](https://downloads.rakwireless.com/LoRa/RAK3172/Firmware/RAK3172_Latest_Firmware.zip) |\n\n\n> **WARNING:** - Some RAK3172 devices come with older firmware versions (v1.0.4 and below) that are not based on RUI3 (RAKwireless Unified Interface V3).\n- If the host microcontroller code is based on older firmware, the [RAK3172 AT Command Migration Guide](https://learn.rakwireless.com/hc/en-us/articles/26687498449559-AT-Command-Migration-Guide-of-RAK3172-to-RUI3-RAKwireless-Unified-Interface-V3/) provides a detailed explanation of the key differences between the two AT command sets.\n\n\n### Certification\n\n\n> **TIP:** Note\nFor CE and FCC certifications we provide an AT command guide.    \nYou can find it in our [RUI3 documentation](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/certification-guide) or get it from our [Download Center](https://downloads.rakwireless.com/#RUI/RUI3/Certification%20Guide/).\n \n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\datasheet.md","token_count":0}
{"id":"293243ac1f46844414c70880b389e41f","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"Deprecated AT Commands for RAK3272S Breakout Board (FW v1.0.4 and Below)","content":"# RAK3272S Breakout Board Datasheet Deprecated AT Command Manual\n\n\n> **WARNING:** **AT Commands (DEPRECATED) - FW version 1.0.4 and below.**\n- Some RAK3172 devices come with older firmware versions (v1.0.4 and below) that are not based on RUI3 (RAKwireless Unified Interface V3).\n- If the host microcontroller code is based on older firmware, the [RAK3172 AT Command Migration Guide](https://learn.rakwireless.com/hc/en-us/articles/26687498449559-AT-Command-Migration-Guide-of-RAK3172-to-RUI3-RAKwireless-Unified-Interface-V3/) provides a detailed explanation of the key differences between the two AT command sets.\n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\deprecated-at-command.md","token_count":0}
{"id":"b4de64ec961d1838649cfe4c71a513d7","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"AT Command Syntax and Format for RAK3272S Breakout Board","content":"## AT Command Syntax\n\nThe AT command set is based on ASCII characters. Each command typically begins with the prefix `AT` and ends with `<CR><LF>` (i.e., `\\r\\n`). For simplicity, the `\\r\\n` portion is omitted in the rest of this document.\n\nThe AT commands have the standard format ‚ÄúAT+XXX‚Äù, with XXX denoting the command.\n\nThere are four available command formats:\n\n| **AT COMMAND FORMAT**      | **Description**                                   |\n| -------------------------- | ------------------------------------------------- |\n| `AT+XXX?`                  | Provides a short description of the given command |\n| `AT+XXX=?`                 | Read the current value on the command          |\n| `AT+XXX=<input parameter>` | Write a configuration on the command              |\n| `AT+XXX`                   | Used to run a command                             |\n\nThe output of the commands is returned via UART.\n\nThe reply format consists of two parts: the returned value and the status return code.\n\n\n> **TIP:** NOTE\n\n`<CR>` represents \"carriage return,\" and `<LF>` represents \"line feed.\"\n\n\n1. The first reply, **`<value><CR><LF>`**, is returned when executing a command such as **`AT+XXX?`** (description query) or **`AT+XXX=?`** (value reading). This is then followed by the status return code. For commands with no return value, such as **`AT+XXX=<input parameter>`** (writing configuration) or **`AT+XXX`** (run command), only the status return code is returned.\n\n2. The second part of the reply, **`<CR><LF><STATUS><CR><LF>`**, represents the status return code.\n\nThe possible status codes are:\n\n| **STATUS RETURN CODE**   | **Description**                                       |\n| ------------------------ | ----------------------------------------------------- |\n| `OK`                     | Command executed correctly without errors.             |\n| `AT_ERROR`               | Generic error or input is not supported.              |\n| `AT_PARAM_ERROR`         | The input parameter of the command is wrong.          |\n| `AT_BUSY_ERROR`          | The network is busy, so the command is not completed. |\n| `AT_TEST_PARAM_OVERFLOW` | The parameter is too long.                            |\n| `AT_NO_NETWORK_JOINED`   | Module is not yet joined to a network.                |\n| `AT_RX_ERROR`            | Error detected during the reception of the command.   |\n| `AT_DUTYCYLE_RESTRICTED` | Duty cycle limited and cannot send data.              |\n\nMore details on each command description and examples are given in the remainder of this section.\n\n\n> **TIP:** NOTE\n\nIn the examples of AT commands in this document, `ATE` is active, so each input AT command is echoed back before the return values and the status return code.\n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\deprecated-at-command.md","token_count":0}
{"id":"b8b8ea42fef86de20116e7f2e2448907","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Reference","title":"Data Rate, TX Power, and Maximum Transmission Load by Region","content":"## Appendix\n\n### Appendix I: Data Rate by Region\n\n** EU433/EU868/RU864/AS923 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125¬†kHz | 250                                  |\n| 1         | LoRa: SF11 / 125¬†kHz | 440                                  |\n| 2         | LoRa: SF10 / 125¬†kHz | 980                                  |\n| 3         | LoRa: SF9 / 125¬†kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125¬†kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125¬†kHz  | 5470                                 |\n| 6         | LoRa: SF7 / 250¬†kHz  | 11000                                |\n| 7         | FSK: 50¬†kbps         | 50000                                |\n| 8 ~ 15    | RFU                       |                                      |\n\n** CN470/KR920 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125¬†kHz | 250                                  |\n| 1         | LoRa: SF11 / 125¬†kHz | 440                                  |\n| 2         | LoRa: SF10 / 125¬†kHz | 980                                  |\n| 3         | LoRa: SF9 / 125¬†kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125¬†kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125¬†kHz  | 5470                                 |\n| 6 ~ 15    | RFU                       |                                      |\n\n** US915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF10 / 125¬†kHz | 980                                  |\n| 1         | LoRa: SF9 / 125¬†kHz  | 1760                                 |\n| 2         | LoRa: SF8 / 125¬†kHz  | 3125                                 |\n| 3         | LoRa: SF7 / 125¬†kHz  | 5470                                 |\n| 4         | LoRa: SF8 / 500¬†kHz  | 12500                                |\n| 5 ~ 7     | RFU                       |                                      |\n| 8         | LoRa: SF12 / 500¬†kHz | 980                                  |\n| 9         | LoRa: SF11 / 500¬†kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500¬†kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500¬†kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500¬†kHz  | 12500                                |\n| 13        | LoRa: SF7 / 500¬†kHz  | 21900                                |\n| 14 ~ 15   | RFU                       |                                      |\n\n** AU915 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125¬†kHz | 250                                  |\n| 1         | LoRa: SF11 / 125¬†kHz | 440                                  |\n| 2         | LoRa: SF10 / 125¬†kHz | 980                                  |\n| 3         | LoRa: SF9 / 125¬†kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125¬†kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125¬†kHz  | 5470                                 |\n| 6         | LoRa: SF8 / 500¬†kHz  | 12500                                |\n| 7         | RFU                       | RFU                                  |\n| 8         | LoRa: SF12 / 500¬†kHz | 980                                  |\n| 9         | LoRa: SF11 / 500¬†kHz | 1760                                 |\n| 10        | LoRa: SF10 / 500¬†kHz | 3900                                 |\n| 11        | LoRa: SF9 / 500¬†kHz  | 7000                                 |\n| 12        | LoRa: SF8 / 500¬†kHz  | 12500                                |\n\n** IN865 **\n\n| Data Rate | Configuration             | Indicative Physical Bit Rate [bit/s] |\n| --------- | ------------------------- | ------------------------------------ |\n| 0         | LoRa: SF12 / 125¬†kHz | 250                                  |\n| 1         | LoRa: SF11 / 125¬†kHz | 440                                  |\n| 2         | LoRa: SF10 / 125¬†kHz | 980                                  |\n| 3         | LoRa: SF9 / 125¬†kHz  | 1760                                 |\n| 4         | LoRa: SF8 / 125¬†kHz  | 3125                                 |\n| 5         | LoRa: SF7 / 125¬†kHz  | 5470                                 |\n| 6         | RFU                       | RFU                                  |\n| 7         | FSK: 50¬†kbps         | 50000                                |\n| 8 ~ 15    | RFU                       | RFU                                  |\n\n### Appendix II: TX Power by Region\n\n** EU868 **\n\nBy default, MaxEIRP is considered to be +16¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8 ~ 15  | RFU                  |\n\n** US915 **\n\n| TXPower | Configuration (Conducted Power) |\n| ------- | ------------------------------- |\n| 0       | 30¬†dBm - 2*TXpower         |\n| 1       | 28¬†dBm                     |\n| 2       | 26¬†dBm                     |\n| 3 ~ 9   | -                               |\n| 10      | 10¬†dBm                     |\n| 11 ~ 15 | RFU                             |\n\n** AU915 **\n\nBy default, MaxEIRP is considered to be +30¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1 ~ 10  | MaxEIRP - 2*TXPower  |\n| 11 ~ 10 | RFU                  |\n\n** KR920 **\n\nBy default, MaxEIRP is considered to be +14¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8 ~ 15  | RFU                  |\n\n** AS923 **\n\nBy default, Max EIRP is considered to be 16¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8 ~ 15  | RFU                  |\n\n** IN865 **\n\nBy default, MaxEIRP is considered to be 30¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8       | MaxEIRP - 16¬†dB |\n| 9       | MaxEIRP - 18¬†dB |\n| 10      | MaxEIRP - 20¬†dB |\n| 11 ~ 15 | RFU                  |\n\n** RU864 **\n\nBy default, MaxEIRP is considered to be +16¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8 ~ 15  | RFU                  |\n\n** CN470 **\n\nBy default, MaxEIRP is considered to be +19.15¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP 2¬†dB    |\n| 2       | MaxEIRP 4¬†dB    |\n| 3       | MaxEIRP 6¬†dB    |\n| 4       | MaxEIRP 8¬†dB    |\n| 5       | MaxEIRP - 10¬†dB |\n| 6       | MaxEIRP - 12¬†dB |\n| 7       | MaxEIRP - 14¬†dB |\n| 8 ~ 15  | RFU                  |\n\n** EU433 **\n\nBy default, MAxEIRP is considered to be +12.15¬†dBm.\n\n| TXPower | Configuration (EIRP) |\n| ------- | -------------------- |\n| 0       | MaxEIRP              |\n| 1       | MaxEIRP - 2¬†dB  |\n| 2       | MaxEIRP - 4¬†dB  |\n| 3       | MaxEIRP - 6¬†dB  |\n| 4       | MaxEIRP - 8¬†dB  |\n| 5       | MaxEIRP - 10¬†dB |\n| 6 ~ 15  | RFU                  |\n\n### Appendix III: Maximum Transmission Load by Region\n\n\n> **TIP:** NOTE\nM in the following list is the length with MAC header, N is the maximum usable payload size for the user data without MAC header.\n\n\n** EU868 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n** US915 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 19          | 11          |\n| 1         | 61          | 53          |\n| 2         | 133         | 125         |\n| 3         | 250         | 242         |\n| 4         | 250         | 242         |\n| 5 ~ 7     | Not Defined | Not Defined |\n| 8         | 61          | 53          |\n| 9         | 137         | 129         |\n| 10        | 250         | 242         |\n| 11        | 250         | 242         |\n| 12        | 250         | 242         |\n| 13        | 250         | 242         |\n| 14 ~ 15   | Not Defined | Not Defined |\n\n** AU915 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | Not Defined | Not Defined |\n| 8         | 61          | 53          |\n| 9         | 137         | 129         |\n| 10        | 250         | 242         |\n| 11        | 250         | 242         |\n| 12        | 250         | 242         |\n| 13        | 250         | 242         |\n| 14 ~ 15   | Not Defined | Not Defined |\n\n** KR920 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6 ~ 15    | Not Defined | Not Defined |\n\n** AS923 **\n\n| Data Rate | Uplink MAC Payload Size (M) | Downlink MAC Payload Size (M) |  |  |\n| --- | --- | --- | --- | --- |\n|  | UplinkDwellTime = 0 | UplinkDwellTime = 1 | DownlinkDwellTime = 0 | DownlinkDwellTime = 1 |\n| 0 | 59 | N/A | 59 | N/A |\n| 1 | 59 | N/A | 59 | N/A |\n| 2 | 59 | 19 | 59 | 19 |\n| 3 | 123 | 61 | 123 | 61 |\n| 4 | 250 | 133 | 250 | 133 |\n| 5 | 250 | 250 | 250 | 250 |\n| 6 | 250 | 250 | 250 | 250 |\n| 7 | 250 | 250 | 250 | 250 |\n| 8 | RFU | RFU | RFU | RFU |\n\n** IN865 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n** RU864 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 230         | 222         |\n| 5         | 230         | 222         |\n| 6         | 230         | 222         |\n| 7         | 230         | 222         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n** CN470 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6 ~ 15    | Not Defined | Not Defined |\n\n** EU433 **\n\n| Data Rate | M           | N           |\n| --------- | ----------- | ----------- |\n| 0         | 59          | 51          |\n| 1         | 59          | 51          |\n| 2         | 59          | 51          |\n| 3         | 123         | 115         |\n| 4         | 250         | 242         |\n| 5         | 250         | 242         |\n| 6         | 250         | 242         |\n| 7         | 250         | 242         |\n| 8 ~ 15    | Not Defined | Not Defined |\n\n### Appendix IV: Asynchronous Events\n\nThis section describes the output from UART lines of RAK3172 that can occur at any point in time while the device is operational.\n\n| Event                      | UART output         | Status description                                                                                |\n| -------------------------- | ------------------- | ------------------------------------------------------------------------------------------------- |\n| Beacon acquisition process | `+BC:`*< status >*  | `FAILED` - Beacon sync failed                                                                     |\n|                            |                     | `DONE` - Switch to Class B mode                                                                   |\n|                            |                     | `LOST` - No Beacon received for 2 hours, switch to Class A                                        |\n|                            |                     | `LOCKED` - Receive Beacon                                                                         |\n| Pingslot process           | `+PS:`*< status >*  | `DONE` - At this time, ping slots will be opened periodically. The modem is now in Class B mode.  |\n| Class B/C downlink         | `+EVT:`*< status >* | `RX3/RXC, RSSI -110, SNR 5` - Indicates that data has been received on ping slot received window. |\n|                            |                     | `PortNumber:12345678` - Received binary data on PortNumber.                                       |\n|                            |                     | `UNICAST` - Let the host know that the Rx is in unicast Class B mode.                             |\n|                            |                     | `MULCAST MC1` - Data received in multicast group 1                                                |\n| Class A downlink           | `+EVT:`*< status >* | `RX1/RX2, RSSI -110, SNR 5`                                                                       |\n|                            |                     | `PortNumber:12345678` - Received binary data on PortNumber.                                       |\n| Join                       | `+EVT:`*< status >* | `JOIN FAILED`                                                                                     |\n|                            |                     | `JOINED`                                                                                          |\n| Confirm                    | `+EVT:`*< status >* | `SEND CONFIRMED OK`                                                                               |\n|                            |                     | `SEND CONFIRMED FAILED`                                                                           |\n| P2P                        | `+EVT:`*< status >* | `00112233` - Received binary data format data                                                     |\n|                            |                     | `RXP2P, RSSI -110, SNR 5` - Indicates that data has been received on P2P received window.         |\n| Link Check                 | `+EVT:`*< status >* | `LINKCHECK:Y0,Y1,Y2,Y3,Y4`                                                                        |\n|                            |                     | Y0 - represents link status (1: links success, 2: link fail)                                      |\n|                            |                     | Y1 - represents the DemodMargin                                                                   |\n|                            |                     | Y2 - represents the NbGateways                                                                    |\n|                            |                     | Y3 - represents the RSSI of the command‚Äôs download                                                |\n|                            |                     | Y4 - represents the SNR of the command‚Äôs download                                                 |\n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\deprecated-at-command.md","token_count":0}
{"id":"316c8d66b101d6fae1a9da7e11b74b34","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"General","title":"RAK3272S Breakout Board Overview","content":"# RAK3272S Breakout Board\n\nThank you for choosing **RAK3272S Breakout Board** in your awesome IoT project! üéâ To help you get started, we have provided you with all the necessary documentation for your product.\n\n* [Quick Start Guide](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/quickstart/)\n* [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/at-command-manual/)\n* [Deprecated AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/deprecated-at-command/)\n* [Datasheet](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/datasheet/)\n* [AT Command Migration Guide of RAK3172 to RUI3](https://learn.rakwireless.com/hc/en-us/articles/26687498449559-AT-Command-Migration-Guide-of-RAK3172-to-RUI3-RAKwireless-Unified-Interface-V3)\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\overview.md","token_count":0}
{"id":"5df16f8f25c8ac14da6f992aa6a9e490","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Concept","title":"RAK3272S Breakout Board Overview","content":"## Product Description\n\n**RAK3272S Breakout Board** is designed to provide easy access to the board's pins, streamlining development and testing. Its footprint enables the RAK3172 stamp module pins to be routed to 2.54¬†mm headers.\n\nThe board itself has the RAK3172 at its core, integrating a **STM32WLE5CC** chip. It has an ultra-low power consumption of 1.69¬†uA in sleep mode.\n\nThis module complies with Class A, B, and C of LoRaWAN 1.0.3 specifications. It also supports LoRa Point-to-Point (P2P) communication mode, which helps you in implementing your own customized LoRa network quickly.\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\overview.md","token_count":100}
{"id":"558066f7716fe3c66d377660a240116c","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"Concept","title":"RAK3272S Breakout Board Product Features","content":"## Product Features\n\n- Based on RAK3172\n- Custom firmware using Arduino via RUI3 API\n- I/O ports: UART/I2C/GPIO/SPI\n- Serial Wire Debug (SWD) interface\n- Module size: 25.4¬†mm x 32.3¬†mm\n- Supply Voltage: 2.0¬†V ~ 3.6¬†V\n- Temperature Range: -20¬∞¬†C ~ 85¬∞¬†C\n\n\n> **TIP:** Note\nFor CE and FCC certifications we provide an AT command guide.    \nYou can find it in our [RUI3 documentation](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/certification-guide) or get it from our [Download Center](https://downloads.rakwireless.com/#RUI/RUI3/Certification%20Guide/).\n \n\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\overview.md","token_count":100}
{"id":"339df3bdf57e12d38e4ed079cf89994a","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"How-To","title":"RAK3272S WisDuo Breakout Board Quick Start Guide","content":"# RAK3272S WisDuo Breakout Board Quick Start Guide\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\quickstart.md","token_count":8}
{"id":"12ba147b97a30fea54d994c89ba189ce","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"How-To","title":"Prerequisites for RAK3272S Breakout Board Installation","content":"## Prerequisites\n\nBefore going through the steps in the installation guide of the RAK3272S Breakout Board, make sure to prepare the necessary items listed below:\n\n### Hardware\n\n- [RAK3272S Breakout Board](https://store.rakwireless.com/products/wisduo-breakout-board-rak3272s?utm_source=RAK3272SBreakoutBoard&utm_medium=Document&utm_campaign=BuyFromStore)\n- [RAKDAP1 Flash and Debug Tool](https://store.rakwireless.com/products/daplink-tool?utm_source=RAKDAP1&utm_medium=Document&utm_campaign=BuyFromStore) (or any USB-Serial Adapter)\n- Windows/Mac OS/Linux Computer with USB port\n\n### Software\n\n- Download and install the [Arduino IDE](https://www.arduino.cc/en/Main/Software).\n\n----\n\n> **WARNING:** _**For Windows 10 users**_: **DO NOT** install the Arduino IDE from the Microsoft App Store. Instead, install the original Arduino IDE from the [Arduino official website](https://support.arduino.cc/hc/en-us/articles/360019833020-Download-and-install-Arduino-IDE). The Arduino app from the Microsoft App Store has problems using third-party Board Support Packages.\n\n\n----\n\n- Add [RAK3272S as a supported board in Arduino IDE](#rak3272s-rui3-board-support-package-in-arduino-ide) by updating Board Manager URLs in **Preferences** settings of Arduino IDE with this JSON URL `https://raw.githubusercontent.com/RAKWireless/RAKwireless-Arduino-BSP-Index/main/package_rakwireless_com_rui_index.json`. After that, add **RAKwireless RUI STM32 Boards** via Arduino board manager.\n- [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools)\n\n### List of Acronyms\n\n| Acronym | Definition                                       |\n| :-----: | :----------------------------------------------: |\n| DFU     | Device Firmware Upgrade                          |\n| JTAG    | Joint Test Action Group                          |\n| LoRa    | Long Range                                       |\n| OTAA    | Over-The-Air-Activation                          |\n| ABP     | Activation-By-Personalization (ABP)              |\n| TTN     | The Things Network                               |\n| DEVEUI  | Device EUI (Extended Unique Identification)      |\n| APPEUI  | Application EUI (Extended Unique Identification) |\n| APPKEY  | Application Key                                  |\n| DEVADDR | Device Address                                   |\n| NWKSKEY | Network Session Key                              |\n| APPSKEY | Application Session Key                          |\n| P2P     | Point-to-Point                                   |\n","keywords":[],"source_file":"wisduo\\rak3272s-breakout-board\\quickstart.md","token_count":0}
{"id":"654b3719910755e27aab842b99f961dc","product_family":"wisduo","product_id":"rak3272s-breakout-board","category":"How-To","title":"Configuring RAK3272S Breakout Board as a Stand-Alone Device Using RUI3","content":"## Product Configuration\n\n### RAK3272S Breakout Board as a Stand-Alone Device Using RUI3\n\n#### Hardware Setup\n\nThe RAK3272S requires a few hardware connections to function properly. At a minimum, ensure the following components are correctly set up:\n\n- Power section configuration\n- Reset button\n- Antenna\n- USB connection\n\n\n> **WARNING:** - Firmware updates for the RAK3272S are performed via the **UART2 pins**. If you plan to connect the module to an external device interfacing with **UART2**, take extra precautions in your board design to ensure firmware updates can still be performed.\n\n- Your board design should include a mechanism to disconnect the external device from the RAK3272S breakout board's **UART2** pins before connecting the module to a PC (via a USB-UART converter) for the firmware update process.\n\n- An alternative option to update firmware aside from UART2 is to use SWD pins (SWCLK and SWDIO). This method will require the use of external tools like ST-LINK or RAKDAP1.\n\n\n> **Image:** RAK3272S Schematic\n\nEnsure the [antenna](https://store.rakwireless.com/products/lora-antenna?variant=39942879641798) is properly connected to ensure a strong LoRa signal. Additionally, note that powering the module without an antenna connected to the RP-SMA connector can damage the RF section of the chip.\n\n> **Image:** LoRa Antenna\n\nThe RAK3272S features an RP-SMA connector that is compatible with the included LoRa antenna, as illustrated in **Figure 3**.\n\n> **Image:** RP-SMA Connector of RAK3272S for LoRa Antenna\n\n\n> **TIP:** NOTE\nDetailed information about the RAK3272S LoRa antenna can be found on the [antenna datasheet](https://downloads.rakwireless.com/#Accessories/Antenna/SMA-Antenna/).\n\n\n\n> **WARNING:** When using the LoRa transceiver, make sure that an antenna is always connected. Using this transceiver without an antenna can damage the module.\n\n\n#### Software Setup\n\nThe default firmware of the RAK3272S is based on **RUI3**, enabling the development of custom firmware to connect sensors and other peripherals. To create custom firmware using the Arduino IDE:\n\n1. Add **RAKwireless RUI STM32 Boards** in the Arduino Board Manager, as outlined in this guide.\n2. Use **RUI3 APIs** to develop your application.\n3. Upload the custom firmware via **UART**.\n\nThe AT commands for the RAK3272S remain accessible even when custom firmware is compiled and uploaded using RUI3. These commands can be sent via the **UART2** connection.\n\n##### RAK3272S RUI3 Board Support Package in Arduino IDE\n\nIf you don't have an Arduino IDE yet, download it on the [Arduino official website](https://www.arduino.cc/en/Main/Software) and follow the installation procedure in the [miscellaneous section](#miscellaneous) of this document.\n\n\n> **TIP:** NOTE\n**For Windows 10 and up users**:\nIf you installed the Arduino IDE from the Microsoft App Store, uninstall it and reinstall the IDE from the [Arduino official website](https://support.arduino.cc/hc/en-us/articles/360019833020-Download-and-install-Arduino-IDE). The version from the Microsoft App Store has issues with third-party Board Support Packages.\n\n\nAfter successfully installing the Arduino IDE, configure it to add the RAK3272S to its board selection by following these steps:\n\n1. Open Arduino IDE and go to **File** > **Preferences**.\n\n> **Image:** Arduino preferences\n\n2. To add the RAK3272S to your Arduino Boards list, edit the **Additional Board Manager URLs** and click the icon, as shown in **Figure 5**.\n\n> **Image:** Modify Additional Board Manager URLs\n\n3. Copy the URL `https://raw.githubusercontent.com/RAKWireless/RAKwireless-Arduino-BSP-Index/main/package_rakwireless_com_rui_index.json` and paste it on the field. If there are other URLs already there, just add them on the next line. After adding the URL, click **OK**.\n\n> **Image:** Add additional board manager URLs\n\n4. Restart the Arduino IDE.\n5. Open the **Boards Manager** from Tools Menu.\n\n> **Image:** Open Arduino boards manager\n\n6. Type `RAK` in the search bar, as shown in **Figure 8**. This will display the available **RAKwireless module boards** that can be added to your Arduino board list. Select and install the latest version of the **RAKwireless RUI STM32 Boards**.\n\n> **Image:** Install RAKwireless RUI STM32 boards\n\n7. Once the BSP is installed, select  **Tools** > **Boards Manager** > **RAKWireless RUI STM32 Modules** > **WisDuo RAK3172 Evaluation Board**. The RAK3272S Breakout Board uses RAK3172 WisDuo module.\n\n> **Image:** Select WisDuo RAK3172 Evaluation Board\n\n##### Compile an Example with Arduino Serial\n\n1. After adding the **RAK3272S** to the Arduino IDE, test your setup by running a simple program. Ensure a USB connection is included in the schematic of the RAK3272S breakout board, as illustrated in **Figure 10**.\n\n> **Image:** RAK3272S with USB to Serial Schematic\n\n2. Connect the RAK3272S via UART and check RAK3272S COM Port using Windows **Device Manager**. Double-click the reset button if the module is not detected.\n\n> **Image:** Device manager ports (COM & LPT)\n\n3. Select the **RAK3272S** in the board selection by navigating to **Tools > Board > Boards Manager** and choosing **RAKWireless RUI STM32 Modules > WisDuo RAK3172 Evaluation Board**.\n\n> **Image:** Select RAK3272S Breakout Board\n\n4. Open the **Tools** menu and select the COM port. In this case, select **COM28**, as it is currently in use.\n\n> **Image:** Select COM port\n\n5. Click on the **Serial Monitor** icon to connect to the COM port.\n\n> **Image:** Open Arduino serial monitor\n\n6. To test the connection, send AT commands to the **RAK3272S**. For instance, to check the RUI version, type `AT+VER=?` in the text area and click the **Send** button, as shown in **Figure 15**.\n\n> **Image:** Send AT command\n\n> **Image:** Arduino serial monitor COM28\n\n7. Open the **Arduino_Serial** example code.\n\n> **Image:** Arduino Serial example\n\n8. Click on the **Verify** icon to check if you have successfully compiled the example code.\n\n> **Image:** Verify the example code\n\n9. Click the **Upload** icon to send the compiled firmware to your RAK3272S.\n\n\n> **TIP:** NOTE\n- The RAK3272S should automatically go to BOOT mode when the firmware is uploaded via RAK DFU Tool or WisToolBox.\n\n- If the BOOT mode is not initiated, you can manually send `AT+BOOT` command to start bootloader mode.\n\n\n> **Image:** Upload the example code\n\n10. If the upload is successful, you will see the **Device programmed** message.\n\n> **Image:** Device programmed successfully\n\nOnce the device programming is complete, the **Arduino_Serial** example will be operational, indicating successful execution.\n\n\n> **TIP:** NOTE\nMore examples for the RAK3172 can be found in the [RUI3-Best-Practices](https://github.com/RAKWireless/RUI3-Best-Practice) on Github.\n\n\n### RAK3272S Breakout Board as a LoRa/LoRaWAN Modem via AT Command\n\n#### AT Command via UART2\n\nThe **RAK3272S** breakout board can be configured using AT commands via the **UART2** interface. To connect the board to your computer, use a USB to UART TTL adapter and a serial terminal tool. The [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools) is a convenient option for sending AT commands and viewing the console output.\n\nBy default, the **RAK Serial Port Tool** uses the **RUI V2** AT commands, but you can modify the configuration to use **RUI3 AT commands** and save the changes.\n\n\n> **WARNING:** - Firmware updates and AT command functionality are performed via the **UART2** pins. If you plan to connect the module to an external host MCU that sends AT commands via **UART2**, take extra care in your board design to ensure firmware updates can still be performed.\n\n- Your board should include a mechanism to disconnect the host MCU's UART from the **RAK3272S UART2** pins before connecting the module to a PC (via a USB-UART converter) for the firmware update process.\n\n- An alternative option to update firmware aside from UART2 is to use SWD pins (SWCLK and SWDIO). This method will require the use of external tools like ST-LINK or RAKDAP1.\n\n\n##### Connect to the RAK3272S Breakout Board\n\n1. Connect the RAK3272S to the serial port of a general-purpose computer (USB port) using a USB to UART TTL adapter like [RAKDAP1](https://store.rakwireless.com/collections/accessories/products/daplink-tool), as shown in **Figure 21**.\n\n> **Image:** RAK3272S Breakout Board to USB-Serial Connection\n\n2. Any serial communication tool can be used; however, it is recommended to use the [RAK Serial Port Tool](https://downloads.rakwireless.com/#LoRa/Tools) for convenience and compatibility.\n\n3. Configure the serial communication tool by selecting the proper port detected by the computer and configure the link as follows:\n\n * Baud Rate: **115200¬†baud**\n * Data Bits: **8¬†bits**\n * Stop Bits: **1¬†stop¬†bit**\n * Parity: **NONE**\n\n##### RAK3272S I/O Pins and Peripherals\n\nThis section discusses how to use and access RAK3272S peripherals pins using RUI3 APIs. It shows basic code on using Digital I/O Pins, UART, and I2C.\n\n> **Image:** Available Peripheral pins in RAK3272S Breakout Board\n\n###### How to Use Digital I/O\n\nYou can use any of the pins below as Digital Pin:\n\n| **Pin Name** | **J Connector pin** |\n| :----------: | :-----------------: |\n| PA4          | J5 pin 4            |\n| PA5          | J5 pin 3            |\n| PA6          | J5 pin 2            |\n| PA7          | J5 pin 1            |\n| PA8          | J4 pin 1            |\n| PA9          | J4 pin 2            |\n| PB6          | J5 pin 5            |\n| PB7          | J5 pin 6            |\n\n> **Image:** Available Digital I/O pins in RAK3272S\n\n- Use Arduino [digitalRead](https://www.arduino.cc/reference/en/language/functions/digital-io/digitalread/) to read the value from a specified Digital I/O pin, either HIGH or LOW.\n- Use Arduino [digitalWrite](https://www.arduino.cc/reference/en/language/functions/digital-io/digitalwrite/) to write a HIGH or a LOW value to a Digital I/O pin.\n\n\n> **TIP:** NOTE\nThe GPIO Pin Name is the one to be used on the `digitalRead` and `digitalWrite` and NOT the pin numbers.\n\n\n**Example code**\n\n```c\nvoid setup()\n{\n  pinMode(PA7, OUTPUT); //Change the P0_04 to any digital pin you want. Also, you can set this to INPUT or OUTPUT\n}\n\nvoid loop()\n{\n  digitalWrite(PA7,HIGH); //Change the PA0 to any digital pin you want. Also, you can set this to HIGH or LOW state.\n  delay(1000); // delay for 1 second\n  digitalWrite(PA7,LOW); //Change the PA0 to any digital pin you want. Also, you can set this to HIGH or LOW state.\n  delay(1000); // delay for 1 second\n}\n```\n\n###### How to Use Serial Interfaces\n\n**UART**\n\nThere are two UART peripherals available on the RAK3272S. There are also different [Serial Operating Modes](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/serial-operating-modes/) possible in RUI3, namely [Binary Mode](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/binary-command-manual/), [AT Mode](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/at-command-manual/), and [Custom Mode](https://docs.rakwireless.com/product-categories/software-apis-and-libraries/rui3/custom-mode/).\n\n| **Serial Port** | **UART pin number** | **Serial Instance Assignment** | **Default Mode** |\n| :-------------: | :-----------------: | :----------------------------: | :--------------: |\n| UART1_TX        | J5 pin 6            | Serial1                        | Custom Mode      |\n| UART1_RX        | J5 pin 5            | Serial1                        | Custom Mode      |\n| UART2_TX        | J4 pin 7            | Serial                         | AT Command       |\n| UART2_RX        | J4 pin 8            | Serial                         | AT Command       |\n\n> **Image:** Available UART pins in RAK3272S\n\n**Example Code**\n\n```c\nvoid setup()\n{\n  Serial1.begin(115200); // use Serial1 for UART1 and Serial for UART2\n                         // you can designate separate baudrate for each.\n  Serial.begin(115200);\n}\n\nvoid loop()\n{\n  Serial1.println(\"RAK3172 UART1 TEST!\");\n  Serial.println(\"RAK3172 UART2 TEST!\");\n  delay(1000); // delay for 1 second\n}\n\n```\n\n**I2C**\n\nThere is one I2C peripheral available on RAK3272S.\n\n| **I2C Pin Number** | **I2C Pin Name** |\n| :----------------: | :--------------: |\n| J4 pin 1           | I2C2_SDA         |\n| J4 pin 2           | I2C2_SCL         |\n\n- Use Arduino [Wire](https://www.arduino.cc/reference/en/language/functions/communication/wire/) library to communicate with I2C devices.\n\n> **Image:** Available I2C pins in RAK3272S\n\n**Example Code**\n\nMake sure you have an I2C device connected to specified I2C pins to run the I2C scanner code below:\n\n```c\n#include <Wire.h>\n\nvoid setup()\n{\n  Wire.begin();\n\n  Serial.begin(115200);\n  while (!Serial);\n  Serial.println(\"\\nI2C Scanner\");\n}\n\nvoid loop()\n{\n  byte error, address;\n  int nDevices;\n\n  Serial.println(\"Scanning...\");\n\n  nDevices = 0;\n  for(address = 1; address < 127; address++ )\n  {\n    // The i2c_scanner uses the return value of\n    // the Write.endTransmission to see if\n    // a device did acknowledge to the address.\n    Wire.beginTransmission(address);\n    error = Wire.endTransmission();\n\n    if (error == 0)\n    {\n      Serial.print(\"I2C device found at address 0x\");\n      if (address<16)\n        Serial.print(\"0\");\n      Serial.print(address,HEX);\n      Serial.println(\"  !\");\n\n      nDevices++;\n    }\n    else if (error==4)\n    {\n      Serial.print(\"Unknown error at address 0x\");\n      if (address<16)\n        Serial.print(\"0\");\n      Serial.println(address,HEX);\n    }\n  }\n  if (nDevices == 0)\n    Serial.println(\"No I2C devices found\\n\");\n  else\n    Serial.println(\"done\\n\");\n\n  delay(5000);           // wait 5 seconds for next scan\n}\n```\n\nThe Arduino Serial Monitor shows the I2C device found.\n\n```c\n17:29:15.690 -> Scanning...\n17:29:15.738 -> I2C device found at address 0x28  !\n17:29:15.831 -> done\n17:29:15.831 ->\n17:29:20.686 -> Scanning...\n17:29:20.733 -> I2C device found at address 0x28  !\n17:29:20.814 -> done\n17:29:20.814 ->\n```\n\n**SPI**\n\nIf your RUI3 project uses SPI, then J5 pins 1 to 4 are reserved for RUI3 SPI interface.\n\n| **SPI Pin Number** | **SPI Pin Name** |\n| :----------------: | :--------------: |\n| J5 pin 1           | SPI_MOSI         |\n| J5 pin 2           | SPI_MISO         |\n| J5 pin 3           | SPI_CLK          |\n| J5 pin 4           | SPI_CS           |\n\n> **Image:** Available SPI pins in RAK3272S\n\n\n> **TIP:** NOTE\nThe **J4 pins 5 and 6** are reserved for the **SWD debug interface**. Refer to the [Connect to the RAK3272S Breakout Board](#connect-to-the-rak3272s-breakout-board) section for more details.\n\n\n##### RAK3272S Configuration for LoRaWAN or LoRa P2P\n\nTo use the **RAK3272S breakout board** as a **LoRa P2P module** or a **LoRaWAN end-device**, the module must be configured, and the necessary parameters set by sending AT commands. You can configure the RAK3272S in the following ways:\n\n- **[LoRaWAN End-Device](#configure-the-rak3272s-breakout-board-as-lorawan-end-device)**: Set up the RAK3272S breakout board as a LoRaWAN IoT device.\n- **[LoRa P2P](#lora-p2p-mode)**: Enable point-to-point communication between two RAK3272S breakout board modules.\n\n#### Configure the RAK3272S Breakout Board as LoRaWAN End-Device\n\nTo enable the RAK3272S breakout board as a LoRaWAN end-device, a device must be registered first in the LoRaWAN network server. This guide will cover both TTN and Chirpstack LoRaWAN network servers and the associate AT commands for the RAK3272S breakout board.\n\n##### Connect with The Things Network (TTN)\n\nThis section provides a quick tutorial on connecting the **RAK3272S Breakout Board** to the **TTN** platform.\n\n\n> **TIP:** NOTE\n\nFor this guide, ensure you have a functioning gateway connected to **TTN** or are within the coverage area of the **TTN community network**.\n\n\n> **Image:** RAK3272S in the context of the TTN\n\nAs shown in **Figure 22**, The Things Stack (TTN V3) is an open-source LoRaWAN Network Server suitable for global, geo-distributed public and private deployments, as well as for small, local networks. The architecture follows the LoRaWAN Network Reference Model for standards compliance and interoperability. This project is actively maintained by [The Things Industries](https://www.thethingsindustries.com/).\n\nLoRaWAN is a protocol for low-power wide-area networks. It allows for large-scale Internet of Things deployments where low-powered devices efficiently communicate with Internet-connected applications over long-range wireless connections.\n\nThe RAK3272S Breakout Board can be part of this ecosystem as a device, and the objective of this section is to demonstrate how simple it is to send data to The Things Stack using the LoRaWAN protocol. To achieve this, the RAK3272S Breakout Board must be located inside the coverage of a LoRaWAN gateway connected to The Things Stack server.\n\n##### Register for TTN and Create LoRaWAN Applications\n\n1. Visit [The Things Network](https://www.thethingsnetwork.org/) and create an account, as shown in **Figure 28**. After signing up, select a cluster, as illustrated in **Figure 30**.\n\n> **Image:** Sign up an account in TTN\n\n> **Image:** Sign up an account in TTN\n\n> **Image:** Select Cluster in TTN\n\n> **Image:** Sign up through the Things ID\n\n> **Image:** Creation of an account through the Things ID\n\n> **Image:** Creation of an account through the Things ID\n\nIf you already have a TTN V2 account, use the same login credentials. If not, create a new account.\n\n2. Click **Create an application**.\n\n> **Image:** The Things Stack Platform\n\n> **Image:** Create a TTN application for your LoRaWAN devices\n\n3. To register an application, first enter the specific details and necessary information about the application, then click **Create Application**.\n\n> **Image:** Details of the TTN application\n\n> **Image:** Details of the TTN application\n\nIf there were no errors in the previous step, you should now be on the application console page. The next step is to add end-devices to your TTN application.\n\nLoRaWAN specifications enforce that each end-device has to be personalized and activated. Activation can be done either via Over-The-Air-Activation (OTAA) or Activation-By-Personalization (ABP).\n\n##### TTN OTAA Device Registration\n\n1. Go to your application console to register a device. To start adding an OTAA end-device, click **+ Register end device**, as shown in **Figure 38**.\n\n> **Image:** Register end device\n\n2. To register the board, click **Enter end device specifics manually**.\n\n> **Image:** Enter end device specifics manually\n\n3. Configure the **Frequency Plan**, compatible **LoRaWAN Version**, and **Regional Parameters Version** supported by your device. Then, provide the **JoinEUI** credentials by entering zeroes.\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n4. Click **Show advanced activation, LoRaWAN class, and cluster settings**. Configure the activation mode by selecting **Over the Air Activation (OTAA)** and set **Additional LoRaWAN Class Capabilities** to **Class A only**. Finally, click **Confirm**.\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n5. After completing the previous steps, enter the **DevEUI** credentials of your device into the **DevEUI** field. This will automatically generate the specific End Device ID for your board. Next, click **Generate** under **AppKey** in the **Provisioning Information** section. Finally, click **Register End Device**.\n\n\n> **TIP:** NOTE\n\n- The **AppEUI**, **DevEUI**, and **AppKey** are hidden in this section because they are unique to each specific device. The **DevEUI** credential is unique to every **RAK3272S** device. Additionally, you should generate your own **AppEUI** and **AppKey** credentials for your specific device and application.\n\n- The **AppEUI** is the same as **JoinEUI**.\n\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n> **Image:** Register end device\n\nYou should now be able to see the device on the TTN console, as shown in **Figure 49**.\n\n\n> **TIP:** NOTE\n\n- The **AppEUI**, **DevEUI**, and **AppKey** are essential parameters for activating your LoRaWAN end-device via **OTAA**. The **AppKey** is hidden by default for security reasons but can be displayed by clicking the **Show** button. You can quickly copy these parameters using the **Copy** button.\n\n- The three OTAA parameters on the TTN device console are MSB by default.\n\n- These parameters are always accessible on the device console page, as shown in **Figure 36**.\n\n\n> **Image:** OTAA device successfully registered to TTN\n\n##### OTAA Configuration for TTN\n\nThe **RAK3272 Breakout Board**, equipped with a **RAK3172 module**, can be configured for OTAA using **WisToolBox**, a software tool that supports the RAK3172 module. WisToolBox automatically detects the RAK3172 module when connected to a PC. Below are the options available in WisToolBox for performing OTAA configuration:\n\n- [OTAA Configuration for TTN via WisToolBox UI](#otaa-configuration-for-ttn-via-wistoolbox-ui)\n- [OTAA Configuration for TTN via WisToolBox Console](#otaa-configuration-for-ttn-via-wistoolbox-console)\n\n##### OTAA Configuration for TTN via WisToolBox UI\n\nThe **RAK3172** should have correct OTAA credentials to connect to TTN. This can be done using **WisToolBox UI**. Below are the steps on setting up your **RAK3172** using **WisToolBox**.\n\n1. Connect your **RAK3272S** module to the PC using the **RAKDAP** programmer, as described in the [Connect to the RAK3272S](#connect-to-the-rak3272s-breakout-board) section. Then, open the **WisToolBox** application.\n\n2. Click **CONNECT DEVICE** button to launch the WisToolBox Dashboard.\n\n> **Image:** CONNECT DEVICE\n\n3. Select the target port where your **RAK3272S** is connected. Once the device is recognized, click **CONNECT**, as shown in **Figure 52**.\n\n> **Image:** Set up your device\n\n> **Image:** Set up your device\n\n4. After connecting, the **RAK3172** module will appear on the dashboard. Select it to proceed.\n\n> **Image:** Device seen from WisToolBox dashboard\n\n5. Then click **PARAMETERS**.\n\n> **Image:** Set up your device\n\n6. Click **Global settings** to set the network mode into **LoRaWAN** and join mode to **OTAA**. Make sure that the active region is using **EU868** for this configuration. If you wish to work on other regional band, choose among active regions based on your location.\n\n- LoRa network mode: **LoRaWAN**\n- LoRaWAN join mode: **OTAA**\n- LoRaWAN region: **EU868**\n\n> **Image:** Global settings\n\n> **Image:** Global settings\n\n7. Click **LoRaWAN keys, ID, EUI** to configure the **Application EUI (AppEUI)**, **Application key (AppKey)** and **Device EUI (DevEUI)**.\n\n> **Image:** LoRaWAN keys, ID, EUI\n\n> **Image:** Set up your device\n\n8. Return to the **TTN Console** where your **RAK3172 End Device** was previously created. Copy all the credentials, including **AppEUI**, **DevEUI**, and **AppKey**. Enter these credentials into the **WisToolBox** dashboard. Once the credentials are correctly entered, click **APPLY COMMAND** to update your device, as shown in **Figure 66**.\n\n\n> **TIP:** NOTE\n\n- The **AppEUI**, **DevEUI**, and **AppKey** are hidden in this section as these are unique from a specific device.\n\n\n> **Image:** Your created OTAA device from your console\n\n- **For Application EUI (AppEUI)**\n\n> **Image:** Copy the AppEUI credential from TTN to WisToolBox\n\n> **Image:** Copy the AppEUI credential from TTN to WisToolBox\n\n- **For Application key (AppKey)**\n\n> **Image:** Copy the AppKey credential from TTN to WisToolBox\n\n> **Image:** Copy the AppKey credential from TTN to WisToolBox\n\n- **For Device EUI (DevEUI)**\n\n> **Image:** Copy the DevEUI credential from TTN to WisToolBox\n\n> **Image:** Copy the DevEUI credential from TTN to WisToolBox\n\n- **WisToolBox Dashboard**\n\n> **Image:** Used credentials from your console in WisToolBox dashboard\n\n9. After completing the configuration, a summary of the commands applied to your device will be displayed. Click **CLOSE** to finish.\n\n> **Image:** Summary of commands\n\n10. You will be returned to the dashboard, where the updated credentials of your device will be displayed.\n\n> **Image:** Successfully configured OTAA device via WisToolBox dashboard\n\n11. Navigate to **Data on LoRa Network** under **PARAMETERS** in WisToolBox. Click **JOIN NETWORK** under LoRaWAN Join Settings.\n\n> **Image:** Join mode of your OTAA device\n\n12. Wait a few seconds for a notification confirming that your OTAA device has joined the TTN server.\n\n> **Image:** OTAA device successfully joined the TTN server\n\n13. Verify on the **TTN Console** to confirm that your device has successfully joined the TTN.\n\n> **Image:** OTAA device successfully joined the TTN server\n\n##### OTAA Configuration for TTN via WisToolBox Console\n\nHere's another way of OTAA configuration using **WisToolBox Console**. Below are the steps on setting up the **RAK3272S** using **WisToolBox Console**.\n\n1. Connect the **RAK3272S Breakout Board** to the PC using the RAKDAP as shown in **Figure 21**, then open the **WisToolBox** application.\n\n2. Click **CONNECT DEVICE** button to launch the WisToolBox Dashboard.\n\n> **Image:** CONNECT DEVICE\n\n3. select the target port where your **RAK3272S** is connected. Once recognized, click **CONNECT** as shown in **Figure 74**.\n\n> **Image:** Set up your device\n\n> **Image:** Set up your device\n\n4. Once done, the board will appear in the dashboard then select it.\n\n> **Image:** Device seen from WisToolBox dashboard\n\n5. Click **ADVANCED**.\n\n> **Image:** Set up your device\n\n6. Click **OPEN CONSOLE** to do the configuration.\n\n> **Image:** OPEN CONSOLE\n\n> **Image:** Open the Console terminal of WisToolBox\n\n> **Image:** Open the Console terminal of WisToolBox\n\n7. To begin the configuration, type **ATE** to enable command echoing during the setup process. Then press **Enter**.\n\nIt is recommended to start by testing the console and verify that the current configuration is working by sending these two AT commands:\n\n```\nAT\n```\n\n```\nATE\n```\n\n`ATE` is useful for tracking the commands and troubleshooting.\n\nYou will receive `OK` after entering the two commands. Once `ATE` is set, all the commands you input, along with their replies, will be displayed.\n\n\n> **TIP:** NOTE\n\nIf you do not receive an `OK` or any reply, verify that the device is powered correctly. If using a USB port for power, ensure you are using a reliable USB cable.\n\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n8. Next, configure the LoRaWAN join mode to **OTAA**. To check the current parameter, type **AT+NJM?** and press **Enter** in the console terminal.\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n9. For **OTAA**, input **AT+NJM=1** and press **Enter**.\n\n> **Image:** Set up your Console\n\n10. After configuring the join mode, set the LoRaWAN region according to your location. To check the current parameter, type **AT+BAND?** and press **Enter** in the console terminal. For **EU868**, input **AT+BAND=4** and press **Enter**. If you need to configure a different regional band, refer to the list of band parameter options.\n\n```\nAT+BAND=4\n```\n\n\n> **TIP:** NOTE\n\n- Depending on the regional band, configure the sub-band of the RAK3172 to align with the gateway and LoRaWAN network server. This configuration is especially critical for regional bands such as **US915**, **AU915**, and **CN470**.\n\n- To configure channel masking for the sub-bands, use the `AT+MASK` command, as detailed in the [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3172-module/at-command-manual/#at-mask).\n\n- For example, to use sub-band 2, send the command `AT+MASK=0002`.\n\n\n**List of band parameter options**\n\n| Code | Regional Band |\n| :--: | :-----------: |\n| 0    | EU433         |\n| 1    | CN470         |\n| 2    | RU864         |\n| 3    | IN865         |\n| 4    | EU868         |\n| 5    | US915         |\n| 6    | AU915         |\n| 7    | KR920         |\n| 8    | AS923-1       |\n| 9    | AS923-2       |\n| 10   | AS923-3       |\n| 11   | AS923-4       |\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n11. Return to the TTN console where your RAK3172 end device was created, copy the **AppEUI** credential, paste it into the WisToolBox console, and press **Enter**.\n\n> **Image:** Your created OTAA device from your TTN console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the AppEUI credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n12. After completing the AppEUI configuration, repeat the same procedure for the **Application Key (AppKey)** and **Device EUI (DevEUI)**.\n\n- **For Application key (AppKey)**\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the AppKey credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n- **For Device EUI (DevEUI)**\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the DevEUI credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n13. Click **Dashboard** to check the updated credentials of your OTAA device.\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n14. Click **PARAMETERS** to access the **Global Settings** and the **LoRaWAN Keys, ID, EUI** section. Verify that these fields have been updated.\n\n> **Image:** PARAMETERS\n\n> **Image:** Global settings and LoRaWAN keys, ID, EUI\n\n> **Image:** Global settings and LoRaWAN keys, ID, EUI details\n\n15. Return to the WisToolBox console, type **AT+JOIN**, edit it to **AT+JOIN=1**, and press **Enter** to join the network.\n\n\n> **TIP:** NOTE\n- The `AT+JOIN` command parameters are optional. You can configure settings such as auto-join, reattempt interval, and the number of join attempts as needed for your application. If not configured, the command will use default parameter values.\n\n- Both `AT+JOIN` and `AT+JOIN=1` share the same functionality of attempting to join the network.\n\n\nJoin command format: **`AT+JOIN=w:x:y:z`**\n\n| Parameter | Description                                                  |\n| :-------: | :----------------------------------------------------------: |\n| w         | Join command - 1: joining, 0: stop joining.                  |\n| x         | Auto-join config - 1: auto-join on power-up, 0: no auto-join |\n| y         | Reattempt interval in seconds (7-255) - 8 is the default.    |\n| z         | Number of join attempts (0-255) - 0 is default.              |\n\nAfter 5 or 6 seconds, if the request is successfully received by a LoRa gateway, you should see `+EVT:JOINED` status reply.\n\n\n> **TIP:** NOTE\n\nIf the OTAA device fails to join, ensure the following:\n\n1. Verify that your device is within the coverage of a functioning LoRaWAN gateway configured to connect to TTN.\n2. Confirm the accuracy of your OTAA parameters using the commands:\n   - `AT+DEVEUI=?`\n   - `AT+APPEUI=?`\n   - `AT+APPKEY=?`\n3. Ensure the device antenna is properly connected.\n\nAfter addressing these points, attempt to join the network again.\n\n\n> **Image:** Join mode using WisToolBox Console\n\n> **Image:** Join mode using WisToolBox Console\n\n> **Image:** Join mode using WisToolBox Console\n\n> **Image:** Join mode using WisToolBox Console\n\n> **Image:** OTAA device successfully joined the network\n\n> **Image:** OTAA device successfully joined the network\n\n16. With the end-device properly joined the TTN, try to send some payload. Send command format: **`AT+SEND=<port>:<payload>`**\n\n```\nAT+SEND=2:12345678\n```\n\n> **Image:** OTAA device sending payload to the network\n\n> **Image:** OTAA device sending payload to the network\n\n> **Image:** OTAA device sending payload to the network\n\n> **Image:** OTAA device sending payload to the network\n\n17. You will see the data sent by the RAK3172 module on the TTN device console *Live data* section. Also, the *Last seen* info should be a few seconds or minutes ago.\n\n> **Image:** OTAA Test Sample Data Sent Viewed in TTN\n\n##### TTN ABP Device Registration\n\n1. To register an ABP device, navigate to the application console and select the application where the device will be added. Then, click **+ Register end device**, as shown in **Figure 120**.\n\n> **Image:** Add ABP Device\n\n2. Click the **Enter end device specifics manually**.\n\n> **Image:** Enter end device specifics manually\n\n3. Configure the **Frequency Plan**, the compatible **LoRaWAN Version**, and the **Regional Parameters Version** supported.\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n4. Click **Show advanced activation, LoRaWAN class and cluster settings**.\n\n> **Image:** Setup for your device\n\n5. Configure the activation mode by selecting **Activation by personalization (ABP)** and Additional LoRaWAN class capabilities to **class A only**.\n\n> **Image:** Setup for your device\n\n5. Provide the DevEUI credentials of your device into the **DevEUI** portion. This will automatically generate the specific End device ID of your board.\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n6. Click **Generate** under **Device Address**, **AppSKey**, and **NwkSKey** in the **Provisioning Information** section.\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n> **Image:** Setup for your device\n\n7. Click **Register End Device**.\n\n> **Image:** Register end device\n\n\n> **TIP:** NOTE\n\n- The **DevEUI**, **Device Address**, **AppSKey**, and **NwkSKey** are hidden in this section as they are unique to each device. Additionally, you must generate your own **Device Address**, **AppSKey**, and **NwkSKey** credentials for your specific device and application.\n\n\n6. You should now be able to see the device on the TTN console, as shown in **Figure 133**.\n\n> **Image:** ABP device successfully registered to TTN\n\n##### ABP Configuration for TTN\n\nThe **RAK3272 Breakout Board**, which includes a **RAK3172 module**, can be configured for ABP using **WisToolBox**. This software tool supports the **RAK3172 module** and automatically detects the module when connected to a PC. Below are the options available in WisToolBox for ABP configuration:\n\n- [ABP Configuration for TTN via WisToolBox UI](#abp-configuration-for-ttn-via-wistoolbox-ui)\n- [ABP Configuration for TTN via WisToolBox Console](#abp-configuration-for-ttn-via-wistoolbox-console)\n\n##### ABP Configuration for TTN via WisToolBox UI\n\n1. Connect the **RAK3272 Breakout Board** to the PC using the RAKDAP as shown in **Figure 21**, and open the **WisToolBox** application.\n\n2. Click **CONNECT DEVICE** button to launch the WisToolBox Dashboard.\n\n> **Image:** CONNECT DEVICE\n\n3. Then select the target port where the **RAK3272 Breakout Board** is connected. Once recognized, click **CONNECT**.\n\n> **Image:** Set up your device\n\n> **Image:** Set up your device\n\n4. The **RAK3172** will appear on the dashboard; select it to proceed.\n\n> **Image:** Device seen from WisToolBox dashboard\n\n5. Click **PARAMETERS**.\n\n\n> **TIP:** NOTE\n\n- The **AppSKey**, **Device address**, and **NwkSKey** are hidden in this section as these are unique from a specific device.\n\n\n> **Image:** Set up your device\n\n 6. Click **Global settings**.\n\n> **Image:** Global settings\n\n7. Set the network mode to **LoRaWAN** and the join mode to **ABP**. Then, select the active region based on your location.\n\n- LoRa network mode: **LoRaWAN**\n- LoRaWAN join mode: **ABP**\n- LoRaWAN region: **EU868**\n\n> **Image:** Global settings\n\n8. Click **LoRaWAN keys, ID, EUI**.\n\n> **Image:** LoRaWAN keys, ID, EUI\n\n9. Configure the **Application session key (AppSKey)**, **Device address** and **Network session key (NwkSKey)**.\n\n> **Image:** Set up your device\n\n10.  Return to the TTN console where your RAK3172 end device was previously created and copy all the credentials. These credentials will also be used in the WisToolBox dashboard. Once entered into the dashboard, click **APPLY COMMANDS** to update your device, as shown in **Figure 150**.\n\n\n> **TIP:** NOTE\n\n- The **AppSKey**, **Device address**, and **NwkSKey** are hidden in this section as these are unique from a specific device.\n\n\n> **Image:** Your created ABP device from your console\n\n- **For Application session key (AppSKey)**\n\n> **Image:** Copy the AppSKey credential from TTN to WisToolBox\n\n> **Image:** Copy the AppSKey credential from TTN to WisToolBox\n\n- **For Device address**\n\n> **Image:** Copy the Device address credential from TTN to WisToolBox\n\n> **Image:** Copy the Device address credential from TTN to WisToolBox\n\n- **For Network session key (NwkSKey)**\n\n> **Image:** Copy the NwkSKey credential from TTN to WisToolBox\n\n> **Image:** Copy the NwkSKey credential from TTN to WisToolBox\n\n- **WisToolBox Dashboard**\n\n> **Image:** Used credentials from your console in WisToolBox dashboard\n\n11. Once completed, a summary of the commands applied to your device will be displayed. Then, click **CLOSE**.\n\n> **Image:** Summary of commands\n\nYou will be redirected back to the dashboard, where the updated credentials of your device will be displayed.\n\n> **Image:** Successfully configured ABP device via WisToolBox dashboard\n\n##### ABP Configuration for TTN via WisToolBox Console\n\n1. Connect the **RAK3172 Breakout Board** to the PC using the RAKDAP as shown in **Figure 21**, and open the **WisToolBox** application.\n\n2. Click the **CONNECT DEVICE** button to launch the WisToolBox Dashboard.\n\n> **Image:** CONNECT DEVICE\n\n3. Select the target port where the **RAK3272 Breakout Board** is connected. Once recognized, click **CONNECT**.\n\n> **Image:** Set up your device\n\n> **Image:** Set up your device\n\n4. The **RAK3172** will appear on the dashboard; select it to proceed.\n\n> **Image:** Device seen from WisToolBox dashboard\n\n5. Click **ADVANCED**.\n\n> **Image:** Set up your device\n\n6. Click **OPEN CONSOLE**.\n\n> **Image:** OPEN CONSOLE\n\n> **Image:** Open the Console terminal of WisToolBox\n\n> **Image:** Open the Console terminal of WisToolBox\n\n7. To begin the configuration, type `ATE` to enable command echoing during the setup process. Then press **Enter**.\n\nIt is recommended to start by testing the console and verify that the current configuration is working by sending these two AT commands:\n\n```\nAT\n```\n\n```\nATE\n```\n\n`ATE` is useful for tracking the commands and troubleshooting.\n\nYou will receive `OK` after entering the two commands. Once `ATE` is set, all the commands you input, along with their replies, will be displayed.\n\n\n> **TIP:** NOTE\n\nIf you do not receive an `OK` or any reply, verify that the device is powered correctly. If using a USB port for power, ensure you are using a reliable USB cable.\n\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n8. Configure the LoRaWAN join mode to **ABP**. Check the current parameter by typing **AT+NJM?** and pressing **Enter** in the console terminal.\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n9. For **ABP**, input **AT+NJM=0** and press **Enter**.\n\n> **Image:** Set up your Console\n\n10. Set up your LoRaWAN region. Check the available parameters by typing **AT+BAND?** and pressing **Enter** in the console terminal.\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n11. For **EU868**, input **AT+BAND=4** and press **Enter**. If you need to configure a different regional band, refer to the list of available band parameter options.\n\n```\nAT+BAND=4\n```\n\n\n> **TIP:** NOTE\n\n- Depending on the regional band selected, you may need to configure the sub-band of your **RAK3172** to match the gateway and LoRaWAN network server. This step is especially critical for regional bands like **US915**, **AU915**, and **CN470**.\n\n- To configure the channel masking for the sub-bands, use the `AT+MASK` command, as detailed in the [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3172-module/at-command-manual/#at-mask).\n\n- For example, to use sub-band 2, send the command:\n**`AT+MASK=0002`**.\n\n\n**List of band parameter options**\n\n| Code | Regional Band |\n| :--: | :-----------: |\n| 0    | EU433         |\n| 1    | CN470         |\n| 2    | RU864         |\n| 3    | IN865         |\n| 4    | EU868         |\n| 5    | US915         |\n| 6    | AU915         |\n| 7    | KR920         |\n| 8    | AS923-1       |\n| 9    | AS923-2       |\n| 10   | AS923-3       |\n| 11   | AS923-4       |\n\n> **Image:** Set up your Console\n\n12. Return to the TTN console where the RAK3172 was created, copy the **AppSKey** credential, paste it into the WisToolBox console, and press **Enter**.\n\n> **Image:** Your created ABP device from your TTN console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the AppSKey credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n13. Repeat the procedure for the **Device Address** and **Network Session Key (NwkSKey)**.\n\n- **For Device address**\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the Device address credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n- **For Network session key (NwkSKey)**\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n> **Image:** Copy the NwkSKey credential from TTN to WisToolBox\n\n> **Image:** Set up your Console\n\n14. Once completed, click **Dashboard** to verify the updated credentials of your ABP device.\n\n> **Image:** Set up your Console\n\n> **Image:** Set up your Console\n\n15. Click **PARAMETERS**.\n\n> **Image:** PARAMETERS\n\n16. Open the **Global Settings**.\n\n> **Image:** Global settings and LoRaWAN keys, ID, EUI\n\n17. Verify that the **LoRaWAN Keys, ID, EUI** fields have been updated.\n\n> **Image:** Global settings and LoRaWAN keys, ID, EUI details\n\nYou now have a configured ABP device using the WisToolBox console. **ABP-configured devices** are directly connected to the network once the above procedures are completed, so no joining procedure is required.\n\n18. To send a payload to TTN, reopen the terminal console in WisToolBox. Use the following command format:\n**`AT+SEND=<port>:<payload>`**.\n\n```\nAT+SEND=2:12345678\n```\n\n> **Image:** ABP device sending payload to the network\n\n> **Image:** ABP device sending payload to the network\n\n> **Image:** ABP device sending payload to the network\n\n> **Image:** ABP device sending payload to the network\n\n19. You will see the data sent by the RAK3172 module on the TTN device console *Live data* section. Also, the *Last seen* info should be a few seconds or minutes ago.\n\n> **Image:** ABP Test Sample Data Sent Viewed in TTN\n\n##### Connect with ChirpStack\n\nThis section demonstrates how to connect the **RAK3272S Breakout Board** to the **ChirpStack** platform.\n\n> **Image:** RAK3272S Breakout Board in the Context of the ChirpStack Platform\n\nThe ChirpStack or previously known as the LoRaServer project provides open-source components for building LoRaWAN networks. Like the case of TTN, the RAK3272S Breakout Board is located in the periphery and will transmit the data to the backend servers through a LoRaWAN gateway. Learn more about [ChirpStack](https://www.chirpstack.io/).\n\n\n> **TIP:** NOTE\n\nIt is assumed that you are using RAK Gateway and its built-in ChirpStack. Also, the gateway with the ChirpStack must be configured successfully. For further information, check the RAK documents.\n\n\n* In summary, these are the requirements:\n\n  1. Have ChirpStack online gateway, the frequency band of the nodes should be consistent with the frequency band of the gateway in use.\n  2.  The RAK Serial Port Tool provided by RAK\n  3.  RAK3272S Breakout Board\n\n\n> **TIP:** NOTE\nThe frequency band used in the demonstration is EU868. Use a high-frequency version of RAK3272S. The product number should be ‚Äú**RAK3272S (H)**‚Äù.\n\n\n##### Create a New Application\n\n1. Log in to the ChirpStack server using your account and password.\n\n2. Go to the **Application** section.\n\n> **Image:** Application Section\n\n3. Create a new Application by clicking on the **CREATE** button, and filling the required parameters.\n\n> **Image:** Create a New Application\n\n* For this setup, create an Application named ‚Äú**rak_node_test**‚Äù.\n\nThe **ChirpStack LoRaServer** supports multiple system configurations, with one configuration set as default:\n\n- **Service Profile**: Used to select the system profile.\n- **Payload Codec**: Defines the parsing method for load data, such as parsing LPP format data.\n\n> **Image:** Fill in the Parameters of an Application\n\n**Register a New Device**\n\n1. Choose the **Application** created in the previous step, then select the **DEVICES** tab.\n\n> **Image:** List of Applications Created\n\n2. Once done, click **+ CREATE**.\n\n> **Image:** Device Tab of an Application\n\n3. Within the **DEVICE** tab, create a new device (LoRaWAN node) by clicking the **+ CREATE** button.\n\n> **Image:** Add a New Device\n\n> **Image:** Chirpstack Adding Node into the RAK3272S Breakout Board\n\n4. After creating the node, fill in the required information. You can either generate a Device EUI automatically by clicking the icon or manually enter a valid Device EUI in the edit box.\n\nFill in the parameters requested:\n\n* **Device name and Device description**: These are descriptive texts about your device.\n\n* **Device EUI**: This interface allows you to generate a Device EUI automatically by clicking the generate icon. You can also add a specific Device EUI directly in the form.\n\n* **Device Profile**:\n  * If you want to join in OTAA mode, select **DeviceProfile_OTAA**.\n  * If you want to join in ABP mode, select **DeviceProfile_ABP**.\n\n\n> **TIP:** NOTE\n- Device profiles **DeviceProfile_OTAA** and **DeviceProfile_ABP** are only available if you are using the built-in Chirpstack LoRaWAN Server of RAK Gateways.\n- If you have your own Chirpstack installation, you can set up the device profile with `LoRaWAN MAC version 1.0.4` and `LoRaWAN Regional Parameters revision B` to make it compatible with RAK3272S.\n\n\n> **Image:** Generate a New Device EUI\n\n##### Chirpstack OTAA Device Registration\n\n1. If you have selected **DeviceProfile_OTAA**, as shown in **Figure 205**, an **Application Key** must be created for the device after it is set up.\n\n> **Image:** Chirpstack OTAA Activation\n\n2. You can either enter a previously created **Application Key** or generate a new one automatically by clicking the icon highlighted in red in **Figure 206**.\n\n> **Image:** Chirpstack OTAA Set Application Keys\n\n3. Once the Application Key is added to the form, the process can be finalized by clicking on the **SET DEVICE-KEYS** button.\n\n* As shown in **Figure 207**, the new device will appear in the **DEVICES** tab. Key parameters, such as the **Device EUI**, are displayed in the summary.\n\n> **Image:** Chirpstack OTAA List of Device in the Device Tab\n\n4. To end the process, it is a good practice to review that the Application Key is properly associated with this device. The Application Key can be verified in the **KEYS(OTAA)** tab, as shown in **Figure 208**.\n\n> **Image:** Application Key Associated with the New Device\n\n\n> **TIP:** NOTE\n\nStandard OTAA mode requires the **Device EUI**, **Application Key**, and **Application EUI**. However, in ChirpStack's implementation, only the **Device EUI** and **Application Key** are mandatory. The **Application EUI** is not required and is not recorded in the Application tab. Nonetheless, you can reuse the **Device EUI** as the **Application EUI** during the node configuration.\n\n\n##### OTAA Configuration for Chirpstack\n\nThe RAK3272S Breakout Board supports a series of AT commands to configure its internal parameters and control the functionalities of the board.\n\n1. To set up the RAK3272S Breakout Board to join the Chirpstack using OTAA, start by connecting the RAK3272S Breakout Board to the computer (see [**Figure 21**](#connect-to-the-rak3272s-breakout-board)) and open the RAK Serial Port Tool. Select the right COM port and set the baud rate to 115200.\n\nIt is recommended to start by testing the serial communication and verify that the current configuration is working by sending these two AT commands:\n\n```\nAT\n```\n\n```\nATE\n```\n\n`ATE` will echo the commands you input to the board which is useful for tracking the commands and troubleshooting.\n\nYou will receive `OK` after entering the two commands. Once `ATE` is set, you will see all the commands you input along with their replies. Try entering `AT` again, and it should appear in the terminal followed by `OK`, as shown in **Figure 209**.\n\n\n> **TIP:** NOTE\n\nIf there is no `OK` or any reply, verify the following:\n\n1. Check if the wiring of your UART lines is correct.\n2. Ensure the baud rate is properly configured to **115200**.\n3. Confirm that the device is powered correctly.\n4. If using a USB port for power, make sure you are using a reliable USB cable.\n\n\n> **Image:** at+version command response\n\n2. Configure the OTAA LoRaWAN parameters in RAK3272S:\n\n- LoRa work mode: **LoRaWAN**\n- LoRaWAN join mode: **OTAA**\n- LoRaWAN class: **Class A**\n- LoRaWAN region: **EU868**\n\nSet the work mode to LoRaWAN.\n\n```\nAT+NWM=1\n```\n\nSet the LoRaWAN activation to OTAA.\n\n```\nAT+NJM=1\n```\n\nSet the LoRaWAN class to Class A.\n\n```\nAT+CLASS=A\n```\n\nSet the frequency/region to EU868.\n\n```\nAT+BAND=4\n```\n\n\n> **TIP:** NOTE\n\n- Based on the regional band selected, configure the sub-band of your **RAK3272S** to align with the gateway and LoRaWAN network server. This is especially critical for regional bands such as **US915**, **AU915**, and **CN470**.\n\n- Use the `AT+MASK` command to configure channel masking for the sub-bands. Refer to the [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/at-command-manual/) for details.\n\n- For example, to use sub-band 2, send the command:\n  **`AT+MASK=0002`**.\n\n\n**List of band parameter options**\n\n| Code | Regional Band |\n| :--: | :-----------: |\n| 0    | EU433         |\n| 1    | CN470         |\n| 2    | RU864         |\n| 3    | IN865         |\n| 4    | EU868         |\n| 5    | US915         |\n| 6    | AU915         |\n| 7    | KR920         |\n| 8    | AS923-1       |\n| 9    | AS923-2       |\n| 10   | AS923-3       |\n| 11   | AS923-4       |\n\n> **Image:** Configure LoRa Parameters\n\n3. Set up the **DevEUI** and **AppKey** using the values provided in the ChirpStack device console.\n\n\n> **TIP:** NOTE\nThe Application EUI parameter is not required in the ChirpStack platform; therefore, it is possible to use the same id as the Device EUI.\n\n\n- Device EUI: **5E9D1E0857CF25F1**\n- Application EUI: **5E9D1E0857CF25F1**\n- Application Key: **F921D50CD7D02EE3C5E6142154F274B2**\n\nSet the Device EUI.\n\n```\nAT+DEVEUI=5E9D1E0857CF25F1\n```\n\nSet the Application EUI.\n\n```\nAT+APPEUI=5E9D1E0857CF25F1\n```\n\nSet the Application Key.\n\n```\nAT+APPKEY=F921D50CD7D02EE3C5E6142154F274B2\n```\n\n> **Image:** Configure LoRa Parameters\n\n4. After configuring the **EUI** and **AppKey**, the device is ready to join the network and send payloads.\n\n```\nAT+JOIN=1:0:10:8\n```\n\nJoin command format: **`AT+JOIN=w:x:y:z`**\n\n| Parameter | Description                                                  |\n| :-------: | :----------------------------------------------------------: |\n| w         | Join command - 1: joining, 0: stop joining.                  |\n| x         | Auto-join config - 1: auto-join on power up, 0: no auto-join |\n| y         | Reattempt interval in seconds (7-255) - 8 is the default.    |\n| z         | Number of join attempts (0-255) - 0 is default.              |\n\n5. After 5 or 6 seconds, if the request is successfully received by a LoRaWAN gateway, then you should see JOINED status reply.\n\n\n> **TIP:** NOTE\n\n- If the OTAA device fails to join, verify that the device is within the coverage area of a functional LoRaWAN gateway configured to connect to ChirpStack. Ensure that the OTAA parameters (**DevEUI** and **AppKey**) are correct by using the commands:\n  - `AT+DEVEUI=?`\n  - `AT+APPKEY=?`\n  Lastly, check that the antenna is properly connected to your device.\n\n- After confirming these details, try joining the network again.\n\n\n6. With the end-device properly activated, try to send some payload after successful join.\n\n```\nAT+SEND=2:12345678\n```\n\nSend command format: **`AT+SEND=<port>:<payload>`**\n\n> **Image:** OTAA Test Sample Data Sent via RAK Serial Port Tool\n\n7. On the ChirpStack platform, you should see the join and uplink messages in the LORAWAN FRAMES tab, as shown in **Figure 213**. By convention, messages sent from nodes to gateways are considered as **Uplinks** while messages sent by gateways to nodes are considered as **Downlinks**.\n\n> **Image:** Chirpstack Data Received Preview\n\n##### Chirpstack ABP Device Registration\n\n1. During the registration of a new device, if you select **DeviceProfile_ABP**, as shown in **Figure 214**, then the ChirpStack platform will assume that this device will join the LoRaWAN network using the ABP mode.\n\n\n> **TIP:** NOTE\n\nCheck **Disable counting frame verification**. During the test, when the board is restarted, the frame counting number will be also be restarted from zero. This would cause a synchronization problem with the ChirpStack server treating it as a replay attack. For the testing purpose, it is safe to disable this feature, but remember to activate it in a production environment.\n\n\n> **Image:** ChirpStack Console, Configuring a Device\n\n2. After selecting the ABP mode, the following parameters appear in the Activation tab, then you can see that there are some parameters for ABP in the **ACTIVATION** item:\n\n  * **Device address**\n  * **Network Session Key**\n  * **Application Session Key**\n\n> **Image:** Chirpstack ABP Activation Parameters Needed\n\n3. The parameters can be generated as random numbers by the platform or can be set with user values. Once these parameters are filled in properly, the process is completed by clicking on the **ACTIVATE DEVICE** button.\n\n##### ABP Configuration for Chirpstack\n\n1. To set up the RAK3272S Breakout Board to join the Chirpstack using ABP, start by connecting the RAK3272S Breakout Board to the computer (see [**Figure 21**](#connect-to-the-rak3272s-breakout-board)) and open the RAK Serial Port Tool. Select the right COM port and set the baud rate to 115200.\n\nIt is recommended to start by testing the serial communication and verify that the current configuration is working by sending these two AT commands:\n\n```\nAT\n```\n\n```\nATE\n```\n\n`ATE` will echo the commands you input to the board which is useful for tracking the commands and troubleshooting.\n\nYou will receive `OK` after entering the two commands. Once `ATE` is set, you will see all the commands you input along with their replies. Try entering `AT` again, and it should appear in the terminal followed by `OK`.\n\n\n> **TIP:** NOTE\n\nIf there is no `OK` or any reply, verify the following:\n\n1. Check if the wiring of your UART lines is correct.\n2. Ensure the baud rate is properly configured to **115200**.\n3. Confirm that the device is powered correctly.\n4. If using a USB port for power, make sure you are using a reliable USB cable.\n\n\n> **Image:** at+version command response\n\n2. The next step is to configure the ABP LoRaWAN parameters in RAK3272S:\n\n- LoRa work mode: **LoRaWAN**\n- LoRaWAN join mode: **ABP**\n- LoRaWAN class: **Class A**\n- LoRaWAN region: **EU868**\n\nSet the work mode to LoRaWAN. It can be set to P2P as well, but by default, the device is in LoRaWAN mode.\n\n```\nAT+NWM=1\n```\n\nSet the LoRaWAN activation to ABP.\n\n```\nAT+NJM=0\n```\n\nSet the LoRaWAN class to Class A.\n\n```\nAT+CLASS=A\n```\n\nSet the frequency/region to EU868.\n\n```\nAT+BAND=4\n```\n\n\n> **TIP:** NOTE\n\n- Based on the regional band selected, configure the sub-band of your **RAK3272S** to align with the gateway and LoRaWAN network server. This is especially critical for regional bands such as **US915**, **AU915**, and **CN470**.\n\n- Use the `AT+MASK` command to configure channel masking for the sub-bands. Refer to the [AT Command Manual](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/at-command-manual/) for details.\n\n- For example, to use sub-band 2, send the command:\n  **`AT+MASK=0002`**.\n\n\n**List of band parameter options**\n\n| Code | Regional Band |\n| :--: | :-----------: |\n| 0    | EU433         |\n| 1    | CN470         |\n| 2    | RU864         |\n| 3    | IN865         |\n| 4    | EU868         |\n| 5    | US915         |\n| 6    | AU915         |\n| 7    | KR920         |\n| 8    | AS923-1       |\n| 9    | AS923-2       |\n| 10   | AS923-3       |\n| 11   | AS923-4       |\n\n> **Image:** Configure LoRa Parameters\n\n3. Set up the **Device Address**, **AppSKey**, and **NwkSKey** using the values provided in the ChirpStack device console.\n\n- Device Address: **26011AF9**\n- Application Session Key: **4D42EC5CAF97F03D833CDAf5003F69E1**\n- Network Session Key: **C280CB8D1DF688BC18601A97025C5488**\n\nSet the Device Address.\n\n```\nAT+DEVADDR=26011AF9\n```\n\nSet the Application Session Key.\n\n```\nAT+APPSKEY=4D42EC5CAF97F03D833CDAf5003F69E1\n```\n\nSet the Network Session Key.\n\n```\nAT+NWKSKEY=C280CB8D1DF688BC18601A97025C5488\n```\n\n> **Image:** Configure LoRa Parameters\n\n4. After configuring the **EUI** and keys, the device is ready to join the network and send payloads.\n\n```\nAT+JOIN=1:0:10:8\n```\n\nJoin command format: **`AT+JOIN=w:x:y:z`**\n\n| Parameter | Description                                                  |\n| :-------: | :----------------------------------------------------------: |\n| w         | Join command - 1: joining, 0: stop joining.                  |\n| x         | Auto-join config - 1: auto-join on power-up, 0: no auto-join |\n| y         | Reattempt interval in seconds (7-255) - 8 is the default.    |\n| z         | Number of join attempts (0-255) - 0 is default.              |\n\n5. After 5 or 6 seconds, if the request is successfully received by a LoRaWAN gateway, you should see JOINED status reply.\n\nNow, try to send some payload after successful join.\n\n```\nAT+SEND=2:12341234\n```\nSend command format: **`AT+SEND=<port>:<payload>`**\n\n> **Image:** ABP Test Sample Data Sent via RAK Serial Port Tool\n\n#### LoRa P2P Mode\n\nThis section explains how to set up and connect two **RAK3272S** units for operation in **LoRa P2P mode**. The configuration of each **RAK3272S** unit is performed by connecting the modules to a general-purpose computer using a **USB-UART converter**.\n\nEach unit can be configured separately, but testing the LoRa P2P mode requires both units to be connected simultaneously. This can be achieved using one computer with two USB ports or two computers with one USB port each.\n\nIt is recommended to start by testing the serial communication and verify the current configuration is working by sending these two AT commands:\n\n```\nAT\n```\n\n```\nATE\n```\n\n`ATE` will echo the commands you input to the module, which is useful for tracking the commands and troubleshooting.\n\nYou will receive `OK` after entering the two commands. Once `ATE` is set, you will see all the commands you input along with their replies. Try entering `AT` again, and it should appear in the terminal followed by `OK`.\n\n> **Image:** at+version command response\n\n1. To set up the **RAK3272S** for LoRa P2P mode, change the LoRa network mode on both **RAK3272S Breakout Boards** using the appropriate command.\n\n```\nAT+NWM=0\n```\n`AT+NWM` parameter mode can be either 0=LoRa P2P or 1=LoRaWAN.\n\n> **Image:** P2P Mode\n\n\n> **TIP:** NOTE\n- The device will start automatically if you change modes from LoRaWAN to LoRa P2P and vice-versa.\n- You might need to input the `ATE` command again to ensure that your succeeding commands on P2P mode echo on the terminal.\n\n\n2. You need to input the P2P setup on both RAK3272S Breakout Board. The parameters should be exactly the same on the two modules.\n\n```\nAT+P2P=868000000:7:125:0:10:14\n```\n\nFor this P2P setup, the LoRa parameters are the following:\n\n- Link frequency: **868000000¬†Hz**\n- Spreading factor: **7**\n- Bandwidth: **125¬†kHz**\n- Coding Rate: 0 = **4/5**\n- Preamble Length: **10**\n- Power: **14¬†dBm**\n\n\n> **TIP:** NOTE\nRefer to the P2P Mode section of the [AT command documentation](https://docs.rakwireless.com/product-categories/wisduo/rak3272s-breakout-board/at-command-manual/) to learn more about the definition of the parameters used and the individual commands if you want specific parameter changed.\n\n\n> **Image:** Configure P2P in both RAK3272S Breakout Board\n\n3. To set one module as the receiver (RX), set the value of the P2P receive command.\n\n\n> **TIP:** NOTE\nLoRa P2P default setting is Transmitter (TX) mode. This consumes lower power compared to Receiver (RX) mode where the radio is always listening for LoRa packets.\n\n\na. P2P LoRa RX configurable duration value is from 1 to 65533¬†ms. In this example, the device will listen and wait for LoRa P2P Packets for 30000¬†ms or 30¬†seconds. It will automatically disable RX mode and switch to TX mode after the timeout. If the device did not receive any packets within the time period, then the callback after timeout is `+EVT:RXP2P RECEIVE TIMEOUT`.\n\n```\nAT+PRECV=30000\n```\nb. If the `AT+PRECV` value is set to **65535**, the device will listen to P2P LoRa packets without a timeout, but it will stop listening once a P2P LoRa packet is received. After done receiving the packets, it will disable RX mode and automatically switch to TX mode again.\n\n```\nAT+PRECV=65535\n```\n\nc. If the `AT+PRECV` value is set to **65534**, the device will continuously listen to P2P LoRa packets without any timeout. The will continuously stay in RX mode until `AT+PRECV` is set to **0**.\n\n```\nAT+PRECV=65534\n```\n\nd. If the `AT+PRECV` value is set to **0**, the device will stop listening to P2P LoRa packets. It disables LoRa P2P RX mode and switch to TX mode.\n\n```\nAT+PRECV=0\n```\n\n4. With one module configured as Transmitter (TX) and the other device will be the Receiver (RX), you can now try to send or transmit P2P payload data.\n\n```\nAT+PSEND= <payload>\n```\n\n> **TIP:** NOTE\n- `AT_PARAM_ERROR` is returned when setting wrong or malformed value.\n- `AT_BUSY_ERROR` is returned if the device is still in RX mode and you try to send or reconfigure RX period. If the `AT+PRECV` command is set to **65534**, execute first `AT+PRECV=0` to be able to configure again the TX and RX state and avoid `AT_BUSY_ERROR`.\n- `<payload>`: 2\\~500 digit length, must be an even number of digits and character 0-9, a-f, A-F only, representing 1~256 hexadecimal numbers. For example, if the payload is like ` 0x03, 0xAA, 0x32`, therefore the AT command should be `AT+PSEND = 03AA32`.\n\n\n> **Image:** Configure P2P in both RAK3272S Module\n","keywords":["RAK3272S","Breakout Board","RUI3","Hardware Setup","Software Setup","Arduino IDE","AT Commands","UART2","SWD","Firmware Update"],"source_file":"wisduo\\rak3272s-breakout-board\\quickstart.md","token_count":0}
